<?xml version="1.0" encoding="utf-8"?>
<package xmlns='http://ns.saxonica.com/xslt/export' xmlns:fn='http://www.w3.org/2005/xpath-functions' xmlns:java-type='http://saxon.sf.net/java-type' xmlns:vv='http://saxon.sf.net/generated-variable' xmlns:xs='http://www.w3.org/2001/XMLSchema' when='2022-10-04T13:10:40.3828303+02:00' expiry='2023-01-31' id='0' version='30' packageVersion='1' saxonProduct='SAXON-EE' saxonVersion='11.4' buildDateTime='2022-10-04T13:10:40.3828303+02:00' target='EE' targetVersion='1' relocatable='true' implicit='true'>
 <glob use='opt' type='document-node()'/>
 <co id='0' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}is-ws-only-text-node-significant' line='47' module='user-content-utils.xsl' eval='8' flags='pU' as='1AB' slots='2'>
   <arg name='Q{}ws-only-text-node' as='1NT'/>
   <arg name='Q{}preserve-space-qnames' as='*AQ'/>
   <slash role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='59'>
    <varRef name='Q{}ws-only-text-node' slot='0'/>
    <or op='or'>
     <or op='or'>
      <fn name='exists'>
       <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}text'/>
      </fn>
      <vc op='eq' onEmpty='0' comp='CCC'>
       <atomSing card='?' diag='1|0||eq'>
        <slash simple='1'>
         <first>
          <filter flags='b'>
           <axis name='ancestor' nodeTest='NE'/>
           <fn name='exists'>
            <axis name='attribute' nodeTest='NA nQ{http://www.w3.org/XML/1998/namespace}space'/>
           </fn>
          </filter>
         </first>
         <axis name='attribute' nodeTest='NA nQ{http://www.w3.org/XML/1998/namespace}space'/>
        </slash>
       </atomSing>
       <str val='preserve'/>
      </vc>
     </or>
     <gcEE op='=' card='N:1' comp='EQC'>
      <varRef name='Q{}preserve-space-qnames' slot='1'/>
      <fn name='node-name'>
       <check card='?' diag='0|0||fn:node-name'>
        <axis name='parent' nodeTest='NE'/>
       </check>
      </fn>
     </gcEE>
    </or>
   </slash>
  </function>
 </co>
 <co id='1' binds='2 3'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}function-call-text' line='35' module='compile-scenario.xsl' eval='16' flags='pU' as='1NT' slots='1'>
   <arg name='Q{}call' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='39' card='1' diag='5|0|XTTE0780|x:function-call-text#1'>
    <forEach>
     <varRef name='Q{}call' slot='0'/>
     <valueOf line='53'>
      <fn name='string-join'>
       <convert from='AZ' to='AS'>
        <data>
         <mergeAdj>
          <sequence>
           <valueOf>
            <fn line='42' name='concat'>
             <choose>
              <fn name='contains'>
               <cvUntyped to='AS'>
                <attVal name='Q{}function' chk='0'/>
               </cvUntyped>
               <str val=':'/>
              </fn>
              <ufCall line='43' name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' tailCall='false' bSlot='0' eval='16 16'>
               <check card='1' diag='0|0||x:UQName-from-EQName-ignoring-default-ns'>
                <cvUntyped to='AS'>
                 <attVal name='Q{}function' chk='0'/>
                </cvUntyped>
               </check>
               <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
              </ufCall>
              <true/>
              <check line='47' card='1' diag='3|0|XTTE0570|function-uqname'>
               <slash>
                <axis name='attribute' nodeTest='NA nQ{}function'/>
                <fn name='string'>
                 <dot type='1NA nQ{}function'/>
                </fn>
               </slash>
              </check>
             </choose>
             <str val='('/>
            </fn>
           </valueOf>
           <forEach line='54'>
            <sort>
             <axis role='select' name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
             <sortKey line='55' comp='DecSC'>
              <cast role='select' flags='ae' as='?ADI'>
               <attVal name='Q{}position' chk='0'/>
              </cast>
              <str role='order' val='ascending'/>
              <str role='lang' val=''/>
              <str role='caseOrder' val='#default'/>
              <str role='stable' val='yes'/>
              <str role='collation' val='http://www.w3.org/2005/xpath-functions/collation/codepoint'/>
             </sortKey>
            </sort>
            <sequence line='57'>
             <valueOf>
              <fn name='concat'>
               <str val='$'/>
               <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='1' eval='16'>
                <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
               </ufCall>
              </fn>
             </valueOf>
             <choose line='58'>
              <isLast test='0'/>
              <valueOf line='59'>
               <str val=', '/>
              </valueOf>
             </choose>
            </sequence>
           </forEach>
           <valueOf line='62' flags='S'>
            <str val=')'/>
           </valueOf>
          </sequence>
         </mergeAdj>
        </data>
       </convert>
       <str val=''/>
      </fn>
     </valueOf>
    </forEach>
   </check>
  </function>
 </co>
 <co id='4' binds='5'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}check-param-max-position' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='0' line='14' module='compile-scenario.xsl' slots='2'>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='18' card='0' diag='7|0|XTTE0505|x:check-param-max-position'>
    <sequence>
     <param name='Q{}call' slot='0' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}call' diag='8|0|XTTE0590|call'>
       <check card='?' diag='8|0|XTTE0590|call'>
        <supplied slot='0'/>
       </check>
      </treat>
     </param>
     <let line='21' var='Q{}max-param-position' as='?ADI' slot='1' eval='8'>
      <fn name='max'>
       <forEach>
        <slash simple='1'>
         <varRef name='Q{}call' slot='0'/>
         <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
        </slash>
        <cast flags='ae' as='?ADI'>
         <attVal name='Q{}position' chk='0'/>
        </cast>
       </forEach>
      </fn>
      <choose line='22'>
       <vc op='gt' onEmpty='0' comp='CAVC'>
        <varRef name='Q{}max-param-position' slot='1'/>
        <fn name='count'>
         <slash simple='1'>
          <varRef name='Q{}call' slot='0'/>
          <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
         </slash>
        </fn>
       </vc>
       <check line='24' card='0' diag='7|0|XTTE0505|x:check-param-max-position'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <cvUntyped line='26' to='AS' diag='3|0|XTTE0570|message'>
            <cast flags='a' as='1AZ'>
             <fn name='concat'>
              <str val='Too large parameter position, '/>
              <fn name='string'>
               <convert from='ADI' to='AS'>
                <varRef name='Q{}max-param-position' slot='1'/>
               </convert>
              </fn>
              <str val=', used in '/>
              <fn name='name'>
               <varRef name='Q{}call' slot='0'/>
              </fn>
              <str val='.'/>
             </fn>
            </cast>
           </cvUntyped>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </check>
      </choose>
     </let>
    </sequence>
   </check>
  </template>
 </co>
 <co id='2' binds='6 7'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' line='62' module='compiler-eqname-utils.xsl' eval='16' flags='pU' as='1AS' slots='2'>
   <arg name='Q{}eqname' as='1AS'/>
   <arg name='Q{}element' as='1NE'/>
   <tailCallLoop role='body' ns='local=urn:x-xspec:compiler:base:util:compiler-eqname-utils:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='69'>
    <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-QName' tailCall='foreign' bSlot='0' eval='16'>
     <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}resolve-EQName-ignoring-default-ns' tailCall='false' bSlot='1' eval='1 1'>
      <varRef name='Q{}eqname' slot='0'/>
      <varRef name='Q{}element' slot='1'/>
     </ufCall>
    </ufCall>
   </tailCallLoop>
  </function>
 </co>
 <co id='8' binds='5'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}non-boolean-without-comparison' line='32' module='compile-expect.xsl' eval='16' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}expect' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='35' card='1' diag='5|0|XTTE0780|x:non-boolean-without-comparison#1'>
    <forEach>
     <varRef name='Q{}expect' slot='0'/>
     <callT line='36' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
      <withParam name='Q{}message' flags='c' as='1AS'>
       <str val='Non-boolean @test must be accompanied by @as, @href, @select, or child node.'/>
      </withParam>
     </callT>
    </forEach>
   </check>
  </function>
 </co>
 <co id='9' binds='10 11 10 12 11 10 13 13 14 13 13 13 13 11 15 11 7 13 13 10 13 13 16 17 17 17 18 10 19 20 19 10 10 10 21 10'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}main' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}description' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}stylesheet' line='22' module='main.xsl' slots='5'>
   <let role='body' ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='53' var='Q{http://saxon.sf.net/generated-variable}v0' as='1AS' slot='0' eval='13'>
    <convert from='AU' to='AS'>
     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='0'/>
    </convert>
    <let line='26' var='Q{}is-schematron' as='1AB' slot='1' eval='8'>
     <fn name='exists'>
      <axis name='attribute' nodeTest='NA nQ{}original-xspec'/>
     </fn>
     <treat line='29' as='NE nQ{http://www.w3.org/1999/XSL/Transform}stylesheet' diag='7|0|XTTE0505|x:main'>
      <compElem>
       <str role='name' val='xsl:stylesheet'/>
       <convert role='namespace' from='AU' to='AS'>
        <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='35'/>
       </convert>
       <sequence role='content' line='30'>
        <att name='exclude-result-prefixes' flags='l'>
         <str val='#all'/>
        </att>
        <att line='31' name='version' flags='l'>
         <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='common-utils.xsl' var='Q{}decimal-string' as='1AS' slot='2' eval='8'>
          <fn name='string'>
           <treat ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='main.xsl' as='AD' diag='5|0|XTTE0780|x:xslt-version#1'>
            <check card='1' diag='5|0|XTTE0780|x:xslt-version#1'>
             <cvUntyped to='AD' diag='5|0|XTTE0780|x:xslt-version#1'>
              <data diag='5|0|XTTE0780|x:xslt-version#1'>
               <first>
                <sequence>
                 <slash simple='1'>
                  <slash>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
                   <first ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compiler-misc-utils.xsl' line='41'>
                    <filter flags='b'>
                     <axis name='ancestor-or-self' nodeTest='NE'/>
                     <fn name='exists'>
                      <axis name='attribute' nodeTest='NA nQ{}xslt-version'/>
                     </fn>
                    </filter>
                   </first>
                  </slash>
                  <axis ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compiler-misc-utils.xsl' line='41' name='attribute' nodeTest='NA nQ{}xslt-version'/>
                 </slash>
                 <dec val='3'/>
                </sequence>
               </first>
              </data>
             </cvUntyped>
            </check>
           </treat>
          </fn>
          <choose line='38'>
           <fn name='contains'>
            <varRef name='Q{}decimal-string' slot='2'/>
            <str val='.'/>
           </fn>
           <varRef name='Q{}decimal-string' slot='2'/>
           <true/>
           <fn name='concat'>
            <varRef name='Q{}decimal-string' slot='2'/>
            <str val='.0'/>
           </fn>
          </choose>
         </let>
        </att>
        <valueOf line='34' flags='l'>
         <str val='&#xA;   '/>
        </valueOf>
        <choose line='36'>
         <fn name='not'>
          <gVarRef name='Q{}is-external' bSlot='1'/>
         </fn>
         <sequence line='37'>
          <comment flags='l'>
           <str val=' the tested stylesheet '/>
          </comment>
          <compElem line='38' flags='l'>
           <str role='name' val='xsl:import'/>
           <convert role='namespace' from='AU' to='AS'>
            <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='2'/>
           </convert>
           <att role='content' line='39' name='href' flags='l'>
            <convert from='AZ' to='AS'>
             <attVal name='Q{}stylesheet' chk='0'/>
            </convert>
           </att>
          </compElem>
         </sequence>
        </choose>
        <choose line='43'>
         <fn name='exists'>
          <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}helper'/>
         </fn>
         <sequence line='44'>
          <comment flags='l'>
           <str val=' user-provided library module(s) '/>
          </comment>
          <callT line='45' name='Q{http://www.jenitennison.com/xslt/xspec}compile-helpers' bSlot='3'/>
         </sequence>
        </choose>
        <comment line='48' flags='l'>
         <str val=' XSpec library modules providing tools '/>
        </comment>
        <forEach line='52'>
         <sequence>
          <choose>
           <fn name='doc-available'>
            <str val='../../common/runtime-utils.xsl'/>
           </fn>
           <str val='../../common/runtime-utils.xsl'/>
           <true/>
           <str val='../common/runtime-utils.xsl'/>
          </choose>
          <filter flags='ib'>
           <str val='../../schematron/select-node.xsl'/>
           <varRef name='Q{}is-schematron' slot='1'/>
          </filter>
         </sequence>
         <compElem line='53' flags='l'>
          <str role='name' val='xsl:include'/>
          <varRef role='namespace' name='Q{http://saxon.sf.net/generated-variable}v0' slot='0'/>
          <att role='content' line='54' name='href' flags='l'>
           <convert from='AU' to='AS'>
            <fn name='resolve-uri'>
             <dot type='1AS'/>
            </fn>
           </convert>
          </att>
         </compElem>
        </forEach>
        <choose line='58'>
         <gVarRef name='Q{}is-external' bSlot='4'/>
         <compElem line='59' flags='l'>
          <str role='name' val='xsl:global-context-item'/>
          <convert role='namespace' from='AU' to='AS'>
           <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='5'/>
          </convert>
          <att role='content' line='60' name='use' flags='l'>
           <str val='absent'/>
          </att>
         </compElem>
        </choose>
        <elem line='65' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
         <sequence>
          <att name='name' flags='l'>
           <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='6' eval='0'>
            <str val='x:stylesheet-uri'/>
           </ufCall>
          </att>
          <att name='as' flags='l'>
           <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='7' eval='0'>
            <str val='xs:anyURI'/>
           </ufCall>
          </att>
          <valueOf line='66' flags='l'>
           <convert from='AZ' to='AS'>
            <attVal name='Q{}stylesheet' chk='0'/>
           </convert>
          </valueOf>
         </sequence>
        </elem>
        <let line='71' var='Q{}xspec-master-uri' as='1AU' slot='3' eval='16'>
         <cast flags='a' as='1AU'>
          <atomSing diag='2|0||cast as'>
           <first>
            <sequence>
             <axis name='attribute' nodeTest='NA nQ{}original-xspec'/>
             <gVarRef name='Q{}initial-document-actual-uri' bSlot='8'/>
            </sequence>
           </first>
          </atomSing>
         </cast>
         <sequence line='72'>
          <elem name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
           <sequence>
            <att name='name' flags='l'>
             <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='9' eval='0'>
              <str val='x:xspec-uri'/>
             </ufCall>
            </att>
            <att name='as' flags='l'>
             <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='10' eval='0'>
              <str val='xs:anyURI'/>
             </ufCall>
            </att>
            <valueOf line='73' flags='l'>
             <convert from='AU' to='AS'>
              <varRef name='Q{}xspec-master-uri' slot='3'/>
             </convert>
            </valueOf>
           </sequence>
          </elem>
          <elem line='78' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
           <sequence>
            <att name='name' flags='l'>
             <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='11' eval='0'>
              <str val='x:is-external'/>
             </ufCall>
            </att>
            <att name='as' flags='l'>
             <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='12' eval='0'>
              <str val='xs:boolean'/>
             </ufCall>
            </att>
            <att name='select' flags='l'>
             <fn name='concat'>
              <convert from='AB' to='AS'>
               <gVarRef name='Q{}is-external' bSlot='13'/>
              </convert>
              <str val='()'/>
             </fn>
            </att>
           </sequence>
          </elem>
          <let line='81' var='Q{}global-vardecls' as='*NE' slot='4' eval='3'>
           <axis name='child' nodeTest='NE u[NE nQ{http://www.jenitennison.com/xslt/xspec}param,NE nQ{http://www.jenitennison.com/xslt/xspec}variable]'/>
           <sequence line='82'>
            <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' bSlot='14'>
             <varRef role='select' name='Q{}global-vardecls' slot='4'/>
            </applyT>
            <choose line='84'>
             <gVarRef name='Q{}is-external' bSlot='15'/>
             <choose line='91'>
              <fn name='empty'>
               <filter flags='b'>
                <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
                <vc op='eq' comp='EQC'>
                 <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}resolve-EQName-ignoring-default-ns' tailCall='false' bSlot='16' eval='16 16'>
                  <check card='1' diag='0|0||x:resolve-EQName-ignoring-default-ns'>
                   <cvUntyped to='AS'>
                    <attVal name='Q{}name' chk='0'/>
                   </cvUntyped>
                  </check>
                  <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
                 </ufCall>
                 <qName pre='x' uri='http://www.jenitennison.com/xslt/xspec' loc='saxon-config'/>
                </vc>
               </filter>
              </fn>
              <elem line='92' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
               <sequence>
                <att name='name' flags='l'>
                 <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='17' eval='0'>
                  <str val='x:saxon-config'/>
                 </ufCall>
                </att>
                <att name='as' flags='l'>
                 <str val='empty-sequence()'/>
                </att>
               </sequence>
              </elem>
             </choose>
            </choose>
            <comment line='97' flags='l'>
             <str val=' the main template to run the suite '/>
            </comment>
            <compElem line='98' flags='l'>
             <str role='name' val='xsl:template'/>
             <convert role='namespace' from='AU' to='AS'>
              <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='33'/>
             </convert>
             <sequence role='content' line='99'>
              <att name='name' flags='l'>
               <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='18' eval='0'>
                <str val='x:main'/>
               </ufCall>
              </att>
              <att line='100' name='as' flags='l'>
               <str val='empty-sequence()'/>
              </att>
              <compElem line='102' flags='l'>
               <str role='name' val='xsl:context-item'/>
               <convert role='namespace' from='AU' to='AS'>
                <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='19'/>
               </convert>
               <att role='content' line='103' name='use' flags='l'>
                <str val='absent'/>
               </att>
              </compElem>
              <valueOf line='106' flags='l'>
               <str val='&#xA;      '/>
              </valueOf>
              <comment line='106' flags='l'>
               <str val=' info message '/>
              </comment>
              <elem line='108' name='xsl:message' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
               <sequence line='109'>
                <elem name='xsl:text' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <valueOf line='110' flags='l'>
                  <str val='Testing with '/>
                 </valueOf>
                </elem>
                <elem line='112' name='xsl:value-of' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <att name='select' flags='l'>
                  <fn name='concat'>
                   <str val='system-property(&#39;'/>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='20' eval='0'>
                    <str val='xsl:product-name'/>
                   </ufCall>
                   <str val='&#39;)'/>
                  </fn>
                 </att>
                </elem>
                <elem line='113' name='xsl:text' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <valueOf line='114' flags='l'>
                  <str val=' '/>
                 </valueOf>
                </elem>
                <elem line='116' name='xsl:value-of' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <att name='select' flags='l'>
                  <fn name='concat'>
                   <str val='system-property(&#39;'/>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='21' eval='0'>
                    <str val='xsl:product-version'/>
                   </ufCall>
                   <str val='&#39;)'/>
                  </fn>
                 </att>
                </elem>
               </sequence>
              </elem>
              <comment line='119' flags='l'>
               <str val=' set up the result document (the report) '/>
              </comment>
              <compElem line='122' flags='l'>
               <str role='name' val='xsl:result-document'/>
               <convert role='namespace' from='AU' to='AS'>
                <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='32'/>
               </convert>
               <sequence role='content' line='124'>
                <choose>
                 <gVarRef name='Q{http://saxon.sf.net/generated-variable}gg1489946715' bSlot='22'/>
                 <sequence line='132'>
                  <namespace flags='l'>
                   <str role='name' val='workaround-for-saxon-bug-4093'/>
                   <convert role='select' from='AU' to='AS'>
                    <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='23'/>
                   </convert>
                  </namespace>
                  <att line='135' name='format' flags='l'>
                   <str val='workaround-for-saxon-bug-4093:xml-report-serialization-parameters'/>
                  </att>
                 </sequence>
                 <true/>
                 <att line='141' name='format' flags='l'>
                  <fn name='concat'>
                   <str val='Q{{'/>
                   <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='24'/>
                   <str val='}}xml-report-serialization-parameters'/>
                  </fn>
                 </att>
                </choose>
                <compElem line='145' flags='l'>
                 <str role='name' val='xsl:element'/>
                 <convert role='namespace' from='AU' to='AS'>
                  <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='31'/>
                 </convert>
                 <sequence role='content' line='146'>
                  <att name='name' flags='l'>
                   <str val='report'/>
                  </att>
                  <att line='147' name='namespace' flags='l'>
                   <convert from='AU' to='AS'>
                    <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='25'/>
                   </convert>
                  </att>
                  <applyT line='162' mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='26'>
                   <sequence role='select' line='150'>
                    <att name='xspec'>
                     <convert from='AU' to='AS'>
                      <varRef name='Q{}xspec-master-uri' slot='3'/>
                     </convert>
                    </att>
                    <axis line='153' name='attribute' nodeTest='NA nQ{}stylesheet'/>
                    <choose line='158'>
                     <varRef name='Q{}is-schematron' slot='1'/>
                     <axis line='159' name='attribute' nodeTest='NA nQ{}schematron'/>
                    </choose>
                   </sequence>
                  </applyT>
                  <compElem line='165' flags='l'>
                   <str role='name' val='xsl:attribute'/>
                   <convert role='namespace' from='AU' to='AS'>
                    <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='27'/>
                   </convert>
                   <sequence role='content' line='166'>
                    <att name='name' flags='l'>
                     <str val='date'/>
                    </att>
                    <att line='167' name='namespace' flags='l'>
                     <str val=''/>
                    </att>
                    <att line='168' name='select' flags='l'>
                     <str val='current-dateTime()'/>
                    </att>
                   </sequence>
                  </compElem>
                  <callT line='171' name='Q{http://www.jenitennison.com/xslt/xspec}timestamp' bSlot='28'>
                   <withParam name='Q{}event' flags='c' as='1AS'>
                    <str val='start'/>
                   </withParam>
                  </callT>
                  <valueOf line='176' flags='l'>
                   <str val='&#xA;            '/>
                  </valueOf>
                  <comment line='176' flags='l'>
                   <str val=' invoke each compiled top-level x:scenario '/>
                  </comment>
                  <callT line='177' name='Q{http://www.jenitennison.com/xslt/xspec}invoke-compiled-child-scenarios-or-expects' bSlot='29'>
                   <withParam name='Q{}handled-child-vardecls' flags='c' as='*NE'>
                    <varRef line='178' name='Q{}global-vardecls' slot='4'/>
                   </withParam>
                  </callT>
                  <callT line='181' name='Q{http://www.jenitennison.com/xslt/xspec}timestamp' bSlot='30'>
                   <withParam name='Q{}event' flags='c' as='1AS'>
                    <str val='end'/>
                   </withParam>
                  </callT>
                 </sequence>
                </compElem>
               </sequence>
              </compElem>
             </sequence>
            </compElem>
            <callT line='189' name='Q{http://www.jenitennison.com/xslt/xspec}compile-child-scenarios-or-expects' bSlot='34'/>
           </sequence>
          </let>
         </sequence>
        </let>
       </sequence>
      </compElem>
     </treat>
    </let>
   </let>
  </template>
 </co>
 <co id='22' binds='17 17'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}xspec-name' line='75' module='compiler-misc-utils.xsl' eval='8' flags='pU' as='1AS' slots='3'>
   <arg name='Q{}local-name' as='1AS'/>
   <arg name='Q{}context-element' as='1NE'/>
   <let role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='79' var='Q{}context-node-name' as='1AQ' slot='2' eval='16'>
    <check card='1' diag='3|0|XTTE0570|context-node-name'>
     <fn name='node-name'>
      <varRef name='Q{}context-element' slot='1'/>
     </fn>
    </check>
    <fn line='96' name='string-join'>
     <sequence>
      <filter flags='b'>
       <choose line='83'>
        <vc op='eq' onEmpty='0' comp='CCC'>
         <fn name='namespace-uri-from-QName'>
          <varRef name='Q{}context-node-name' slot='2'/>
         </fn>
         <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='0'/>
        </vc>
        <fn line='84' name='prefix-from-QName'>
         <varRef name='Q{}context-node-name' slot='2'/>
        </fn>
        <true/>
        <treat line='91' as='AS' diag='3|0|XTTE0570|prefix'>
         <check card='?' diag='3|0|XTTE0570|prefix'>
          <cvUntyped to='AS' diag='3|0|XTTE0570|prefix'>
           <data diag='3|0|XTTE0570|prefix'>
            <first>
             <fn name='sort'>
              <check line='90' card='+' diag='3|0|XTTE0570|xspec-prefixes'>
               <filter flags=''>
                <fn name='in-scope-prefixes'>
                 <varRef name='Q{}context-element' slot='1'/>
                </fn>
                <vc op='eq' comp='CCC'>
                 <fn name='namespace-uri-for-prefix'>
                  <dot type='1AS'/>
                  <varRef name='Q{}context-element' slot='1'/>
                 </fn>
                 <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='1'/>
                </vc>
               </filter>
              </check>
             </fn>
            </first>
           </data>
          </cvUntyped>
         </check>
        </treat>
       </choose>
       <fn name='boolean'>
        <dot type='1AS'/>
       </fn>
      </filter>
      <varRef name='Q{}local-name' slot='0'/>
     </sequence>
     <str val=':'/>
    </fn>
   </let>
  </function>
 </co>
 <co id='12' binds='10 10'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}compile-helpers' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}description' flags='s' as='*NE' line='7' module='compile-helpers.xsl' slots='0'>
   <forEach role='body' ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='10'>
    <filter flags='b'>
     <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}helper'/>
     <fn name='exists'>
      <sequence>
       <axis name='attribute' nodeTest='NA nQ{}package-name'/>
       <axis name='attribute' nodeTest='NA nQ{}stylesheet'/>
      </sequence>
     </fn>
    </filter>
    <choose line='12'>
     <fn name='exists'>
      <axis name='attribute' nodeTest='NA nQ{}package-name'/>
     </fn>
     <compElem line='13'>
      <str role='name' val='xsl:use-package'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='0'/>
      </convert>
      <sequence role='content' line='14'>
       <att name='name' flags='l'>
        <convert from='AZ' to='AS'>
         <attVal name='Q{}package-name' chk='0'/>
        </convert>
       </att>
       <axis line='15' name='attribute' nodeTest='NA nQ{}package-version'/>
      </sequence>
     </compElem>
     <fn line='18' name='exists'>
      <axis name='attribute' nodeTest='NA nQ{}stylesheet'/>
     </fn>
     <compElem line='19'>
      <str role='name' val='xsl:import'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='1'/>
      </convert>
      <att role='content' line='20' name='href' flags='l'>
       <convert from='AZ' to='AS'>
        <attVal name='Q{}stylesheet' chk='0'/>
       </convert>
      </att>
     </compElem>
    </choose>
   </forEach>
  </template>
 </co>
 <co id='23' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}label' line='8' module='compiler-misc-utils.xsl' eval='16' flags='pU' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}label' slots='1'>
   <arg name='Q{}labelled' as='1NE'/>
   <treat role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='13' as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
    <compElem>
     <str role='name' val='label'/>
     <convert role='namespace' from='AU' to='AS'>
      <fn name='namespace-uri'>
       <varRef name='Q{}labelled' slot='0'/>
      </fn>
     </convert>
     <valueOf role='content' line='14' flags='l'>
      <convert from='A' to='AS'>
       <data>
        <first>
         <sequence>
          <slash simple='1'>
           <varRef name='Q{}labelled' slot='0'/>
           <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
          </slash>
          <slash simple='1'>
           <varRef name='Q{}labelled' slot='0'/>
           <axis name='attribute' nodeTest='NA nQ{}label'/>
          </slash>
         </sequence>
        </first>
       </data>
      </convert>
     </valueOf>
    </compElem>
   </treat>
  </function>
 </co>
 <co id='24' binds='25 26 27 9 5'>
  <mode onNo='FF' flags='dF' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='0' rank='0' minImp='0' slots='0' matches='ND' flags='s' as='+N' line='82' module='main.xsl'>
    <p.nodeTest role='match' test='ND'/>
    <check role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='83' card='+' diag='7|0|XTTE0505|match="document-node()"'>
     <sequence>
      <callT name='Q{http://www.jenitennison.com/xslt/xspec}perform-initial-check' bSlot='0'/>
      <forEach line='95'>
       <slash line='86' simple='1'>
        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}combine' tailCall='false' bSlot='1' eval='8'>
         <check card='+' diag='3|0|XTTE0570|specs'>
          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}resolve-import' tailCall='false' bSlot='2' eval='16'>
           <check card='1' diag='0|0||x:resolve-import'>
            <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
           </check>
          </ufCall>
         </check>
        </ufCall>
        <axis line='95' name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
       </slash>
       <callT line='96' name='Q{http://www.jenitennison.com/xslt/xspec}main' bSlot='3'/>
      </forEach>
     </sequence>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='21' rank='1' minImp='0' slots='0' matches='NA nQ{}xspec' flags='s' as='1NA nQ{}original-xspec' line='57' module='gather-specs.xsl'>
    <p.withUpper role='match' axis='parent' upFirst='false'>
     <p.nodeTest test='NA nQ{}xspec'/>
     <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    </p.withUpper>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='58' card='1' diag='7|0|XTTE0505|match="x:scenario/@xspec"'>
     <sequence>
      <treat as='NA nQ{}original-xspec' diag='7|0|XTTE0505|match="x:scenario/@xspec"'>
       <forEach>
        <slash simple='2'>
         <axis name='parent' nodeTest='NE'/>
         <axis name='attribute' nodeTest='NA nQ{}original-xspec'/>
        </slash>
        <message line='60'>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='4'>
          <withParam name='Q{}message' flags='c' as='1ND'>
           <cvUntyped line='62' to='AS' diag='8|0|XTTE0590|message'>
            <data diag='8|0|XTTE0590|message'>
             <doc flags='t'>
              <valueOf flags='l'>
               <fn name='concat'>
                <str val='Already has @'/>
                <fn name='name'>
                 <dot type='1NA nQ{}original-xspec'/>
                </fn>
               </fn>
              </valueOf>
             </doc>
            </data>
           </cvUntyped>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </forEach>
      </treat>
      <treat line='68' as='NA nQ{}original-xspec' diag='7|0|XTTE0505|match="x:scenario/@xspec"'>
       <att name='original-xspec'>
        <convert from='AZ' to='AS'>
         <data>
          <dot type='1NA nQ{}xspec' flags='a'/>
         </data>
        </convert>
       </att>
      </treat>
     </sequence>
    </check>
   </templateRule>
  </mode>
 </co>
 <co id='28' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}element-additional-namespace-nodes' line='52' module='compiler-misc-utils.xsl' eval='4' flags='pU' as='*NN' slots='3'>
   <arg name='Q{}element' as='1NE'/>
   <let role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='59' var='Q{}element-name-prefix' as='1AS' slot='1' eval='8'>
    <fn name='string'>
     <fn name='prefix-from-QName'>
      <fn name='node-name'>
       <varRef name='Q{}element' slot='0'/>
      </fn>
     </fn>
    </fn>
    <sort line='62'>
     <filter role='select' flags='b'>
      <let var='Q{}element' as='1NE' slot='2' eval='1'>
       <varRef name='Q{}element' slot='0'/>
       <forEach module='namespace-utils.xsl' line='42'>
        <filter flags='b'>
         <fn name='in-scope-prefixes'>
          <varRef name='Q{}element' slot='2'/>
         </fn>
         <compareToString op='ne' val='xml'>
          <dot type='1AS'/>
         </compareToString>
        </filter>
        <namespace line='43'>
         <dot role='name' type='1AS'/>
         <convert role='select' from='AU' to='AS'>
          <fn name='namespace-uri-for-prefix'>
           <dot type='1AS'/>
           <varRef name='Q{}element' slot='2'/>
          </fn>
         </convert>
        </namespace>
       </forEach>
      </let>
      <vc op='ne' comp='CCC'>
       <fn name='name'>
        <dot type='1NN'/>
       </fn>
       <varRef name='Q{}element-name-prefix' slot='1'/>
      </vc>
     </filter>
     <sortKey line='63' comp='CCC'>
      <fn role='select' name='name'>
       <dot type='1NN'/>
      </fn>
      <str role='order' val='ascending'/>
      <str role='lang' val=''/>
      <str role='caseOrder' val='#default'/>
      <str role='stable' val='yes'/>
      <str role='collation' val='http://www.w3.org/2005/xpath-functions/collation/codepoint'/>
     </sortKey>
    </sort>
   </let>
  </function>
 </co>
 <co id='7' binds='29'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}resolve-EQName-ignoring-default-ns' line='17' module='compiler-eqname-utils.xsl' eval='16' flags='pU' as='1AQ' slots='3'>
   <arg name='Q{}eqname' as='1AS'/>
   <arg name='Q{}element' as='1NE'/>
   <tailCallLoop role='body' ns='local=urn:x-xspec:compiler:base:util:compiler-eqname-utils:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='22'>
    <choose>
     <fn name='starts-with'>
      <varRef name='Q{}eqname' slot='0'/>
      <str val='Q{'/>
     </fn>
     <ufCall line='23' name='Q{urn:x-xspec:compiler:base:util:compiler-eqname-utils:local}resolve-UQName' tailCall='foreign' bSlot='0' eval='1'>
      <varRef name='Q{}eqname' slot='0'/>
     </ufCall>
     <true/>
     <let line='30' var='Q{}qname-taking-default-ns' as='1AQ' slot='2' eval='8'>
      <fn name='resolve-QName'>
       <varRef name='Q{}eqname' slot='0'/>
       <varRef name='Q{}element' slot='1'/>
      </fn>
      <choose line='38'>
       <fn name='prefix-from-QName'>
        <varRef name='Q{}qname-taking-default-ns' slot='2'/>
       </fn>
       <varRef name='Q{}qname-taking-default-ns' slot='2'/>
       <true/>
       <fn name='QName'>
        <str val=''/>
        <check card='1' diag='0|1||fn:QName'>
         <fn name='local-name-from-QName'>
          <varRef name='Q{}qname-taking-default-ns' slot='2'/>
         </fn>
        </check>
       </fn>
      </choose>
     </let>
    </choose>
   </tailCallLoop>
  </function>
 </co>
 <co id='30' binds='13 13 3 3 31 32 31 32 13 13 13 13 13 13 33 13 31 32 31 32 34 35 34 3 3 34'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}transform-options' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}variable' line='13' module='transform-options.xsl' slots='4'>
   <check role='body' ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:external:transform-options:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='16' card='1' diag='7|0|XTTE0505|x:transform-options'>
    <sequence>
     <param name='Q{}call' slot='0' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}call' diag='8|0|XTTE0590|call'>
       <check card='?' diag='8|0|XTTE0590|call'>
        <supplied slot='0'/>
       </check>
      </treat>
     </param>
     <param line='17' name='Q{}context' slot='1' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}context' diag='8|0|XTTE0590|context'>
       <check card='?' diag='8|0|XTTE0590|context'>
        <supplied slot='1'/>
       </check>
      </treat>
     </param>
     <elem line='19' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
      <sequence>
       <att name='name' flags='l'>
        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='0' eval='0'>
         <str val='impl:transform-options'/>
        </ufCall>
       </att>
       <att name='as' flags='l'>
        <fn name='concat'>
         <str val='map('/>
         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='1' eval='0'>
          <str val='xs:string'/>
         </ufCall>
         <str val=', item()*)'/>
        </fn>
       </att>
       <elem line='20' name='xsl:map' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
        <sequence line='25'>
         <elem name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
          <sequence>
           <att name='key' flags='l'>
            <str val='&#39;delivery-format&#39;'/>
           </att>
           <att name='select' flags='l'>
            <str val='&#39;raw&#39;'/>
           </att>
          </sequence>
         </elem>
         <elem line='29' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
          <sequence>
           <att name='key' flags='l'>
            <str val='&#39;stylesheet-location&#39;'/>
           </att>
           <valueOf line='30' flags='l'>
            <fn name='string-join'>
             <convert from='AZ' to='AS'>
              <data>
               <slash simple='2'>
                <slash simple='1'>
                 <root/>
                 <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
                </slash>
                <axis name='attribute' nodeTest='NA nQ{}stylesheet'/>
               </slash>
              </data>
             </convert>
             <str val=' '/>
            </fn>
           </valueOf>
          </sequence>
         </elem>
         <condCont line='44'>
          <let var='Q{}stylesheet-cumulative-params' as='*NE nQ{http://www.jenitennison.com/xslt/xspec}param' slot='2' eval='4'>
           <union op='|'>
            <union op='|'>
             <slash simple='2'>
              <slash simple='1'>
               <root/>
               <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
              </slash>
              <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
             </slash>
             <docOrder intra='0'>
              <slash simple='2'>
               <fn name='accumulator-before'>
                <str val='stacked-vardecls'/>
               </fn>
               <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
              </slash>
             </docOrder>
            </union>
            <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
           </union>
           <let line='55' var='Q{}stylesheet-effective-params' as='*NE nQ{http://www.jenitennison.com/xslt/xspec}param' slot='3' eval='4'>
            <filter flags='pb'>
             <varRef name='Q{}stylesheet-cumulative-params' slot='2'/>
             <fn name='not'>
              <gcEE op='=' card='N:1' comp='CCC'>
               <forEach>
                <fn name='subsequence'>
                 <varRef name='Q{}stylesheet-cumulative-params' slot='2'/>
                 <arith op='+' calc='i+i'>
                  <fn name='position'/>
                  <int val='1'/>
                 </arith>
                </fn>
                <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='2' eval='16'>
                 <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                </ufCall>
               </forEach>
               <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='3' eval='16'>
                <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
               </ufCall>
              </gcEE>
             </fn>
            </filter>
            <sequence line='57'>
             <elem name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
              <sequence>
               <att name='key' flags='l'>
                <str val='&#39;static-params&#39;'/>
               </att>
               <condCont line='59'>
                <elem name='xsl:map' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <forEach line='63'>
                  <filter flags='b'>
                   <varRef name='Q{}stylesheet-effective-params' slot='3'/>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' tailCall='false' bSlot='4' eval='8 0'>
                    <cvUntyped to='AS'>
                     <attVal name='Q{}static' chk='0'/>
                    </cvUntyped>
                    <false/>
                   </ufCall>
                  </filter>
                  <ufCall name='Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry' tailCall='false' bSlot='5' eval='16'>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                  </ufCall>
                 </forEach>
                </elem>
               </condCont>
              </sequence>
             </elem>
             <elem line='68' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
              <sequence>
               <att name='key' flags='l'>
                <str val='&#39;stylesheet-params&#39;'/>
               </att>
               <condCont line='70'>
                <elem name='xsl:map' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <forEach line='74'>
                  <filter flags='b'>
                   <varRef name='Q{}stylesheet-effective-params' slot='3'/>
                   <fn name='not'>
                    <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' tailCall='false' bSlot='6' eval='8 0'>
                     <cvUntyped to='AS'>
                      <attVal name='Q{}static' chk='0'/>
                     </cvUntyped>
                     <false/>
                    </ufCall>
                   </fn>
                  </filter>
                  <ufCall name='Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry' tailCall='false' bSlot='7' eval='16'>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                  </ufCall>
                 </forEach>
                </elem>
               </condCont>
              </sequence>
             </elem>
            </sequence>
           </let>
          </let>
         </condCont>
         <elem line='80' name='xsl:if' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
          <sequence>
           <att name='test' flags='l'>
            <fn name='concat'>
             <str val='$'/>
             <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='8' eval='0'>
              <str val='x:saxon-config'/>
             </ufCall>
             <str val=' =&gt; exists()'/>
            </fn>
           </att>
           <elem line='82' name='xsl:choose' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
            <sequence line='83'>
             <elem name='xsl:when' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
              <att name='test' flags='l'>
               <fn name='concat'>
                <str val='$'/>
                <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='9' eval='0'>
                 <str val='x:saxon-config'/>
                </ufCall>
                <str val=' instance of element('/>
                <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='10' eval='0'>
                 <str val='config:configuration'/>
                </ufCall>
                <str val=')'/>
               </fn>
              </att>
             </elem>
             <elem line='84' name='xsl:when' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
              <att name='test' flags='l'>
               <fn name='concat'>
                <str val='$'/>
                <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='11' eval='0'>
                 <str val='x:saxon-config'/>
                </ufCall>
                <str val=' instance of document-node(element('/>
                <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='12' eval='0'>
                 <str val='config:configuration'/>
                </ufCall>
                <str val='))'/>
               </fn>
              </att>
             </elem>
             <elem line='85' name='xsl:otherwise' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
              <elem line='86' name='xsl:message' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
               <sequence>
                <att name='terminate' flags='l'>
                 <str val='yes'/>
                </att>
                <valueOf line='89' flags='l'>
                 <fn name='concat'>
                  <str val='ERROR: $'/>
                  <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='13' eval='0'>
                   <str val='x:saxon-config'/>
                  </ufCall>
                  <str val=' does not appear to be a Saxon configuration'/>
                 </fn>
                </valueOf>
               </sequence>
              </elem>
             </elem>
            </sequence>
           </elem>
           <elem line='95' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
            <sequence>
             <att name='key' flags='l'>
              <str val='&#39;cache&#39;'/>
             </att>
             <att name='select' flags='l'>
              <str val='false()'/>
             </att>
            </sequence>
           </elem>
           <elem line='97' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
            <sequence>
             <att name='key' flags='l'>
              <str val='&#39;vendor-options&#39;'/>
             </att>
             <elem line='98' name='xsl:map' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
              <elem line='100' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
               <sequence>
                <att name='key' flags='l'>
                 <fn name='concat'>
                  <str val='QName(&#39;'/>
                  <convert from='AU' to='AS'>
                   <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}saxon-namespace' bSlot='14'/>
                  </convert>
                  <str val='&#39;, &#39;configuration&#39;)'/>
                 </fn>
                </att>
                <att name='select' flags='l'>
                 <fn name='concat'>
                  <str val='$'/>
                  <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='15' eval='0'>
                   <str val='x:saxon-config'/>
                  </ufCall>
                 </fn>
                </att>
               </sequence>
              </elem>
             </elem>
            </sequence>
           </elem>
          </sequence>
         </elem>
         <forEach line='108'>
          <first>
           <sequence>
            <filter flags='b'>
             <varRef name='Q{}call' slot='0'/>
             <fn name='exists'>
              <axis name='attribute' nodeTest='NA nQ{}template'/>
             </fn>
            </filter>
            <varRef name='Q{}context' slot='1'/>
           </sequence>
          </first>
          <condCont line='110'>
           <sequence>
            <elem name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
             <sequence>
              <att name='key' flags='l'>
               <str val='&#39;template-params&#39;'/>
              </att>
              <condCont line='112'>
               <elem name='xsl:map' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                <forEach line='116'>
                 <filter flags='b'>
                  <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                  <fn name='not'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' tailCall='false' bSlot='16' eval='8 0'>
                    <cvUntyped to='AS'>
                     <attVal name='Q{}tunnel' chk='0'/>
                    </cvUntyped>
                    <false/>
                   </ufCall>
                  </fn>
                 </filter>
                 <ufCall name='Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry' tailCall='false' bSlot='17' eval='16'>
                  <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                 </ufCall>
                </forEach>
               </elem>
              </condCont>
             </sequence>
            </elem>
            <elem line='120' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
             <sequence>
              <att name='key' flags='l'>
               <str val='&#39;tunnel-params&#39;'/>
              </att>
              <condCont line='122'>
               <elem name='xsl:map' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                <forEach line='126'>
                 <filter flags='b'>
                  <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                  <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' tailCall='false' bSlot='18' eval='8 0'>
                   <cvUntyped to='AS'>
                    <attVal name='Q{}tunnel' chk='0'/>
                   </cvUntyped>
                   <false/>
                  </ufCall>
                 </filter>
                 <ufCall name='Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry' tailCall='false' bSlot='19' eval='16'>
                  <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                 </ufCall>
                </forEach>
               </elem>
              </condCont>
             </sequence>
            </elem>
           </sequence>
          </condCont>
         </forEach>
         <choose line='137'>
          <fn name='exists'>
           <slash simple='1'>
            <varRef name='Q{}call' slot='0'/>
            <axis name='attribute' nodeTest='NA nQ{}template'/>
           </slash>
          </fn>
          <elem line='139' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
           <sequence>
            <att name='key' flags='l'>
             <str val='&#39;initial-template&#39;'/>
            </att>
            <att name='select' flags='l'>
             <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}QName-expression-from-EQName-ignoring-default-ns' tailCall='false' bSlot='20' eval='16 16'>
              <check card='1' diag='0|0||x:QName-expression-from-EQName-ignoring-default-ns'>
               <cvUntyped to='AS'>
                <slash>
                 <varRef name='Q{}call' slot='0'/>
                 <attVal name='Q{}template' chk='0'/>
                </slash>
               </cvUntyped>
              </check>
              <check card='1' diag='0|1||x:QName-expression-from-EQName-ignoring-default-ns'>
               <varRef name='Q{}call' slot='0'/>
              </check>
             </ufCall>
            </att>
           </sequence>
          </elem>
          <fn line='143' name='exists'>
           <slash simple='1'>
            <varRef name='Q{}call' slot='0'/>
            <axis name='attribute' nodeTest='NA nQ{}function'/>
           </slash>
          </fn>
          <sequence line='144'>
           <elem name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
            <sequence>
             <att name='key' flags='l'>
              <str val='&#39;function-params&#39;'/>
             </att>
             <att line='145' name='select' flags='l'>
              <fn line='146' name='string-join'>
               <convert from='AZ' to='AS'>
                <data>
                 <mergeAdj>
                  <sequence>
                   <valueOf flags='S'>
                    <str val='['/>
                   </valueOf>
                   <valueOf line='148'>
                    <fn name='string-join'>
                     <convert from='AZ' to='AS'>
                      <data>
                       <forEach>
                        <sort>
                         <slash role='select' simple='1'>
                          <varRef name='Q{}call' slot='0'/>
                          <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                         </slash>
                         <sortKey line='149' comp='DecSC'>
                          <cast role='select' flags='ae' as='?ADI'>
                           <attVal name='Q{}position' chk='0'/>
                          </cast>
                          <str role='order' val='ascending'/>
                          <str role='lang' val=''/>
                          <str role='caseOrder' val='#default'/>
                          <str role='stable' val='yes'/>
                          <str role='collation' val='http://www.w3.org/2005/xpath-functions/collation/codepoint'/>
                         </sortKey>
                        </sort>
                        <ufCall line='150' name='Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-select-attr' tailCall='false' bSlot='21' eval='16'>
                         <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                        </ufCall>
                       </forEach>
                      </data>
                     </convert>
                     <str val=', '/>
                    </fn>
                   </valueOf>
                   <valueOf line='153' flags='S'>
                    <str val=']'/>
                   </valueOf>
                  </sequence>
                 </mergeAdj>
                </data>
               </convert>
               <str val=''/>
              </fn>
             </att>
            </sequence>
           </elem>
           <elem line='157' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
            <sequence>
             <att name='key' flags='l'>
              <str val='&#39;initial-function&#39;'/>
             </att>
             <att name='select' flags='l'>
              <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}QName-expression-from-EQName-ignoring-default-ns' tailCall='false' bSlot='22' eval='16 16'>
               <check card='1' diag='0|0||x:QName-expression-from-EQName-ignoring-default-ns'>
                <cvUntyped to='AS'>
                 <slash>
                  <varRef name='Q{}call' slot='0'/>
                  <attVal name='Q{}function' chk='0'/>
                 </slash>
                </cvUntyped>
               </check>
               <check card='1' diag='0|1||x:QName-expression-from-EQName-ignoring-default-ns'>
                <varRef name='Q{}call' slot='0'/>
               </check>
              </ufCall>
             </att>
            </sequence>
           </elem>
          </sequence>
          <fn line='160' name='exists'>
           <varRef name='Q{}context' slot='1'/>
          </fn>
          <sequence line='163'>
           <elem name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
            <sequence>
             <att name='key' flags='l'>
              <fn name='concat'>
               <str val='if ($'/>
               <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='23' eval='16'>
                <check card='1' diag='0|0||x:variable-UQName'>
                 <varRef name='Q{}context' slot='1'/>
                </check>
               </ufCall>
               <str val=' instance of node()) then &#39;source-node&#39; else &#39;initial-match-selection&#39;'/>
              </fn>
             </att>
             <att name='select' flags='l'>
              <fn name='concat'>
               <str val='$'/>
               <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='24' eval='16'>
                <check card='1' diag='0|0||x:variable-UQName'>
                 <varRef name='Q{}context' slot='1'/>
                </check>
               </ufCall>
              </fn>
             </att>
            </sequence>
           </elem>
           <choose line='164'>
            <fn name='exists'>
             <slash simple='1'>
              <varRef name='Q{}context' slot='1'/>
              <axis name='attribute' nodeTest='NA nQ{}mode'/>
             </slash>
            </fn>
            <elem line='166' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
             <sequence>
              <att name='key' flags='l'>
               <str val='&#39;initial-mode&#39;'/>
              </att>
              <att name='select' flags='l'>
               <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}QName-expression-from-EQName-ignoring-default-ns' tailCall='false' bSlot='25' eval='16 16'>
                <check card='1' diag='0|0||x:QName-expression-from-EQName-ignoring-default-ns'>
                 <cvUntyped to='AS'>
                  <slash>
                   <varRef name='Q{}context' slot='1'/>
                   <attVal name='Q{}mode' chk='0'/>
                  </slash>
                 </cvUntyped>
                </check>
                <check card='1' diag='0|1||x:QName-expression-from-EQName-ignoring-default-ns'>
                 <varRef name='Q{}context' slot='1'/>
                </check>
               </ufCall>
              </att>
             </sequence>
            </elem>
           </choose>
          </sequence>
         </choose>
        </sequence>
       </elem>
      </sequence>
     </elem>
    </sequence>
   </check>
  </template>
 </co>
 <co id='36' binds='37 37 37 37 37 18 10 10 10'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' cxt='1NE' flags='s' as='+NE' line='14' module='declare-variable.xsl' slots='10'>
   <sequence role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='17'>
    <param name='Q{}reason-for-pending' slot='0' flags='r' as='?AS'>
     <treat role='conversion' as='AS' diag='8|0|XTTE0590|reason-for-pending'>
      <check card='?' diag='8|0|XTTE0590|reason-for-pending'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|reason-for-pending'>
        <data diag='8|0|XTTE0590|reason-for-pending'>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='18' name='Q{}comment' slot='1' as='?AS'>
     <empty role='select'/>
     <treat role='conversion' as='AS' diag='8|0|XTTE0590|comment'>
      <check card='?' diag='8|0|XTTE0590|comment'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|comment'>
        <data diag='8|0|XTTE0590|comment'>
         <supplied slot='1'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='19' name='Q{}uqname' slot='2' flags='r' as='1AS'>
     <treat role='conversion' as='AS' diag='8|0|XTTE0590|uqname'>
      <check card='1' diag='8|0|XTTE0590|uqname'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|uqname'>
        <data diag='8|0|XTTE0590|uqname'>
         <supplied slot='2'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='20' name='Q{}exclude' slot='3' flags='r' as='*NE'>
     <treat role='conversion' as='NE' diag='8|0|XTTE0590|exclude'>
      <supplied slot='3'/>
     </treat>
    </param>
    <param line='23' name='Q{}as-global' slot='4' flags='i' as='1AB'>
     <treat role='conversion' as='AB' diag='8|0|XTTE0590|as-global'>
      <check card='1' diag='8|0|XTTE0590|as-global'>
       <cvUntyped to='AB' diag='8|0|XTTE0590|as-global'>
        <data diag='8|0|XTTE0590|as-global'>
         <supplied slot='4'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='25' name='Q{}as-param' slot='5' flags='r' as='1AB'>
     <treat role='conversion' as='AB' diag='8|0|XTTE0590|as-param'>
      <check card='1' diag='8|0|XTTE0590|as-param'>
       <cvUntyped to='AB' diag='8|0|XTTE0590|as-param'>
        <data diag='8|0|XTTE0590|as-param'>
         <supplied slot='5'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='26' name='Q{}temp-doc-uqname' slot='6' flags='r' as='?AS'>
     <treat role='conversion' as='AS' diag='8|0|XTTE0590|temp-doc-uqname'>
      <check card='?' diag='8|0|XTTE0590|temp-doc-uqname'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|temp-doc-uqname'>
        <data diag='8|0|XTTE0590|temp-doc-uqname'>
         <supplied slot='6'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <choose line='28'>
     <varRef name='Q{}temp-doc-uqname' slot='6'/>
     <compElem line='29'>
      <str role='name' val='xsl:variable'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='7'/>
      </convert>
      <sequence role='content' line='30'>
       <att name='name' flags='l'>
        <varRef name='Q{}temp-doc-uqname' slot='6'/>
       </att>
       <att line='31' name='as' flags='l'>
        <str val='document-node()'/>
       </att>
       <choose line='34'>
        <fn name='exists'>
         <axis name='attribute' nodeTest='NA nQ{}href'/>
        </fn>
        <att line='35' name='select' flags='l'>
         <convert line='36' from='AZ' to='AS'>
          <cast module='common-utils.xsl' line='65' flags='a' as='1AZ'>
           <fn name='concat'>
            <str val='doc('/>
            <fn name='concat'>
             <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='0'/>
             <fn module='declare-variable.xsl' line='36' name='replace'>
              <check card='1' diag='0|0||x:quote-with-apos'>
               <convert from='AU' to='AS'>
                <fn name='resolve-uri'>
                 <cvUntyped to='AS'>
                  <attVal name='Q{}href' chk='0'/>
                 </cvUntyped>
                 <check card='1' diag='0|1||fn:resolve-uri'>
                  <convert from='AU' to='AS'>
                   <fn name='base-uri'>
                    <dot type='1NE'/>
                   </fn>
                  </convert>
                 </check>
                </fn>
               </convert>
              </check>
              <gVarRef module='common-utils.xsl' line='64' name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='1'/>
              <fn module='common-utils.xsl' line='64' name='concat'>
               <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='2'/>
               <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='3'/>
              </fn>
              <str val=''/>
             </fn>
             <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='4'/>
            </fn>
            <str val=')'/>
           </fn>
          </cast>
         </convert>
        </att>
        <true/>
        <compElem line='41' flags='l'>
         <str role='name' val='xsl:document'/>
         <convert role='namespace' from='AU' to='AS'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='6'/>
         </convert>
         <applyT role='content' line='42' mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='5'>
          <except role='select' op='except'>
           <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
           <docOrder intra='0'>
            <varRef name='Q{}exclude' slot='3'/>
           </docOrder>
          </except>
         </applyT>
        </compElem>
       </choose>
      </sequence>
     </compElem>
    </choose>
    <compElem line='50'>
     <fn role='name' name='concat'>
      <str val='xsl:'/>
      <choose>
       <varRef name='Q{}as-param' slot='5'/>
       <str val='param'/>
       <true/>
       <str val='variable'/>
      </choose>
     </fn>
     <convert role='namespace' from='AU' to='AS'>
      <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='8'/>
     </convert>
     <sequence role='content' line='53'>
      <choose>
       <or op='or'>
        <fn name='exists'>
         <axis name='attribute' nodeTest='NA nQ{}as'/>
        </fn>
        <fn name='exists'>
         <axis name='attribute' nodeTest='NA nQ{}select'/>
        </fn>
       </or>
       <let line='54' var='Q{}element' as='1NE' slot='7' eval='16'>
        <dot type='1NE'/>
        <forEach module='namespace-utils.xsl' line='42'>
         <filter flags='b'>
          <fn name='in-scope-prefixes'>
           <varRef name='Q{}element' slot='7'/>
          </fn>
          <compareToString op='ne' val='xml'>
           <dot type='1AS'/>
          </compareToString>
         </filter>
         <namespace line='43' flags='l'>
          <dot role='name' type='1AS'/>
          <convert role='select' from='AU' to='AS'>
           <fn name='namespace-uri-for-prefix'>
            <dot type='1AS'/>
            <varRef name='Q{}element' slot='7'/>
           </fn>
          </convert>
         </namespace>
        </forEach>
       </let>
      </choose>
      <att line='57' name='name' flags='l'>
       <varRef name='Q{}uqname' slot='2'/>
      </att>
      <axis line='58' name='attribute' nodeTest='NA nQ{}as'/>
      <choose line='61'>
       <fn name='exists'>
        <varRef name='Q{}reason-for-pending' slot='0'/>
       </fn>
       <att line='65' name='as' flags='l'>
        <str val='item()*'/>
       </att>
       <varRef line='68' name='Q{}temp-doc-uqname' slot='6'/>
       <att line='71' name='select' flags='l'>
        <convert line='72' from='AZ' to='AS'>
         <cast flags='a' as='1AZ'>
          <fn name='concat'>
           <str val='$'/>
           <fn name='string'>
            <varRef name='Q{}temp-doc-uqname' slot='6'/>
           </fn>
           <str val=' ! ( '/>
           <let line='70' var='Q{http://saxon.sf.net/generated-variable}current435189327' as='1' slot='8' eval='16'>
            <dot type='1NE'/>
            <let var='Q{http://saxon.sf.net/generated-variable}v0' as='?NA nQ{}href' slot='9' eval='13'>
             <slash simple='1'>
              <varRef name='Q{http://saxon.sf.net/generated-variable}current435189327' slot='8'/>
              <axis name='attribute' nodeTest='NA nQ{}href'/>
             </slash>
             <treat as='AS' diag='3|0|XTTE0570|selection'>
              <check card='1' diag='3|0|XTTE0570|selection'>
               <cvUntyped to='AS' diag='3|0|XTTE0570|selection'>
                <data diag='3|0|XTTE0570|selection'>
                 <first>
                  <sequence>
                   <axis name='attribute' nodeTest='NA nQ{}select'/>
                   <filter flags='ib'>
                    <str val='.'/>
                    <fn name='exists'>
                     <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='9'/>
                    </fn>
                   </filter>
                   <str val='node()'/>
                  </sequence>
                 </first>
                </data>
               </cvUntyped>
              </check>
             </treat>
            </let>
           </let>
           <str val=' )'/>
          </fn>
         </cast>
        </convert>
       </att>
       <and line='76' op='and'>
        <fn name='empty'>
         <axis name='attribute' nodeTest='NA nQ{}as'/>
        </fn>
        <fn name='empty'>
         <axis name='attribute' nodeTest='NA nQ{}select'/>
        </fn>
       </and>
       <att line='85' name='select' flags='l'>
        <str val='()'/>
       </att>
       <true/>
       <axis line='89' name='attribute' nodeTest='NA nQ{}select'/>
      </choose>
      <choose line='93'>
       <varRef name='Q{}comment' slot='1'/>
       <comment line='94' flags='l'>
        <varRef name='Q{}comment' slot='1'/>
       </comment>
      </choose>
     </sequence>
    </compElem>
   </sequence>
  </template>
 </co>
 <co id='38' binds='5 17 17 17 17 17 17'>
  <mode name='Q{urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local}gather-user-content' onNo='SC' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='0.0' seq='25' rank='1' minImp='0' slots='2' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}space' flags='s' as='0' line='112' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}space'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='114' card='0' diag='7|0|XTTE0505|match="x:space" mode="local:gather-user-content"'>
     <message>
      <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
       <withParam name='Q{}message' flags='c' as='1ND'>
        <cvUntyped line='118' to='AS' diag='8|0|XTTE0590|message'>
         <data diag='8|0|XTTE0590|message'>
          <doc flags='t'>
           <valueOf flags='l'>
            <fn name='concat'>
             <fn name='name'>
              <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}space' flags='a'/>
             </fn>
             <str val=' is obsolete. Use '/>
             <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}context-element' as='1NE' slot='0' eval='16'>
              <dot ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}space' flags='a'/>
              <let module='compiler-misc-utils.xsl' line='79' var='Q{}context-node-name' as='1AQ' slot='1' eval='16'>
               <check card='1' diag='3|0|XTTE0570|context-node-name'>
                <fn name='node-name'>
                 <varRef name='Q{}context-element' slot='0'/>
                </fn>
               </check>
               <fn line='96' name='string-join'>
                <sequence>
                 <filter flags='b'>
                  <choose line='83'>
                   <vc op='eq' onEmpty='0' comp='CCC'>
                    <fn name='namespace-uri-from-QName'>
                     <varRef name='Q{}context-node-name' slot='1'/>
                    </fn>
                    <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='1'/>
                   </vc>
                   <fn line='84' name='prefix-from-QName'>
                    <varRef name='Q{}context-node-name' slot='1'/>
                   </fn>
                   <true/>
                   <treat line='91' as='AS' diag='3|0|XTTE0570|prefix'>
                    <check card='?' diag='3|0|XTTE0570|prefix'>
                     <cvUntyped to='AS' diag='3|0|XTTE0570|prefix'>
                      <data diag='3|0|XTTE0570|prefix'>
                       <first>
                        <fn name='sort'>
                         <check line='90' card='+' diag='3|0|XTTE0570|xspec-prefixes'>
                          <filter flags=''>
                           <fn name='in-scope-prefixes'>
                            <varRef name='Q{}context-element' slot='0'/>
                           </fn>
                           <vc op='eq' comp='CCC'>
                            <fn name='namespace-uri-for-prefix'>
                             <dot type='1AS'/>
                             <varRef name='Q{}context-element' slot='0'/>
                            </fn>
                            <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='2'/>
                           </vc>
                          </filter>
                         </check>
                        </fn>
                       </first>
                      </data>
                     </cvUntyped>
                    </check>
                   </treat>
                  </choose>
                  <fn name='boolean'>
                   <dot type='1AS'/>
                  </fn>
                 </filter>
                 <str val='text'/>
                </sequence>
                <str val=':'/>
               </fn>
              </let>
             </let>
             <str val=' instead.'/>
            </fn>
           </valueOf>
          </doc>
         </data>
        </cvUntyped>
       </withParam>
      </callT>
      <str role='terminate' val='yes'/>
      <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
     </message>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='27' rank='1' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}text' flags='s' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}text' line='126' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}text'/>
    <treat role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='128' as='NE nQ{http://www.jenitennison.com/xslt/xspec}text' diag='7|0|XTTE0505|match="x:text" mode="local:gather-user-content"'>
     <check card='?' diag='7|0|XTTE0505|match="x:text" mode="local:gather-user-content"'>
      <applyT flags='cti' bSlot='-1'>
       <axis role='select' name='child' nodeTest='N'/>
      </applyT>
     </check>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='26' rank='1' minImp='0' slots='0' matches='NA nQ{http://www.jenitennison.com/xslt/xspec}expand-text' flags='s' as='0' line='124' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NA nQ{http://www.jenitennison.com/xslt/xspec}expand-text'/>
    <empty role='action'/>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='28' rank='0' minImp='0' slots='8' matches='NT' flags='s' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}text' line='131' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NT'/>
    <sequence role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='132'>
     <param name='Q{}preserve-space' slot='0' flags='tr' as='*AQ'>
      <treat role='conversion' as='AQ' diag='8|0|XTTE0590|preserve-space'>
       <cvUntyped to='AQ'>
        <data diag='8|0|XTTE0590|preserve-space'>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </treat>
     </param>
     <choose line='135'>
      <or op='or'>
       <fn name='normalize-space'>
        <fn name='string'>
         <dot type='1NT' flags='a'/>
        </fn>
       </fn>
       <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}preserve-space-qnames' as='*AQ' slot='1' eval='1'>
        <varRef ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' name='Q{}preserve-space' slot='0'/>
        <slash module='user-content-utils.xsl' line='59'>
         <dot ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='gather-specs.xsl' line='135' type='1NT' flags='a'/>
         <or op='or'>
          <or op='or'>
           <fn name='exists'>
            <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}text'/>
           </fn>
           <vc op='eq' onEmpty='0' comp='CCC'>
            <atomSing card='?' diag='1|0||eq'>
             <slash simple='1'>
              <first>
               <filter flags='b'>
                <axis name='ancestor' nodeTest='NE'/>
                <fn name='exists'>
                 <axis name='attribute' nodeTest='NA nQ{http://www.w3.org/XML/1998/namespace}space'/>
                </fn>
               </filter>
              </first>
              <axis name='attribute' nodeTest='NA nQ{http://www.w3.org/XML/1998/namespace}space'/>
             </slash>
            </atomSing>
            <str val='preserve'/>
           </vc>
          </or>
          <gcEE op='=' card='N:1' comp='EQC'>
           <varRef name='Q{}preserve-space-qnames' slot='1'/>
           <fn name='node-name'>
            <check card='?' diag='0|0||fn:node-name'>
             <axis name='parent' nodeTest='NE'/>
            </check>
           </fn>
          </gcEE>
         </or>
        </slash>
       </let>
      </or>
      <treat line='145' as='NE nQ{http://www.jenitennison.com/xslt/xspec}text' diag='7|0|XTTE0505|match="text()" mode="local:gather-user-content"'>
       <compElem>
        <let role='name' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}context-element' as='1NE' slot='5' eval='16'>
         <check ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' card='1' diag='0|1||x:xspec-name'>
          <first>
           <filter flags='b'>
            <slash simple='1'>
             <dot type='1NT' flags='a'/>
             <axis name='ancestor' nodeTest='NE'/>
            </slash>
            <gcEE op='=' card='N:1' comp='CCC'>
             <let var='Q{}element' as='1NE' slot='6' eval='16'>
              <dot type='1NE'/>
              <data ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='namespace-utils.xsl' line='42' diag='1|0||='>
               <forEach>
                <filter flags='b'>
                 <fn name='in-scope-prefixes'>
                  <varRef name='Q{}element' slot='6'/>
                 </fn>
                 <compareToString op='ne' val='xml'>
                  <dot type='1AS'/>
                 </compareToString>
                </filter>
                <namespace line='43'>
                 <dot role='name' type='1AS'/>
                 <convert role='select' from='AU' to='AS'>
                  <fn name='namespace-uri-for-prefix'>
                   <dot type='1AS'/>
                   <varRef name='Q{}element' slot='6'/>
                  </fn>
                 </convert>
                </namespace>
               </forEach>
              </data>
             </let>
             <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='3'/>
            </gcEE>
           </filter>
          </first>
         </check>
         <let module='compiler-misc-utils.xsl' line='79' var='Q{}context-node-name' as='1AQ' slot='7' eval='16'>
          <check card='1' diag='3|0|XTTE0570|context-node-name'>
           <fn name='node-name'>
            <varRef name='Q{}context-element' slot='5'/>
           </fn>
          </check>
          <fn line='96' name='string-join'>
           <sequence>
            <filter flags='b'>
             <choose line='83'>
              <vc op='eq' onEmpty='0' comp='CCC'>
               <fn name='namespace-uri-from-QName'>
                <varRef name='Q{}context-node-name' slot='7'/>
               </fn>
               <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='4'/>
              </vc>
              <fn line='84' name='prefix-from-QName'>
               <varRef name='Q{}context-node-name' slot='7'/>
              </fn>
              <true/>
              <treat line='91' as='AS' diag='3|0|XTTE0570|prefix'>
               <check card='?' diag='3|0|XTTE0570|prefix'>
                <cvUntyped to='AS' diag='3|0|XTTE0570|prefix'>
                 <data diag='3|0|XTTE0570|prefix'>
                  <first>
                   <fn name='sort'>
                    <check line='90' card='+' diag='3|0|XTTE0570|xspec-prefixes'>
                     <filter flags=''>
                      <fn name='in-scope-prefixes'>
                       <varRef name='Q{}context-element' slot='5'/>
                      </fn>
                      <vc op='eq' comp='CCC'>
                       <fn name='namespace-uri-for-prefix'>
                        <dot type='1AS'/>
                        <varRef name='Q{}context-element' slot='5'/>
                       </fn>
                       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='5'/>
                      </vc>
                     </filter>
                    </check>
                   </fn>
                  </first>
                 </data>
                </cvUntyped>
               </check>
              </treat>
             </choose>
             <fn name='boolean'>
              <dot type='1AS'/>
             </fn>
            </filter>
            <str val='text'/>
           </sequence>
           <str val=':'/>
          </fn>
         </let>
        </let>
        <convert role='namespace' from='AU' to='AS'>
         <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='6'/>
        </convert>
        <let role='content' line='153' var='Q{}expand-text' as='?NA' slot='2' eval='7'>
         <check card='?' diag='3|0|XTTE0570|expand-text'>
          <filter flags='b'>
           <slash simple='1'>
            <first>
             <filter flags='b'>
              <slash simple='1'>
               <dot type='1NT' flags='a'/>
               <axis name='ancestor' nodeTest='NE'/>
              </slash>
              <fn name='exists'>
               <choose>
                <fn name='exists'>
                 <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
                </fn>
                <axis name='attribute' nodeTest='NA nQ{}expand-text'/>
                <true/>
                <axis name='attribute' nodeTest='NA nQ{http://www.jenitennison.com/xslt/xspec}expand-text'/>
               </choose>
              </fn>
             </filter>
            </first>
            <axis name='attribute' nodeTest='NA'/>
           </slash>
           <fn name='exists'>
            <choose>
             <fn name='exists'>
              <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
             </fn>
             <axis name='self' nodeTest='NA nQ{}expand-text'/>
             <true/>
             <axis name='self' nodeTest='NA nQ{http://www.jenitennison.com/xslt/xspec}expand-text'/>
            </choose>
           </fn>
          </filter>
         </check>
         <sequence line='154'>
          <choose>
           <fn name='exists'>
            <varRef name='Q{}expand-text' slot='2'/>
           </fn>
           <sequence line='155'>
            <choose>
             <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}input' as='1AS' slot='3' eval='16'>
              <check ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' card='1' diag='0|0||x:yes-no-synonym'>
               <cvUntyped to='AS'>
                <data diag='0|0||x:yes-no-synonym'>
                 <varRef name='Q{}expand-text' slot='2'/>
                </data>
               </cvUntyped>
              </check>
              <choose module='yes-no-utils.xsl' line='16'>
               <gcEE op='=' card='N:1' comp='CCC'>
                <literal count='3'>
                 <str val='yes'/>
                 <str val='true'/>
                 <str val='1'/>
                </literal>
                <varRef name='Q{}input' slot='3'/>
               </gcEE>
               <true/>
               <gcEE line='19' op='=' card='N:1' comp='CCC'>
                <literal count='3'>
                 <str val='no'/>
                 <str val='false'/>
                 <str val='0'/>
                </literal>
                <varRef name='Q{}input' slot='3'/>
               </gcEE>
               <false/>
               <true/>
               <error message='Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:yes-no-synonym#1' code='XTTE0780' isTypeErr='0'/>
              </choose>
             </let>
             <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='158' var='Q{}element' as='1NE' slot='4' eval='16'>
              <check ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' card='1' diag='0|0||x:copy-of-namespaces'>
               <axis name='parent' nodeTest='NE'/>
              </check>
              <forEach module='namespace-utils.xsl' line='42'>
               <filter flags='b'>
                <fn name='in-scope-prefixes'>
                 <varRef name='Q{}element' slot='4'/>
                </fn>
                <compareToString op='ne' val='xml'>
                 <dot type='1AS'/>
                </compareToString>
               </filter>
               <namespace line='43' flags='l'>
                <dot role='name' type='1AS'/>
                <convert role='select' from='AU' to='AS'>
                 <fn name='namespace-uri-for-prefix'>
                  <dot type='1AS'/>
                  <varRef name='Q{}element' slot='4'/>
                 </fn>
                </convert>
               </namespace>
              </forEach>
             </let>
            </choose>
            <att line='161' name='expand-text' flags='l'>
             <convert from='AZ' to='AS'>
              <data>
               <varRef name='Q{}expand-text' slot='2'/>
              </data>
             </convert>
            </att>
           </sequence>
          </choose>
          <dot line='164' type='1NT' flags='a'/>
         </sequence>
        </let>
       </compElem>
      </treat>
     </choose>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='39' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}left-trim' line='9' module='trim.xsl' eval='8' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}input' as='1AS'/>
   <fn role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='12' name='replace'>
    <varRef name='Q{}input' slot='0'/>
    <str val='^\s+'/>
    <str val=''/>
    <str val=''/>
   </fn>
  </function>
 </co>
 <co id='40' binds='11 5 41'>
  <template name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-scenario-param-run-as-import' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}param' flags='s' as='0' line='111' module='check-combined-doc.xsl' slots='0'>
   <choose role='body' ns='local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='115'>
    <fn name='not'>
     <gVarRef name='Q{}is-external' bSlot='0'/>
    </fn>
    <check line='117' card='0' diag='7|0|XTTE0505|local:detect-scenario-param-run-as-import'>
     <message>
      <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='1'>
       <withParam name='Q{}message' flags='c' as='1ND'>
        <cvUntyped line='121' to='AS' diag='8|0|XTTE0590|message'>
         <data diag='8|0|XTTE0590|message'>
          <doc flags='t'>
           <valueOf flags='l'>
            <fn name='concat'>
             <fn name='name'>
              <check card='?' diag='0|0||fn:name'>
               <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
              </check>
             </fn>
             <str val=' has '/>
             <fn name='name'>
              <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
             </fn>
             <str val=', which is supported only when /'/>
             <fn name='string'>
              <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}node-UQName' tailCall='false' bSlot='2' eval='16'>
               <check card='1' diag='0|0||x:node-UQName'>
                <slash simple='1'>
                 <root/>
                 <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
                </slash>
               </check>
              </ufCall>
             </fn>
             <str val=' has @run-as=&#39;external&#39;.'/>
            </fn>
           </valueOf>
          </doc>
         </data>
        </cvUntyped>
       </withParam>
      </callT>
      <str role='terminate' val='yes'/>
      <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
     </message>
    </check>
   </choose>
  </template>
 </co>
 <co id='42' binds='37 37 37 37 37'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}quote-with-apos' line='60' module='common-utils.xsl' eval='8' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}input' as='1AS'/>
   <fn role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='65' name='concat'>
    <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='0'/>
    <fn line='64' name='replace'>
     <varRef name='Q{}input' slot='0'/>
     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='1'/>
     <fn name='concat'>
      <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='2'/>
      <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='3'/>
     </fn>
     <str val=''/>
    </fn>
    <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='4'/>
   </fn>
  </function>
 </co>
 <co id='17' binds=''>
  <globalVariable name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' as='1AU' line='13' module='common-utils.xsl' visibility='PRIVATE'>
   <atomic val='http://www.jenitennison.com/xslt/xspec' type='AU'/>
  </globalVariable>
 </co>
 <co id='43' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}decimal-string' line='28' module='common-utils.xsl' eval='16' flags='pU' as='1AS' slots='2'>
   <arg name='Q{}decimal' as='1AD'/>
   <let role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='31' var='Q{}decimal-string' as='1AS' slot='1' eval='8'>
    <fn name='string'>
     <varRef name='Q{}decimal' slot='0'/>
    </fn>
    <choose line='38'>
     <fn name='contains'>
      <varRef name='Q{}decimal-string' slot='1'/>
      <str val='.'/>
     </fn>
     <varRef name='Q{}decimal-string' slot='1'/>
     <true/>
     <fn name='concat'>
      <varRef name='Q{}decimal-string' slot='1'/>
      <str val='.0'/>
     </fn>
    </choose>
   </let>
  </function>
 </co>
 <co id='44' binds='13 13 10 15 37 37 13 13 13 13 13 13 13 13 13 13 10 10 13 13 13 13 13 13 13 45 13 13 3 13 8 13 13 13 3 13 13 18 13 10 18 46 13 13 13 13 3 10 10'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}compile-expect' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}template' line='15' module='compile-expect.xsl' slots='11'>
   <check role='body' ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='18' card='1' diag='7|0|XTTE0505|x:compile-expect'>
    <sequence>
     <param name='Q{}call' slot='0' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}call' diag='8|0|XTTE0590|call'>
       <check card='?' diag='8|0|XTTE0590|call'>
        <supplied slot='0'/>
       </check>
      </treat>
     </param>
     <param line='19' name='Q{}context' slot='1' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}context' diag='8|0|XTTE0590|context'>
       <check card='?' diag='8|0|XTTE0590|context'>
        <supplied slot='1'/>
       </check>
      </treat>
     </param>
     <param line='20' name='Q{}reason-for-pending' slot='2' flags='r' as='?AS'>
      <treat role='conversion' as='AS' diag='8|0|XTTE0590|reason-for-pending'>
       <check card='?' diag='8|0|XTTE0590|reason-for-pending'>
        <cvUntyped to='AS' diag='8|0|XTTE0590|reason-for-pending'>
         <data diag='8|0|XTTE0590|reason-for-pending'>
          <supplied slot='2'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='23' name='Q{}param-uqnames' slot='3' flags='r' as='*AS'>
      <treat role='conversion' as='AS' diag='8|0|XTTE0590|param-uqnames'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|param-uqnames'>
        <data diag='8|0|XTTE0590|param-uqnames'>
         <supplied slot='3'/>
        </data>
       </cvUntyped>
      </treat>
     </param>
     <treat line='25' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-expect'>
      <compElem>
       <str role='name' val='xsl:template'/>
       <convert role='namespace' from='AU' to='AS'>
        <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='48'/>
       </convert>
       <sequence role='content' line='26'>
        <att name='name' flags='l'>
         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='0' eval='16'>
          <fn name='concat'>
           <str val='x:'/>
           <attVal name='Q{}id' chk='0'/>
          </fn>
         </ufCall>
        </att>
        <att line='27' name='as' flags='l'>
         <fn name='concat'>
          <str val='element('/>
          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='1' eval='0'>
           <str val='x:test'/>
          </ufCall>
          <str val=')'/>
         </fn>
        </att>
        <compElem line='29' flags='l'>
         <str role='name' val='xsl:context-item'/>
         <convert role='namespace' from='AU' to='AS'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='2'/>
         </convert>
         <att role='content' line='30' name='use' flags='l'>
          <str val='absent'/>
         </att>
        </compElem>
        <forEach line='33'>
         <varRef name='Q{}param-uqnames' slot='3'/>
         <elem line='34' name='xsl:param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
          <sequence>
           <att name='name' flags='l'>
            <dot type='1AS'/>
           </att>
           <att name='as' flags='l'>
            <str val='item()*'/>
           </att>
           <att name='required' flags='l'>
            <str val='yes'/>
           </att>
          </sequence>
         </elem>
        </forEach>
        <elem line='37' name='xsl:message' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
         <sequence line='38'>
          <choose>
           <fn name='exists'>
            <varRef name='Q{}reason-for-pending' slot='2'/>
           </fn>
           <sequence line='39'>
            <valueOf flags='l'>
             <str val='PENDING: '/>
            </valueOf>
            <forEach line='40'>
             <filter flags='b'>
              <fn name='normalize-space'>
               <varRef name='Q{}reason-for-pending' slot='2'/>
              </fn>
              <fn name='boolean'>
               <dot type='1AS'/>
              </fn>
             </filter>
             <valueOf line='41' flags='l'>
              <fn name='concat'>
               <str val='('/>
               <dot type='1AS'/>
               <str val=') '/>
              </fn>
             </valueOf>
            </forEach>
           </sequence>
          </choose>
          <valueOf line='44' flags='l'>
           <fn name='normalize-space'>
            <cvUntyped to='AS'>
             <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}labelled' as='1NE' slot='4' eval='16'>
              <dot ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
              <data module='compiler-misc-utils.xsl' line='13' diag='0|0||fn:normalize-space'>
               <treat as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
                <compElem>
                 <str role='name' val='label'/>
                 <convert role='namespace' from='AU' to='AS'>
                  <fn name='namespace-uri'>
                   <varRef name='Q{}labelled' slot='4'/>
                  </fn>
                 </convert>
                 <valueOf role='content' line='14' flags='l'>
                  <convert from='A' to='AS'>
                   <data>
                    <first>
                     <sequence>
                      <slash simple='1'>
                       <varRef name='Q{}labelled' slot='4'/>
                       <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                      </slash>
                      <slash simple='1'>
                       <varRef name='Q{}labelled' slot='4'/>
                       <axis name='attribute' nodeTest='NA nQ{}label'/>
                      </slash>
                     </sequence>
                    </first>
                   </data>
                  </convert>
                 </valueOf>
                </compElem>
               </treat>
              </data>
             </let>
            </cvUntyped>
           </fn>
          </valueOf>
         </sequence>
        </elem>
        <choose line='47'>
         <fn name='empty'>
          <varRef name='Q{}reason-for-pending' slot='2'/>
         </fn>
         <let line='48' var='Q{}xslt-version' as='1AD' slot='5' eval='16'>
          <treat ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compiler-misc-utils.xsl' line='41' as='AD' diag='5|0|XTTE0780|x:xslt-version#1'>
           <check card='1' diag='5|0|XTTE0780|x:xslt-version#1'>
            <cvUntyped to='AD' diag='5|0|XTTE0780|x:xslt-version#1'>
             <data diag='5|0|XTTE0780|x:xslt-version#1'>
              <first>
               <sequence>
                <slash simple='1'>
                 <slash>
                  <dot ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compile-expect.xsl' line='48' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                  <first>
                   <filter flags='b'>
                    <axis name='ancestor-or-self' nodeTest='NE'/>
                    <fn name='exists'>
                     <axis name='attribute' nodeTest='NA nQ{}xslt-version'/>
                    </fn>
                   </filter>
                  </first>
                 </slash>
                 <axis name='attribute' nodeTest='NA nQ{}xslt-version'/>
                </slash>
                <dec val='3'/>
               </sequence>
              </first>
             </data>
            </cvUntyped>
           </check>
          </treat>
          <let line='57' var='Q{http://saxon.sf.net/generated-variable}v0' as='1AB' slot='6' eval='13'>
           <compareToInt op='eq' val='1'>
            <varRef name='Q{}xslt-version' slot='5'/>
           </compareToInt>
           <sequence line='51'>
            <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' bSlot='3'>
             <dot role='select' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
             <withParam name='Q{}comment' as='1AS'>
              <str val='expected result'/>
             </withParam>
            </applyT>
            <let line='57' var='Q{}deep-equal-flags' as='1AS' slot='7' eval='8'>
             <fn name='concat'>
              <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='4'/>
              <filter flags='ib'>
               <str val='1'/>
               <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='6'/>
              </filter>
              <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='5'/>
             </fn>
             <sequence line='60'>
              <choose>
               <fn name='exists'>
                <axis name='attribute' nodeTest='NA nQ{}test'/>
               </fn>
               <sequence line='61'>
                <comment flags='l'>
                 <str val=' wrap $x:result into a document node if possible '/>
                </comment>
                <elem line='66' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <sequence>
                  <att name='name' flags='l'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='6' eval='0'>
                    <str val='impl:test-items'/>
                   </ufCall>
                  </att>
                  <att name='as' flags='l'>
                   <str val='item()*'/>
                  </att>
                  <elem line='67' name='xsl:choose' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                   <sequence line='74'>
                    <elem name='xsl:when' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                     <sequence>
                      <att name='test' flags='l'>
                       <fn name='concat'>
                        <str val='exists($'/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='7' eval='0'>
                         <str val='x:result'/>
                        </ufCall>
                        <str val=') and '/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='8' eval='0'>
                         <str val='x:wrappable-sequence'/>
                        </ufCall>
                        <str val='($'/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='9' eval='0'>
                         <str val='x:result'/>
                        </ufCall>
                        <str val=')'/>
                       </fn>
                      </att>
                      <elem line='75' name='xsl:sequence' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                       <att name='select' flags='l'>
                        <fn name='concat'>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='10' eval='0'>
                          <str val='x:wrap-nodes'/>
                         </ufCall>
                         <str val='($'/>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='11' eval='0'>
                          <str val='x:result'/>
                         </ufCall>
                         <str val=')'/>
                        </fn>
                       </att>
                      </elem>
                     </sequence>
                    </elem>
                    <elem line='77' name='xsl:otherwise' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                     <elem line='78' name='xsl:sequence' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                      <att name='select' flags='l'>
                       <fn name='concat'>
                        <str val='$'/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='12' eval='0'>
                         <str val='x:result'/>
                        </ufCall>
                       </fn>
                      </att>
                     </elem>
                    </elem>
                   </sequence>
                  </elem>
                 </sequence>
                </elem>
                <comment line='83' flags='l'>
                 <str val=' evaluate the predicate with $x:result (or its wrapper document node) as context item if it is a single item; if not, evaluate the predicate without context item '/>
                </comment>
                <elem line='84' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <sequence>
                  <att name='name' flags='l'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='13' eval='0'>
                    <str val='impl:test-result'/>
                   </ufCall>
                  </att>
                  <att name='as' flags='l'>
                   <str val='item()*'/>
                  </att>
                  <elem line='85' name='xsl:choose' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                   <sequence line='86'>
                    <elem name='xsl:when' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                     <sequence>
                      <att name='test' flags='l'>
                       <fn name='concat'>
                        <str val='count($'/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='14' eval='0'>
                         <str val='impl:test-items'/>
                        </ufCall>
                        <str val=') eq 1'/>
                       </fn>
                      </att>
                      <elem line='87' name='xsl:for-each' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                       <sequence>
                        <att name='select' flags='l'>
                         <fn name='concat'>
                          <str val='$'/>
                          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='15' eval='0'>
                           <str val='impl:test-items'/>
                          </ufCall>
                         </fn>
                        </att>
                        <compElem line='88' flags='l'>
                         <str role='name' val='xsl:sequence'/>
                         <convert role='namespace' from='AU' to='AS'>
                          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='16'/>
                         </convert>
                         <sequence role='content' line='91'>
                          <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}element' as='1NE' slot='8' eval='16'>
                           <dot ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                           <forEach module='namespace-utils.xsl' line='42'>
                            <filter flags='b'>
                             <fn name='in-scope-prefixes'>
                              <varRef name='Q{}element' slot='8'/>
                             </fn>
                             <compareToString op='ne' val='xml'>
                              <dot type='1AS'/>
                             </compareToString>
                            </filter>
                            <namespace line='43' flags='l'>
                             <dot role='name' type='1AS'/>
                             <convert role='select' from='AU' to='AS'>
                              <fn name='namespace-uri-for-prefix'>
                               <dot type='1AS'/>
                               <varRef name='Q{}element' slot='8'/>
                              </fn>
                             </convert>
                            </namespace>
                           </forEach>
                          </let>
                          <att line='93' name='select' flags='l'>
                           <convert from='AZ' to='AS'>
                            <attVal name='Q{}test' chk='0'/>
                           </convert>
                          </att>
                          <att line='94' name='version' flags='l'>
                           <convert from='AD' to='AS'>
                            <varRef name='Q{}xslt-version' slot='5'/>
                           </convert>
                          </att>
                         </sequence>
                        </compElem>
                       </sequence>
                      </elem>
                     </sequence>
                    </elem>
                    <elem line='98' name='xsl:otherwise' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                     <compElem line='99' flags='l'>
                      <str role='name' val='xsl:sequence'/>
                      <convert role='namespace' from='AU' to='AS'>
                       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='17'/>
                      </convert>
                      <sequence role='content' line='102'>
                       <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}element' as='1NE' slot='9' eval='16'>
                        <dot ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                        <forEach module='namespace-utils.xsl' line='42'>
                         <filter flags='b'>
                          <fn name='in-scope-prefixes'>
                           <varRef name='Q{}element' slot='9'/>
                          </fn>
                          <compareToString op='ne' val='xml'>
                           <dot type='1AS'/>
                          </compareToString>
                         </filter>
                         <namespace line='43' flags='l'>
                          <dot role='name' type='1AS'/>
                          <convert role='select' from='AU' to='AS'>
                           <fn name='namespace-uri-for-prefix'>
                            <dot type='1AS'/>
                            <varRef name='Q{}element' slot='9'/>
                           </fn>
                          </convert>
                         </namespace>
                        </forEach>
                       </let>
                       <att line='104' name='select' flags='l'>
                        <convert from='AZ' to='AS'>
                         <attVal name='Q{}test' chk='0'/>
                        </convert>
                       </att>
                       <att line='105' name='version' flags='l'>
                        <convert from='AD' to='AS'>
                         <varRef name='Q{}xslt-version' slot='5'/>
                        </convert>
                       </att>
                      </sequence>
                     </compElem>
                    </elem>
                   </sequence>
                  </elem>
                 </sequence>
                </elem>
                <elem line='113' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <sequence>
                  <att name='name' flags='l'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='18' eval='0'>
                    <str val='impl:boolean-test'/>
                   </ufCall>
                  </att>
                  <att name='as' flags='l'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='19' eval='0'>
                    <str val='xs:boolean'/>
                   </ufCall>
                  </att>
                  <att name='select' flags='l'>
                   <fn name='concat'>
                    <str val='$'/>
                    <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='20' eval='0'>
                     <str val='impl:test-result'/>
                    </ufCall>
                    <str val=' instance of '/>
                    <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='21' eval='0'>
                     <str val='xs:boolean'/>
                    </ufCall>
                   </fn>
                  </att>
                 </sequence>
                </elem>
                <comment line='115' flags='l'>
                 <str val=' did the test pass? '/>
                </comment>
                <elem line='116' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <sequence>
                  <att name='name' flags='l'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='22' eval='0'>
                    <str val='impl:successful'/>
                   </ufCall>
                  </att>
                  <att name='as' flags='l'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='23' eval='0'>
                    <str val='xs:boolean'/>
                   </ufCall>
                  </att>
                  <elem line='117' name='xsl:choose' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                   <sequence line='118'>
                    <elem name='xsl:when' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                     <sequence>
                      <att name='test' flags='l'>
                       <fn name='concat'>
                        <str val='$'/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='24' eval='0'>
                         <str val='impl:boolean-test'/>
                        </ufCall>
                       </fn>
                      </att>
                      <choose line='120'>
                       <slash ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compile-expect.xsl' line='16'>
                        <dot ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compile-expect.xsl' line='120' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                        <or op='or'>
                         <or op='or'>
                          <or op='or'>
                           <fn name='exists'>
                            <axis name='attribute' nodeTest='NA nQ{}as'/>
                           </fn>
                           <fn name='exists'>
                            <axis name='attribute' nodeTest='NA nQ{}href'/>
                           </fn>
                          </or>
                          <fn name='exists'>
                           <axis name='attribute' nodeTest='NA nQ{}select'/>
                          </fn>
                         </or>
                         <fn name='exists'>
                          <axis name='child' nodeTest='N d[N u[NE,NT,NC,NP],NE nQ{http://www.jenitennison.com/xslt/xspec}label]'/>
                         </fn>
                        </or>
                       </slash>
                       <elem line='121' name='xsl:message' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                        <sequence>
                         <att name='terminate' flags='l'>
                          <str val='yes'/>
                         </att>
                         <valueOf line='122' flags='l'>
                          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}boolean-with-comparison' tailCall='false' bSlot='25' eval='16'>
                           <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                          </ufCall>
                         </valueOf>
                        </sequence>
                       </elem>
                       <true/>
                       <elem line='128' name='xsl:sequence' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                        <att name='select' flags='l'>
                         <fn name='concat'>
                          <str val='$'/>
                          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='26' eval='0'>
                           <str val='impl:test-result'/>
                          </ufCall>
                          <str val=' =&gt; boolean()'/>
                         </fn>
                        </att>
                       </elem>
                      </choose>
                     </sequence>
                    </elem>
                    <elem line='132' name='xsl:otherwise' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                     <choose line='134'>
                      <slash ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compile-expect.xsl' line='16'>
                       <dot ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compile-expect.xsl' line='134' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                       <or op='or'>
                        <or op='or'>
                         <or op='or'>
                          <fn name='exists'>
                           <axis name='attribute' nodeTest='NA nQ{}as'/>
                          </fn>
                          <fn name='exists'>
                           <axis name='attribute' nodeTest='NA nQ{}href'/>
                          </fn>
                         </or>
                         <fn name='exists'>
                          <axis name='attribute' nodeTest='NA nQ{}select'/>
                         </fn>
                        </or>
                        <fn name='exists'>
                         <axis name='child' nodeTest='N d[N u[NE,NT,NC,NP],NE nQ{http://www.jenitennison.com/xslt/xspec}label]'/>
                        </fn>
                       </or>
                      </slash>
                      <elem line='135' name='xsl:sequence' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                       <att name='select' flags='l'>
                        <fn name='concat'>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='27' eval='0'>
                          <str val='deq:deep-equal'/>
                         </ufCall>
                         <str val='($'/>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='28' eval='16'>
                          <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                         </ufCall>
                         <str val=', $'/>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='29' eval='0'>
                          <str val='impl:test-result'/>
                         </ufCall>
                         <str val=', '/>
                         <varRef name='Q{}deep-equal-flags' slot='7'/>
                         <str val=')'/>
                        </fn>
                       </att>
                      </elem>
                      <true/>
                      <elem line='138' name='xsl:message' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                       <sequence>
                        <att name='terminate' flags='l'>
                         <str val='yes'/>
                        </att>
                        <valueOf line='139' flags='l'>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}non-boolean-without-comparison' tailCall='false' bSlot='30' eval='16'>
                          <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                         </ufCall>
                        </valueOf>
                       </sequence>
                      </elem>
                     </choose>
                    </elem>
                   </sequence>
                  </elem>
                 </sequence>
                </elem>
               </sequence>
               <true/>
               <elem line='150' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                <sequence>
                 <att name='name' flags='l'>
                  <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='31' eval='0'>
                   <str val='impl:successful'/>
                  </ufCall>
                 </att>
                 <att name='as' flags='l'>
                  <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='32' eval='0'>
                   <str val='xs:boolean'/>
                  </ufCall>
                 </att>
                 <att name='select' flags='l'>
                  <fn name='concat'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='33' eval='0'>
                    <str val='deq:deep-equal'/>
                   </ufCall>
                   <str val='($'/>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='34' eval='16'>
                    <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                   </ufCall>
                   <str val=', $'/>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='35' eval='0'>
                    <str val='x:result'/>
                   </ufCall>
                   <str val=', '/>
                   <varRef name='Q{}deep-equal-flags' slot='7'/>
                   <str val=')'/>
                  </fn>
                 </att>
                </sequence>
               </elem>
              </choose>
              <elem line='154' name='xsl:if' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
               <sequence>
                <att name='test' flags='l'>
                 <fn name='concat'>
                  <str val='not($'/>
                  <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='36' eval='0'>
                   <str val='impl:successful'/>
                  </ufCall>
                  <str val=')'/>
                 </fn>
                </att>
                <elem line='155' name='xsl:message' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <valueOf line='156' flags='l'>
                  <str val='      FAILED'/>
                 </valueOf>
                </elem>
               </sequence>
              </elem>
             </sequence>
            </let>
           </sequence>
          </let>
         </let>
        </choose>
        <compElem line='162' flags='l'>
         <str role='name' val='xsl:element'/>
         <convert role='namespace' from='AU' to='AS'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='47'/>
         </convert>
         <sequence role='content' line='163'>
          <att name='name' flags='l'>
           <str val='test'/>
          </att>
          <att line='164' name='namespace' flags='l'>
           <convert from='AU' to='AS'>
            <fn name='namespace-uri'>
             <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
            </fn>
           </convert>
          </att>
          <applyT line='170' mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='37'>
           <check role='select' line='167' card='+' diag='3|0|XTTE0570|test-element-attributes'>
            <sequence>
             <axis name='attribute' nodeTest='NA nQ{}id'/>
             <treat ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compiler-pending-utils.xsl' line='65' as='NA nQ{}pending' diag='5|0|XTTE0780|x:pending-attribute-from-reason#1'>
              <check card='?' diag='5|0|XTTE0780|x:pending-attribute-from-reason#1'>
               <forEach>
                <varRef ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compile-expect.xsl' line='168' name='Q{}reason-for-pending' slot='2'/>
                <att line='66' name='pending'>
                 <dot type='1AS'/>
                </att>
               </forEach>
              </check>
             </treat>
            </sequence>
           </check>
          </applyT>
          <choose line='172'>
           <fn name='empty'>
            <varRef name='Q{}reason-for-pending' slot='2'/>
           </fn>
           <compElem line='174' flags='l'>
            <str role='name' val='xsl:attribute'/>
            <convert role='namespace' from='AU' to='AS'>
             <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='39'/>
            </convert>
            <sequence role='content' line='175'>
             <att name='name' flags='l'>
              <str val='successful'/>
             </att>
             <att line='176' name='namespace' flags='l'>
              <str val=''/>
             </att>
             <att line='177' name='select' flags='l'>
              <fn name='concat'>
               <str val='$'/>
               <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='38' eval='0'>
                <str val='impl:successful'/>
               </ufCall>
              </fn>
             </att>
            </sequence>
           </compElem>
          </choose>
          <applyT line='181' mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='40'>
           <let role='select' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}labelled' as='1NE' slot='10' eval='16'>
            <dot ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
            <treat module='compiler-misc-utils.xsl' line='13' as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
             <compElem>
              <str role='name' val='label'/>
              <convert role='namespace' from='AU' to='AS'>
               <fn name='namespace-uri'>
                <varRef name='Q{}labelled' slot='10'/>
               </fn>
              </convert>
              <valueOf role='content' line='14' flags='l'>
               <convert from='A' to='AS'>
                <data>
                 <first>
                  <sequence>
                   <slash simple='1'>
                    <varRef name='Q{}labelled' slot='10'/>
                    <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                   </slash>
                   <slash simple='1'>
                    <varRef name='Q{}labelled' slot='10'/>
                    <axis name='attribute' nodeTest='NA nQ{}label'/>
                   </slash>
                  </sequence>
                 </first>
                </data>
               </convert>
              </valueOf>
             </compElem>
            </treat>
           </let>
          </applyT>
          <choose line='184'>
           <fn name='empty'>
            <varRef name='Q{}reason-for-pending' slot='2'/>
           </fn>
           <sequence line='185'>
            <choose>
             <fn name='exists'>
              <axis name='attribute' nodeTest='NA nQ{}test'/>
             </fn>
             <sequence line='186'>
              <callT name='Q{http://www.jenitennison.com/xslt/xspec}report-test-attribute' bSlot='41'/>
              <elem line='188' name='xsl:if' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
               <sequence>
                <att name='test' flags='l'>
                 <fn name='concat'>
                  <str val='not($'/>
                  <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='42' eval='0'>
                   <str val='impl:boolean-test'/>
                  </ufCall>
                  <str val=')'/>
                 </fn>
                </att>
                <elem line='189' name='xsl:call-template' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                 <sequence>
                  <att name='name' flags='l'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='43' eval='0'>
                    <str val='rep:report-sequence'/>
                   </ufCall>
                  </att>
                  <elem line='190' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                   <sequence>
                    <att name='name' flags='l'>
                     <str val='sequence'/>
                    </att>
                    <att name='select' flags='l'>
                     <fn name='concat'>
                      <str val='$'/>
                      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='44' eval='0'>
                       <str val='impl:test-result'/>
                      </ufCall>
                     </fn>
                    </att>
                   </sequence>
                  </elem>
                  <elem line='191' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                   <sequence>
                    <att name='name' flags='l'>
                     <str val='report-name'/>
                    </att>
                    <att name='select' flags='l'>
                     <str val='&#39;result&#39;'/>
                    </att>
                   </sequence>
                  </elem>
                 </sequence>
                </elem>
               </sequence>
              </elem>
             </sequence>
            </choose>
            <elem line='196' name='xsl:call-template' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
             <sequence>
              <att name='name' flags='l'>
               <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='45' eval='0'>
                <str val='rep:report-sequence'/>
               </ufCall>
              </att>
              <elem line='197' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
               <sequence>
                <att name='name' flags='l'>
                 <str val='sequence'/>
                </att>
                <att name='select' flags='l'>
                 <fn name='concat'>
                  <str val='$'/>
                  <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='46' eval='16'>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                  </ufCall>
                 </fn>
                </att>
               </sequence>
              </elem>
              <elem line='198' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
               <sequence>
                <att name='name' flags='l'>
                 <str val='report-name'/>
                </att>
                <att name='select' flags='l'>
                 <fn name='concat'>
                  <str val='&#39;'/>
                  <fn name='local-name'>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                  </fn>
                  <str val='&#39;'/>
                 </fn>
                </att>
               </sequence>
              </elem>
             </sequence>
            </elem>
           </sequence>
          </choose>
         </sequence>
        </compElem>
       </sequence>
      </compElem>
     </treat>
    </sequence>
   </check>
  </template>
 </co>
 <co id='29' binds='47'>
  <function name='Q{urn:x-xspec:compiler:base:util:compiler-eqname-utils:local}resolve-UQName' line='86' module='compiler-eqname-utils.xsl' eval='16' flags='pU' as='1AQ' slots='1'>
   <arg name='Q{}uqname' as='1AS'/>
   <check role='body' ns='local=urn:x-xspec:compiler:base:util:compiler-eqname-utils:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='101' card='1' diag='5|0|XTTE0780|local:resolve-UQName#1'>
    <analyzeString>
     <varRef role='select' name='Q{}uqname' slot='0'/>
     <cvUntyped role='regex' line='90' to='AS' diag='3|0|XTTE0570|regex'>
      <cast flags='a' as='1AZ'>
       <fn name='string-join'>
        <convert from='AZ' to='AS'>
         <data>
          <mergeAdj>
           <sequence>
            <valueOf>
             <str val='&#xA;            &#xA;            ^&#xA;               Q\{&#xA;                  ([^\{\}]*)                                   &#xA;               \}&#xA;               '/>
            </valueOf>
            <valueOf line='96'>
             <gVarRef name='Q{urn:x-xspec:compiler:base:util:compiler-eqname-utils:local}capture-NCName' bSlot='0'/>
            </valueOf>
            <valueOf>
             <str val=' &#xA;            $&#xA;         '/>
            </valueOf>
           </sequence>
          </mergeAdj>
         </data>
        </convert>
        <str val=''/>
       </fn>
      </cast>
     </cvUntyped>
     <str role='flags' val='x'/>
     <fn role='matching' line='103' name='QName'>
      <fn name='regex-group'>
       <int val='1'/>
      </fn>
      <fn name='regex-group'>
       <int val='2'/>
      </fn>
     </fn>
    </analyzeString>
   </check>
  </function>
 </co>
 <co id='48' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}resolve-xml-uri-with-catalog' line='10' module='uri-utils.xsl' eval='16' flags='pU' as='1AU' slots='1'>
   <arg name='Q{}xml-uri' as='1AS'/>
   <cast role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='50' flags='a' as='1AU'>
    <fn name='replace'>
     <convert from='AU' to='AS'>
      <fn name='base-uri'>
       <fn line='19' name='doc'>
        <varRef name='Q{}xml-uri' slot='0'/>
       </fn>
      </fn>
     </convert>
     <str val='^(file:)([^/])'/>
     <str val='$1/$2'/>
     <str val=''/>
    </fn>
   </cast>
  </function>
 </co>
 <co id='19' binds='49 17 13 10 18 10'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}timestamp' flags='o' as='?NE nQ{http://www.w3.org/1999/XSL/Transform}element' line='11' module='timestamp.xsl' slots='1'>
   <sequence role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='14'>
    <param name='Q{}event' slot='0' flags='r' as='1AS'>
     <treat role='conversion' as='AS' diag='8|0|XTTE0590|event'>
      <check card='1' diag='8|0|XTTE0590|event'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|event'>
        <data diag='8|0|XTTE0590|event'>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <choose line='16'>
     <gVarRef name='Q{}measure-time' bSlot='0'/>
     <treat line='18' as='NE nQ{http://www.w3.org/1999/XSL/Transform}element' diag='7|0|XTTE0505|x:timestamp'>
      <compElem>
       <str role='name' val='xsl:element'/>
       <convert role='namespace' from='AU' to='AS'>
        <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='5'/>
       </convert>
       <sequence role='content' line='19'>
        <att name='name' flags='l'>
         <str val='timestamp'/>
        </att>
        <att line='20' name='namespace' flags='l'>
         <convert from='AU' to='AS'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='1'/>
         </convert>
        </att>
        <compElem line='23' flags='l'>
         <str role='name' val='xsl:attribute'/>
         <convert role='namespace' from='AU' to='AS'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='3'/>
         </convert>
         <sequence role='content' line='24'>
          <att name='name' flags='l'>
           <str val='at'/>
          </att>
          <att line='25' name='namespace' flags='l'>
           <str val=''/>
          </att>
          <att line='26' name='select' flags='l'>
           <fn name='concat'>
            <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='2' eval='0'>
             <str val='saxon:timestamp'/>
            </ufCall>
            <str val='()'/>
           </fn>
          </att>
         </sequence>
        </compElem>
        <applyT line='33' mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='4'>
         <treat role='select' line='31' as='NA nQ{}event' diag='3|0|XTTE0570|event-attribute'>
          <att name='event'>
           <varRef name='Q{}event' slot='0'/>
          </att>
         </treat>
        </applyT>
       </sequence>
      </compElem>
     </treat>
    </choose>
   </sequence>
  </template>
 </co>
 <co id='50' binds='5'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}group-invocation' onNo='SC' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='29' rank='0' minImp='0' slots='3' matches='ND' flags='s' as='*NE' line='14' module='group-invocation.xsl'>
    <p.nodeTest role='match' test='ND'/>
    <let role='action' ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='17' var='Q{}scenario-invokers' as='*NE nQ{http://www.w3.org/1999/XSL/Transform}call-template' slot='0' eval='4'>
     <fn name='key'>
      <str val='Q{http://saxon.sf.net/}kk102'/>
      <str val='scenario'/>
      <dot type='1ND' flags='a'/>
     </fn>
     <let line='26' var='Q{http://saxon.sf.net/generated-variable}v1' as='?NE nQ{http://www.w3.org/1999/XSL/Transform}call-template' slot='1' eval='13'>
      <lastOf>
       <varRef name='Q{}scenario-invokers' slot='0'/>
      </lastOf>
      <let var='Q{http://saxon.sf.net/generated-variable}v0' as='?NE nQ{http://www.w3.org/1999/XSL/Transform}call-template' slot='2' eval='13'>
       <first>
        <varRef name='Q{}scenario-invokers' slot='0'/>
       </first>
       <sequence>
        <treat as='NE' diag='7|0|XTTE0505|match="document-node()" mode="x:group-invocation"'>
         <forEach>
          <filter flags=''>
           <filter flags=''>
            <filter flags='b'>
             <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
             <fn name='empty'>
              <among op='among'>
               <dot type='1N u[NE,NT,NC,NP]'/>
               <varRef name='Q{}scenario-invokers' slot='0'/>
              </among>
             </fn>
            </filter>
            <follows op='&gt;&gt;'>
             <dot type='1N u[NE,NT,NC,NP]'/>
             <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='2'/>
            </follows>
           </filter>
           <follows op='&gt;&gt;'>
            <varRef name='Q{http://saxon.sf.net/generated-variable}v1' slot='1'/>
            <dot type='1N u[NE,NT,NC,NP]'/>
           </follows>
          </filter>
          <message line='28'>
           <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
            <withParam name='Q{}message' flags='c' as='1AS'>
             <str val='Unexpected node between invocation instructions of compiled scenario.'/>
            </withParam>
           </callT>
           <str role='terminate' val='yes'/>
           <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
          </message>
         </forEach>
        </treat>
        <treat line='42' as='NE' diag='7|0|XTTE0505|match="document-node()" mode="x:group-invocation"'>
         <forEachGroup algorithm='adjacent'>
          <treat role='select' as='NE' diag='2|0|XPDY0050|treat as'>
           <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
          </treat>
          <choose role='key'>
           <fn name='exists'>
            <among op='among'>
             <dot type='1NE'/>
             <varRef name='Q{}scenario-invokers' slot='0'/>
            </among>
           </fn>
           <int val='0'/>
           <true/>
           <fn name='position'/>
          </choose>
          <str role='collation' val='http://www.w3.org/2005/xpath-functions/collation/codepoint'/>
          <applyT role='content' line='43' flags='c' bSlot='-1'>
           <dot role='select' type='1NE'/>
          </applyT>
         </forEachGroup>
        </treat>
       </sequence>
      </let>
     </let>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='30' rank='1' minImp='0' slots='1' matches='NE nQ{http://www.w3.org/1999/XSL/Transform}call-template' flags='s' as='+NE' line='48' module='group-invocation.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='NE nQ{http://www.w3.org/1999/XSL/Transform}call-template'/>
     <vc ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='48' op='eq' comp='CCC'>
      <atomSing card='?' diag='1|0||eq'>
       <axis name='child' nodeTest='NP nQ{}origin'/>
      </atomSing>
      <str val='scenario'/>
     </vc>
    </p.withPredicate>
    <let role='action' ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='49' var='Q{}child-scenario-count' as='1ADI' slot='0' eval='8'>
     <fn name='count'>
      <currentGroup/>
     </fn>
     <elem line='51' name='xsl:for-each' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
      <sequence>
       <att name='select' flags='l'>
        <fn name='concat'>
         <str val='1 to '/>
         <convert from='ADI' to='AS'>
          <varRef name='Q{}child-scenario-count' slot='0'/>
         </convert>
        </fn>
       </att>
       <elem line='58' name='xsl:choose' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
        <sequence line='59'>
         <forEach>
          <currentGroup/>
          <elem line='60' name='xsl:when' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
           <sequence>
            <att name='test' flags='l'>
             <fn name='concat'>
              <str val='. eq '/>
              <convert from='ADI' to='AS'>
               <fn name='position'/>
              </convert>
             </fn>
            </att>
            <copy line='63' flags='cinl' sit='1'>
             <sequence role='content'>
              <applyT flags='c' bSlot='-1'>
               <slash role='select' simple='1'>
                <treat as='N' diag='14|2|XPTY0020|'>
                 <dot/>
                </treat>
                <axis name='attribute' nodeTest='NA'/>
               </slash>
              </applyT>
              <applyT line='65' flags='c' bSlot='-1'>
               <except role='select' op='except'>
                <slash simple='1'>
                 <treat as='N' diag='14|3|XPTY0020|'>
                  <dot/>
                 </treat>
                 <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
                </slash>
                <slash simple='1'>
                 <treat as='N' diag='14|3|XPTY0020|'>
                  <dot/>
                 </treat>
                 <axis name='child' nodeTest='NP nQ{}origin'/>
                </slash>
               </except>
              </applyT>
             </sequence>
            </copy>
           </sequence>
          </elem>
         </forEach>
         <elem line='69' name='xsl:otherwise' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
          <elem line='70' name='xsl:message' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
           <sequence>
            <att name='terminate' flags='l'>
             <str val='yes'/>
            </att>
            <valueOf line='71' flags='l'>
             <str val='ERROR: Unhandled scenario invocation'/>
            </valueOf>
           </sequence>
          </elem>
         </elem>
        </sequence>
       </elem>
      </sequence>
     </elem>
    </let>
   </templateRule>
  </mode>
 </co>
 <co id='45' binds='5'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}boolean-with-comparison' line='20' module='compile-expect.xsl' eval='16' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}expect' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='23' card='1' diag='5|0|XTTE0780|x:boolean-with-comparison#1'>
    <forEach>
     <varRef name='Q{}expect' slot='0'/>
     <callT line='24' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
      <withParam name='Q{}message' flags='c' as='1AS'>
       <str val='Boolean @test must not be accompanied by @as, @href, @select, or child node.'/>
      </withParam>
     </callT>
    </forEach>
   </check>
  </function>
 </co>
 <co id='35' binds='3'>
  <function name='Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-select-attr' line='192' module='transform-options.xsl' eval='16' flags='pU' as='1NA nQ{}select' slots='1'>
   <arg name='Q{}param' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
   <treat role='body' ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:external:transform-options:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='195' as='NA nQ{}select' diag='5|0|XTTE0780|local:param-to-select-attr#1'>
    <att name='select'>
     <fn name='concat'>
      <str val='$'/>
      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='0' eval='1'>
       <varRef name='Q{}param' slot='0'/>
      </ufCall>
     </fn>
    </att>
   </treat>
  </function>
 </co>
 <co id='51' binds=''>
  <globalParam name='Q{}force-focus' as='?AS' line='22' module='main.xsl' visibility='PUBLIC'>
   <empty/>
  </globalParam>
 </co>
 <co id='52' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}pending-attribute-from-reason' line='62' module='compiler-pending-utils.xsl' eval='7' flags='pU' as='?NA nQ{}pending' slots='1'>
   <arg name='Q{}reason-for-pending' as='?AS'/>
   <treat role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='65' as='NA nQ{}pending' diag='5|0|XTTE0780|x:pending-attribute-from-reason#1'>
    <check card='?' diag='5|0|XTTE0780|x:pending-attribute-from-reason#1'>
     <forEach>
      <varRef name='Q{}reason-for-pending' slot='0'/>
      <att line='66' name='pending'>
       <dot type='1AS'/>
      </att>
     </forEach>
    </check>
   </treat>
  </function>
 </co>
 <co id='53' binds='54 55 38'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}gather-specs' onNo='SC' flags='F' patternSlots='1'>
   <templateRule prec='0' prio='0.0' seq='19' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}import' flags='s' as='0' line='40' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}import'/>
    <empty role='action'/>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='18' rank='0' minImp='0' slots='1' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}description' flags='s' as='*N' line='32' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
    <treat role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='33' as='N' diag='7|0|XTTE0505|match="x:description" mode="x:gather-specs"'>
     <applyT flags='cti' bSlot='-1'>
      <axis role='select' name='child' nodeTest='N'/>
      <withParam name='Q{}xslt-version' flags='t' as='1AD'>
       <treat ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compiler-misc-utils.xsl' line='41' as='AD' diag='5|0|XTTE0780|x:xslt-version#1'>
        <check card='1' diag='5|0|XTTE0780|x:xslt-version#1'>
         <cvUntyped to='AD' diag='5|0|XTTE0780|x:xslt-version#1'>
          <data diag='5|0|XTTE0780|x:xslt-version#1'>
           <first>
            <sequence>
             <slash simple='1'>
              <slash>
               <dot ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='gather-specs.xsl' line='34' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}description' flags='a'/>
               <first>
                <filter flags='b'>
                 <axis name='ancestor-or-self' nodeTest='NE'/>
                 <fn name='exists'>
                  <axis name='attribute' nodeTest='NA nQ{}xslt-version'/>
                 </fn>
                </filter>
               </first>
              </slash>
              <axis name='attribute' nodeTest='NA nQ{}xslt-version'/>
             </slash>
             <dec val='3'/>
            </sequence>
           </first>
          </data>
         </cvUntyped>
        </check>
       </treat>
      </withParam>
      <withParam name='Q{}preserve-space' flags='t' as='*AQ'>
       <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='35' var='Q{}description' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}description' slot='0' eval='16'>
        <dot ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}description' flags='a'/>
        <forEach module='user-content-utils.xsl' line='38'>
         <filter flags='b'>
          <fn name='tokenize'>
           <cvUntyped to='AS'>
            <slash>
             <varRef name='Q{}description' slot='0'/>
             <attVal name='Q{}preserve-space' chk='0'/>
            </slash>
           </cvUntyped>
           <str val='\s+'/>
           <str val=''/>
          </fn>
          <fn name='boolean'>
           <dot type='1AS'/>
          </fn>
         </filter>
         <fn name='resolve-QName'>
          <dot type='1AS'/>
          <varRef name='Q{}description' slot='0'/>
         </fn>
        </forEach>
       </let>
      </withParam>
      <withParam name='Q{}xspec-module-uri' flags='t' as='1AU'>
       <ufCall line='36' name='Q{http://www.jenitennison.com/xslt/xspec}document-actual-uri' tailCall='false' bSlot='0' eval='16'>
        <root/>
       </ufCall>
      </withParam>
     </applyT>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='20' rank='0' minImp='0' slots='2' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' line='42' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='43' card='1' diag='7|0|XTTE0505|match="x:scenario" mode="x:gather-specs"'>
     <sequence>
      <param name='Q{}xslt-version' slot='0' flags='tr' as='1AD'>
       <treat role='conversion' as='AD' diag='8|0|XTTE0590|xslt-version'>
        <check card='1' diag='8|0|XTTE0590|xslt-version'>
         <cvUntyped to='AD' diag='8|0|XTTE0590|xslt-version'>
          <data diag='8|0|XTTE0590|xslt-version'>
           <supplied slot='0'/>
          </data>
         </cvUntyped>
        </check>
       </treat>
      </param>
      <param line='44' name='Q{}xspec-module-uri' slot='1' flags='tr' as='1AU'>
       <treat role='conversion' as='AU' diag='8|0|XTTE0590|xspec-module-uri'>
        <check card='1' diag='8|0|XTTE0590|xspec-module-uri'>
         <cvUntyped to='AU' diag='8|0|XTTE0590|xspec-module-uri'>
          <data diag='8|0|XTTE0590|xspec-module-uri'>
           <supplied slot='1'/>
          </data>
         </cvUntyped>
        </check>
       </treat>
      </param>
      <treat line='49' as='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' diag='7|0|XTTE0505|match="x:scenario" mode="x:gather-specs"'>
       <copy flags='cin' sit='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'>
        <sequence role='content'>
         <att name='xslt-version' flags='l'>
          <convert from='AD' to='AS'>
           <varRef name='Q{}xslt-version' slot='0'/>
          </convert>
         </att>
         <att line='51' name='xspec' flags='l'>
          <convert from='AU' to='AS'>
           <varRef name='Q{}xspec-module-uri' slot='1'/>
          </convert>
         </att>
         <applyT line='53' flags='c' bSlot='-1'>
          <sequence role='select'>
           <axis name='attribute' nodeTest='NA'/>
           <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
          </sequence>
         </applyT>
        </sequence>
       </copy>
      </treat>
     </sequence>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='23' part='1' rank='1' minImp='0' slots='0' matches='NA' flags='s' as='1NA' line='82' module='gather-specs.xsl'>
    <p.withPredicate role='match'>
     <p.venn op='union'>
      <p.nodeTest test='NA nQ{}query-at'/>
      <p.nodeTest test='NA nQ{}stylesheet'/>
     </p.venn>
     <axis ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='82' name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}helper'/>
    </p.withPredicate>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='84' card='1' diag='7|0|XTTE0505|match="@href | (@query-at | @stylesheet)[parent::x:helper]" mode="x:gather-specs"'>
     <compAtt>
      <fn role='name' name='local-name'>
       <dot type='1NA' flags='a'/>
      </fn>
      <convert role='namespace' from='AU' to='AS'>
       <fn name='namespace-uri'>
        <dot type='1NA' flags='a'/>
       </fn>
      </convert>
      <convert role='select' from='AU' to='AS'>
       <fn name='resolve-uri'>
        <cvUntyped to='AS'>
         <data diag='0|0||fn:resolve-uri'>
          <dot type='1NA' flags='a'/>
         </data>
        </cvUntyped>
        <convert from='AU' to='AS'>
         <cast ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='uri-utils.xsl' line='50' flags='a' as='1AU'>
          <fn name='replace'>
           <convert from='AU' to='AS'>
            <fn name='base-uri'>
             <dot ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='gather-specs.xsl' line='84' type='1NA' flags='a'/>
            </fn>
           </convert>
           <str val='^(file:)([^/])'/>
           <str val='$1/$2'/>
           <str val=''/>
          </fn>
         </cast>
        </convert>
       </fn>
      </convert>
     </compAtt>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='24' rank='0' minImp='0' slots='0' matches='NA nQ{}as' flags='s' as='1NA' line='88' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NA nQ{}as'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='89' card='1' diag='7|0|XTTE0505|match="@as | @function | @mode | @name | @template" mode="x:gather-specs"'>
     <compAtt>
      <fn role='name' name='local-name'>
       <dot type='1NA' flags='a'/>
      </fn>
      <convert role='namespace' from='AU' to='AS'>
       <fn name='namespace-uri'>
        <dot type='1NA' flags='a'/>
       </fn>
      </convert>
      <ufCall role='select' name='Q{http://www.jenitennison.com/xslt/xspec}trim' tailCall='false' bSlot='1' eval='16'>
       <cvUntyped to='AS'>
        <data diag='0|0||x:trim'>
         <dot type='1NA' flags='a'/>
        </data>
       </cvUntyped>
      </ufCall>
     </compAtt>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='23' rank='0' minImp='0' slots='0' matches='NA nQ{}href' flags='s' as='1NA' line='82' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NA nQ{}href'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='84' card='1' diag='7|0|XTTE0505|match="@href | (@query-at | @stylesheet)[parent::x:helper]" mode="x:gather-specs"'>
     <compAtt>
      <fn role='name' name='local-name'>
       <dot type='1NA' flags='a'/>
      </fn>
      <convert role='namespace' from='AU' to='AS'>
       <fn name='namespace-uri'>
        <dot type='1NA' flags='a'/>
       </fn>
      </convert>
      <convert role='select' from='AU' to='AS'>
       <fn name='resolve-uri'>
        <cvUntyped to='AS'>
         <data diag='0|0||fn:resolve-uri'>
          <dot type='1NA' flags='a'/>
         </data>
        </cvUntyped>
        <convert from='AU' to='AS'>
         <cast ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='uri-utils.xsl' line='50' flags='a' as='1AU'>
          <fn name='replace'>
           <convert from='AU' to='AS'>
            <fn name='base-uri'>
             <dot ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='gather-specs.xsl' line='84' type='1NA' flags='a'/>
            </fn>
           </convert>
           <str val='^(file:)([^/])'/>
           <str val='$1/$2'/>
           <str val=''/>
          </fn>
         </cast>
        </convert>
       </fn>
      </convert>
     </compAtt>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='24' part='1' rank='0' minImp='0' slots='0' matches='NA nQ{}function' flags='s' as='1NA' line='88' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NA nQ{}function'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='89' card='1' diag='7|0|XTTE0505|match="@as | @function | @mode | @name | @template" mode="x:gather-specs"'>
     <compAtt>
      <fn role='name' name='local-name'>
       <dot type='1NA' flags='a'/>
      </fn>
      <convert role='namespace' from='AU' to='AS'>
       <fn name='namespace-uri'>
        <dot type='1NA' flags='a'/>
       </fn>
      </convert>
      <ufCall role='select' name='Q{http://www.jenitennison.com/xslt/xspec}trim' tailCall='false' bSlot='1' eval='16'>
       <cvUntyped to='AS'>
        <data diag='0|0||x:trim'>
         <dot type='1NA' flags='a'/>
        </data>
       </cvUntyped>
      </ufCall>
     </compAtt>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='24' part='4' rank='0' minImp='0' slots='0' matches='NA nQ{}template' flags='s' as='1NA' line='88' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NA nQ{}template'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='89' card='1' diag='7|0|XTTE0505|match="@as | @function | @mode | @name | @template" mode="x:gather-specs"'>
     <compAtt>
      <fn role='name' name='local-name'>
       <dot type='1NA' flags='a'/>
      </fn>
      <convert role='namespace' from='AU' to='AS'>
       <fn name='namespace-uri'>
        <dot type='1NA' flags='a'/>
       </fn>
      </convert>
      <ufCall role='select' name='Q{http://www.jenitennison.com/xslt/xspec}trim' tailCall='false' bSlot='1' eval='16'>
       <cvUntyped to='AS'>
        <data diag='0|0||x:trim'>
         <dot type='1NA' flags='a'/>
        </data>
       </cvUntyped>
      </ufCall>
     </compAtt>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='24' part='3' rank='0' minImp='0' slots='0' matches='NA nQ{}name' flags='s' as='1NA' line='88' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NA nQ{}name'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='89' card='1' diag='7|0|XTTE0505|match="@as | @function | @mode | @name | @template" mode="x:gather-specs"'>
     <compAtt>
      <fn role='name' name='local-name'>
       <dot type='1NA' flags='a'/>
      </fn>
      <convert role='namespace' from='AU' to='AS'>
       <fn name='namespace-uri'>
        <dot type='1NA' flags='a'/>
       </fn>
      </convert>
      <ufCall role='select' name='Q{http://www.jenitennison.com/xslt/xspec}trim' tailCall='false' bSlot='1' eval='16'>
       <cvUntyped to='AS'>
        <data diag='0|0||x:trim'>
         <dot type='1NA' flags='a'/>
        </data>
       </cvUntyped>
      </ufCall>
     </compAtt>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='24' part='2' rank='0' minImp='0' slots='0' matches='NA nQ{}mode' flags='s' as='1NA' line='88' module='gather-specs.xsl'>
    <p.nodeTest role='match' test='NA nQ{}mode'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='89' card='1' diag='7|0|XTTE0505|match="@as | @function | @mode | @name | @template" mode="x:gather-specs"'>
     <compAtt>
      <fn role='name' name='local-name'>
       <dot type='1NA' flags='a'/>
      </fn>
      <convert role='namespace' from='AU' to='AS'>
       <fn name='namespace-uri'>
        <dot type='1NA' flags='a'/>
       </fn>
      </convert>
      <ufCall role='select' name='Q{http://www.jenitennison.com/xslt/xspec}trim' tailCall='false' bSlot='1' eval='16'>
       <cvUntyped to='AS'>
        <data diag='0|0||x:trim'>
         <dot type='1NA' flags='a'/>
        </data>
       </cvUntyped>
      </ufCall>
     </compAtt>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='22' rank='1' minImp='0' slots='0' matches='NT' flags='s' as='?NT' line='71' module='gather-specs.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='NT'/>
     <fn ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='71' name='not'>
      <fn name='normalize-space'>
       <fn name='string'>
        <dot type='1NT'/>
       </fn>
      </fn>
     </fn>
    </p.withPredicate>
    <choose role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='72'>
     <fn name='exists'>
      <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
     </fn>
     <dot line='75' type='1NT' flags='a'/>
    </choose>
   </templateRule>
   <templateRule prec='0' prio='1.0' seq='17' rank='2' minImp='0' slots='1' matches='N' flags='s' as='?N' line='27' module='gather-specs.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='N u[NE,NT,NC,NP]'/>
     <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='27' var='Q{}node' as='1N' slot='0' eval='16'>
      <dot ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1N u[NE,NT,NC,NP]'/>
      <fn module='user-content-utils.xsl' line='23' name='exists'>
       <intersect op='intersect'>
        <slash>
         <varRef name='Q{}node' slot='0'/>
         <fn name='reverse'>
          <axis name='ancestor-or-self' nodeTest='N'/>
         </fn>
        </slash>
        <union op='|'>
         <union op='|'>
          <union op='|'>
           <docOrder intra='1'>
            <filter flags='b'>
             <slash simple='2'>
              <slash>
               <varRef name='Q{}node' slot='0'/>
               <fn name='reverse'>
                <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
               </fn>
              </slash>
              <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
             </slash>
             <fn name='empty'>
              <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
             </fn>
            </filter>
           </docOrder>
           <docOrder intra='1'>
            <filter flags='b'>
             <slash simple='2'>
              <slash>
               <varRef name='Q{}node' slot='0'/>
               <fn name='reverse'>
                <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
               </fn>
              </slash>
              <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
             </slash>
             <fn name='empty'>
              <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
             </fn>
            </filter>
           </docOrder>
          </union>
          <docOrder intra='1'>
           <slash simple='2'>
            <slash>
             <varRef name='Q{}node' slot='0'/>
             <fn name='reverse'>
              <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
             </fn>
            </slash>
            <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
           </slash>
          </docOrder>
         </union>
         <docOrder intra='1'>
          <slash simple='2'>
           <slash>
            <varRef name='Q{}node' slot='0'/>
            <fn name='reverse'>
             <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
            </fn>
           </slash>
           <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
          </slash>
         </docOrder>
        </union>
       </intersect>
      </fn>
     </let>
    </p.withPredicate>
    <treat role='action' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='28' as='N' diag='7|0|XTTE0505|match="node()[x:is-user-content(.)]" mode="x:gather-specs"'>
     <check card='?' diag='7|0|XTTE0505|match="node()[x:is-user-content(.)]" mode="x:gather-specs"'>
      <applyT mode='Q{urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local}gather-user-content' flags='t' bSlot='2'>
       <dot role='select' type='1N u[NE,NT,NC,NP]' flags='a'/>
      </applyT>
     </check>
    </treat>
   </templateRule>
  </mode>
 </co>
 <co id='56' binds='15 57 57 58 13 13'>
  <mode name='Q{urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local}invoke-compiled-scenarios-or-expects' onNo='DS' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='0.0' seq='13' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}pending' flags='s' as='+N' line='56' module='invoke-compiled-child-scenarios-or-expects.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}pending'/>
    <treat role='action' ns='local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='57' as='N' diag='7|0|XTTE0505|match="x:pending" mode="local:invoke-compiled-scenarios-or-expects"'>
     <check card='+' diag='7|0|XTTE0505|match="x:pending" mode="local:invoke-compiled-scenarios-or-expects"'>
      <applyT flags='ct' bSlot='-1'>
       <axis role='select' name='child' nodeTest='NE'/>
      </applyT>
     </check>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='16' part='1' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}variable' flags='s' as='+N' line='93' module='invoke-compiled-child-scenarios-or-expects.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
    <treat role='action' ns='local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='94' as='N' diag='7|0|XTTE0505|match="x:param | x:variable" mode="local:invoke-compiled-scenarios-or-expects"'>
     <check card='+' diag='7|0|XTTE0505|match="x:param | x:variable" mode="local:invoke-compiled-scenarios-or-expects"'>
      <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' flags='t' bSlot='0'>
       <dot role='select' type='1NE' flags='a'/>
      </applyT>
     </check>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='16' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}param' flags='s' as='+N' line='93' module='invoke-compiled-child-scenarios-or-expects.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
    <treat role='action' ns='local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='94' as='N' diag='7|0|XTTE0505|match="x:param | x:variable" mode="local:invoke-compiled-scenarios-or-expects"'>
     <check card='+' diag='7|0|XTTE0505|match="x:param | x:variable" mode="local:invoke-compiled-scenarios-or-expects"'>
      <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' flags='t' bSlot='0'>
       <dot role='select' type='1NE' flags='a'/>
      </applyT>
     </check>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='14' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='+N' line='63' module='invoke-compiled-child-scenarios-or-expects.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    <callT role='action' ns='local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='65' name='Q{http://www.jenitennison.com/xslt/xspec}invoke-compiled-current-scenario-or-expect' bSlot='1' flags='t'>
     <withParam name='Q{}with-param-uqnames' flags='c' as='*AS'>
      <fn line='67' name='accumulator-before'>
       <str val='stacked-vardecls-distinct-uqnames'/>
      </fn>
     </withParam>
    </callT>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='15' rank='0' minImp='0' slots='1' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='s' as='+N' line='74' module='invoke-compiled-child-scenarios-or-expects.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
    <sequence role='action' ns='local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='75'>
     <param name='Q{}context' slot='0' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}context' diag='8|0|XTTE0590|context'>
       <check card='?' diag='8|0|XTTE0590|context'>
        <supplied slot='0'/>
       </check>
      </treat>
     </param>
     <callT line='78' name='Q{http://www.jenitennison.com/xslt/xspec}invoke-compiled-current-scenario-or-expect' bSlot='2' flags='t'>
      <withParam name='Q{}with-param-uqnames' flags='c' as='*AS'>
       <sequence line='80'>
        <choose>
         <fn name='empty'>
          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}reason-for-pending' tailCall='false' bSlot='3' eval='16'>
           <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='a'/>
          </ufCall>
         </fn>
         <sequence line='81'>
          <forEach>
           <varRef name='Q{}context' slot='0'/>
           <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='4' eval='0'>
            <str val='x:context'/>
           </ufCall>
          </forEach>
          <ufCall line='82' name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='5' eval='0'>
           <str val='x:result'/>
          </ufCall>
         </sequence>
        </choose>
        <fn line='84' name='accumulator-before'>
         <str val='stacked-vardecls-distinct-uqnames'/>
        </fn>
       </sequence>
      </withParam>
     </callT>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='15' binds='58 36 3 13'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' onNo='FF' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='12' rank='0' minImp='0' slots='3' matches='NE' flags='s' as='+N' line='21' module='declare-variable.xsl'>
    <p.nodeTest role='match' test='NE'/>
    <sequence role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='22'>
     <param name='Q{}comment' slot='0' as='?AS'>
      <empty role='select'/>
      <treat role='conversion' as='AS' diag='8|0|XTTE0590|comment'>
       <check card='?' diag='8|0|XTTE0590|comment'>
        <cvUntyped to='AS' diag='8|0|XTTE0590|comment'>
         <data diag='8|0|XTTE0590|comment'>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='24' var='Q{}reason-for-pending' as='?AS' slot='1' eval='7'>
      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}reason-for-pending' tailCall='false' bSlot='0' eval='16'>
       <dot type='1NE' flags='a'/>
      </ufCall>
      <let line='26' var='Q{}current-element-is-global' as='1AB' slot='2' eval='8'>
       <fn name='exists'>
        <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
       </fn>
       <callT line='29' name='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' bSlot='1' flags='t'>
        <withParam name='Q{}reason-for-pending' flags='c' as='?AS'>
         <varRef line='30' name='Q{}reason-for-pending' slot='1'/>
        </withParam>
        <withParam name='Q{}comment' flags='c' as='?AS'>
         <varRef line='31' name='Q{}comment' slot='0'/>
        </withParam>
        <withParam name='Q{}uqname' flags='c' as='1AS'>
         <ufCall line='34' name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='2' eval='16'>
          <dot type='1NE' flags='a'/>
         </ufCall>
        </withParam>
        <withParam name='Q{}exclude' flags='c' as='*NE'>
         <union line='37' op='|'>
          <slash simple='1'>
           <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
           <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
          </slash>
          <slash simple='1'>
           <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
           <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
          </slash>
         </union>
        </withParam>
        <withParam name='Q{}as-global' flags='c' as='1AB'>
         <varRef line='40' name='Q{}current-element-is-global' slot='2'/>
        </withParam>
        <withParam name='Q{}as-param' flags='c' as='1AB'>
         <and line='44' op='and'>
          <fn name='exists'>
           <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
          </fn>
          <varRef name='Q{}current-element-is-global' slot='2'/>
         </and>
        </withParam>
        <withParam name='Q{}temp-doc-uqname' flags='c' as='?AS'>
         <choose line='49'>
          <and op='and'>
           <fn name='empty'>
            <varRef name='Q{}reason-for-pending' slot='1'/>
           </fn>
           <or op='or'>
            <fn name='exists'>
             <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
            </fn>
            <fn name='exists'>
             <axis name='attribute' nodeTest='NA nQ{}href'/>
            </fn>
           </or>
          </and>
          <ufCall line='51' name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='3' eval='16'>
           <fn name='concat'>
            <str val='impl:'/>
            <fn name='local-name'>
             <dot type='1NE' flags='a'/>
            </fn>
            <str val='-'/>
            <fn name='generate-id'>
             <dot type='1NE' flags='a'/>
            </fn>
            <str val='-doc'/>
           </fn>
          </ufCall>
         </choose>
        </withParam>
       </callT>
      </let>
     </let>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='59' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}has-comparison' line='13' module='compile-expect.xsl' eval='8' flags='pU' as='1AB' slots='1'>
   <arg name='Q{}expect' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
   <slash role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='16'>
    <varRef name='Q{}expect' slot='0'/>
    <or op='or'>
     <or op='or'>
      <or op='or'>
       <fn name='exists'>
        <axis name='attribute' nodeTest='NA nQ{}as'/>
       </fn>
       <fn name='exists'>
        <axis name='attribute' nodeTest='NA nQ{}href'/>
       </fn>
      </or>
      <fn name='exists'>
       <axis name='attribute' nodeTest='NA nQ{}select'/>
      </fn>
     </or>
     <fn name='exists'>
      <axis name='child' nodeTest='N d[N u[NE,NT,NC,NP],NE nQ{http://www.jenitennison.com/xslt/xspec}label]'/>
     </fn>
    </or>
   </slash>
  </function>
 </co>
 <co id='60' binds='61 62 61 62 63 40'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}check-combined-doc' onNo='SS' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='0.0' seq='3' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}variable' flags='s' as='0' line='36' module='check-combined-doc.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='37' card='0' diag='7|0|XTTE0505|match="x:variable" mode="x:check-combined-doc"'>
     <sequence>
      <callT name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-reserved-vardecl-name' bSlot='0'/>
      <callT line='38' name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-conflicting-vardecl' bSlot='1' flags='t'/>
     </sequence>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='2' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}param' flags='s' as='0' line='15' module='check-combined-doc.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
    <check role='action' ns='local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='16' card='0' diag='7|0|XTTE0505|match="x:param" mode="x:check-combined-doc"'>
     <sequence>
      <callT name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-reserved-vardecl-name' bSlot='2'/>
      <choose line='20'>
       <or op='or'>
        <fn name='exists'>
         <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
        </fn>
        <fn name='exists'>
         <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
        </fn>
       </or>
       <callT line='21' name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-conflicting-vardecl' bSlot='3'/>
      </choose>
      <choose line='27'>
       <fn name='exists'>
        <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
       </fn>
       <callT line='28' name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-static-description-param-run-as-import' bSlot='4' flags='t'/>
       <fn line='30' name='exists'>
        <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
       </fn>
       <callT line='31' name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-scenario-param-run-as-import' bSlot='5' flags='t'/>
      </choose>
     </sequence>
    </check>
   </templateRule>
  </mode>
 </co>
 <co id='14' binds='54 64'>
  <globalVariable name='Q{}initial-document-actual-uri' as='1AU' line='40' module='main.xsl' visibility='PRIVATE'>
   <ufCall ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='40' name='Q{http://www.jenitennison.com/xslt/xspec}document-actual-uri' tailCall='false' bSlot='0' eval='1'>
    <gVarRef name='Q{}initial-document' bSlot='1'/>
   </ufCall>
  </globalVariable>
 </co>
 <co id='27' binds='53 65'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}resolve-import' line='13' module='resolve-import.xsl' eval='4' flags='pU' as='*N' slots='1'>
   <arg name='Q{}initial-description' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
   <treat role='body' ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='21' as='N' diag='5|0|XTTE0780|x:resolve-import#1'>
    <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}gather-specs' bSlot='0'>
     <ufCall role='select' line='18' name='Q{http://www.jenitennison.com/xslt/xspec}gather-descriptions' tailCall='false' bSlot='1' eval='1'>
      <varRef name='Q{}initial-description' slot='0'/>
     </ufCall>
    </applyT>
   </treat>
  </function>
 </co>
 <co id='66' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}parse-preserve-space' line='31' module='user-content-utils.xsl' eval='4' flags='pU' as='*AQ' slots='1'>
   <arg name='Q{}description' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
   <forEach role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='38'>
    <filter flags='b'>
     <fn name='tokenize'>
      <cvUntyped to='AS'>
       <slash>
        <varRef name='Q{}description' slot='0'/>
        <attVal name='Q{}preserve-space' chk='0'/>
       </slash>
      </cvUntyped>
      <str val='\s+'/>
      <str val=''/>
     </fn>
     <fn name='boolean'>
      <dot type='1AS'/>
     </fn>
    </filter>
    <fn name='resolve-QName'>
     <dot type='1AS'/>
     <varRef name='Q{}description' slot='0'/>
    </fn>
   </forEach>
  </function>
 </co>
 <co id='34' binds='67 7'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}QName-expression-from-EQName-ignoring-default-ns' line='48' module='compiler-eqname-utils.xsl' eval='16' flags='pU' as='1AS' slots='2'>
   <arg name='Q{}eqname' as='1AS'/>
   <arg name='Q{}element' as='1NE'/>
   <tailCallLoop role='body' ns='local=urn:x-xspec:compiler:base:util:compiler-eqname-utils:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='55'>
    <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}QName-expression' tailCall='foreign' bSlot='0' eval='16'>
     <ufCall line='53' name='Q{http://www.jenitennison.com/xslt/xspec}resolve-EQName-ignoring-default-ns' tailCall='false' bSlot='1' eval='1 1'>
      <varRef name='Q{}eqname' slot='0'/>
      <varRef name='Q{}element' slot='1'/>
     </ufCall>
    </ufCall>
   </tailCallLoop>
  </function>
 </co>
 <co id='10' binds=''>
  <globalVariable name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' as='1AU' line='33' module='namespace-utils.xsl' visibility='PRIVATE'>
   <atomic val='http://www.w3.org/1999/XSL/Transform' type='AU'/>
  </globalVariable>
 </co>
 <co id='68' binds=''>
  <globalVariable name='Q{http://www.jenitennison.com/xslt/xspec}deq-namespace' as='1AU' line='10' module='namespace-utils.xsl' visibility='PRIVATE'>
   <atomic val='urn:x-xspec:common:deep-equal' type='AU'/>
  </globalVariable>
 </co>
 <co id='69' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' line='12' module='yes-no-utils.xsl' eval='4' flags='pU' as='1AB' slots='1'>
   <arg name='Q{}input' as='1AS'/>
   <choose role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='16'>
    <gcEE op='=' card='N:1' comp='CCC'>
     <literal count='3'>
      <str val='yes'/>
      <str val='true'/>
      <str val='1'/>
     </literal>
     <varRef name='Q{}input' slot='0'/>
    </gcEE>
    <true/>
    <gcEE line='19' op='=' card='N:1' comp='CCC'>
     <literal count='3'>
      <str val='no'/>
      <str val='false'/>
      <str val='0'/>
     </literal>
     <varRef name='Q{}input' slot='0'/>
    </gcEE>
    <false/>
    <true/>
    <error message='Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:yes-no-synonym#1' code='XTTE0780' isTypeErr='0'/>
   </choose>
  </function>
 </co>
 <co id='70' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}UQName' line='9' module='uqname-utils.xsl' eval='8' flags='pU' as='1AS' slots='2'>
   <arg name='Q{}namespace-uri' as='1AS'/>
   <arg name='Q{}local-name' as='1AS'/>
   <fn role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='13' name='concat'>
    <str val='Q{'/>
    <varRef name='Q{}namespace-uri' slot='0'/>
    <str val='}'/>
    <varRef name='Q{}local-name' slot='1'/>
   </fn>
  </function>
 </co>
 <co id='57' binds='10 13 10'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}invoke-compiled-current-scenario-or-expect' cxt='1NE' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}call-template' line='11' module='invoke-compiled-current-scenario-or-expect.xsl' slots='2'>
   <let role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='28' var='Q{http://saxon.sf.net/generated-variable}v0' as='1AS' slot='1' eval='13'>
    <convert from='AU' to='AS'>
     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='0'/>
    </convert>
    <sequence line='18'>
     <param name='Q{}with-param-uqnames' slot='0' flags='r' as='*AS'>
      <treat role='conversion' as='AS' diag='8|0|XTTE0590|with-param-uqnames'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|with-param-uqnames'>
        <data diag='8|0|XTTE0590|with-param-uqnames'>
         <supplied slot='0'/>
        </data>
       </cvUntyped>
      </treat>
     </param>
     <treat line='20' as='NE nQ{http://www.w3.org/1999/XSL/Transform}call-template' diag='7|0|XTTE0505|x:invoke-compiled-current-scenario-or-expect'>
      <compElem>
       <str role='name' val='xsl:call-template'/>
       <convert role='namespace' from='AU' to='AS'>
        <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='2'/>
       </convert>
       <sequence role='content' line='21'>
        <att name='name' flags='l'>
         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='1' eval='16'>
          <fn name='concat'>
           <str val='x:'/>
           <attVal name='Q{}id' chk='0'/>
          </fn>
         </ufCall>
        </att>
        <choose line='23'>
         <fn name='exists'>
          <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
         </fn>
         <procInst line='24' flags='l'>
          <str role='name' val='origin'/>
          <fn role='select' name='local-name'>
           <dot type='1NE'/>
          </fn>
         </procInst>
        </choose>
        <forEach line='27'>
         <varRef name='Q{}with-param-uqnames' slot='0'/>
         <compElem line='28' flags='l'>
          <str role='name' val='xsl:with-param'/>
          <varRef role='namespace' name='Q{http://saxon.sf.net/generated-variable}v0' slot='1'/>
          <sequence role='content' line='29'>
           <att name='name' flags='l'>
            <dot type='1AS'/>
           </att>
           <att line='30' name='select' flags='l'>
            <fn name='concat'>
             <str val='$'/>
             <dot type='1AS'/>
            </fn>
           </att>
          </sequence>
         </compElem>
        </forEach>
       </sequence>
      </compElem>
     </treat>
    </sequence>
   </let>
  </template>
 </co>
 <co id='71' binds='72'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}assign-id' onNo='SC' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='0.0' seq='1' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='1NE' line='13' module='assign-id.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    <copy role='action' ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='15' flags='cin' sit='1NE'>
     <sequence role='content'>
      <att name='id' flags='l'>
       <fn line='16' name='string-join'>
        <convert from='A' to='AS'>
         <data>
          <mergeAdj>
           <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}generate-id' bSlot='0'>
            <dot role='select' type='1NE' flags='a'/>
           </applyT>
          </mergeAdj>
         </data>
        </convert>
        <str val=''/>
       </fn>
      </att>
      <applyT line='18' flags='c' bSlot='-1'>
       <sequence role='select'>
        <axis name='attribute' nodeTest='NA'/>
        <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
       </sequence>
      </applyT>
     </sequence>
    </copy>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='1' part='1' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='s' as='1NE' line='13' module='assign-id.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
    <copy role='action' ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='15' flags='cin' sit='1NE'>
     <sequence role='content'>
      <att name='id' flags='l'>
       <fn line='16' name='string-join'>
        <convert from='A' to='AS'>
         <data>
          <mergeAdj>
           <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}generate-id' bSlot='0'>
            <dot role='select' type='1NE' flags='a'/>
           </applyT>
          </mergeAdj>
         </data>
        </convert>
        <str val=''/>
       </fn>
      </att>
      <applyT line='18' flags='c' bSlot='-1'>
       <sequence role='select'>
        <axis name='attribute' nodeTest='NA'/>
        <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
       </sequence>
      </applyT>
     </sequence>
    </copy>
   </templateRule>
  </mode>
 </co>
 <co id='31' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' line='28' module='yes-no-utils.xsl' eval='4' flags='pU' as='1AB' slots='3'>
   <arg name='Q{}input' as='?AS'/>
   <arg name='Q{}default' as='1AB'/>
   <choose role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='38'>
    <fn name='exists'>
     <varRef name='Q{}input' slot='0'/>
    </fn>
    <let var='Q{}input' as='1AS' slot='2' eval='16'>
     <check card='1' diag='0|0||x:yes-no-synonym'>
      <varRef name='Q{}input' slot='0'/>
     </check>
     <choose line='16'>
      <gcEE op='=' card='N:1' comp='CCC'>
       <literal count='3'>
        <str val='yes'/>
        <str val='true'/>
        <str val='1'/>
       </literal>
       <varRef name='Q{}input' slot='2'/>
      </gcEE>
      <true/>
      <gcEE line='19' op='=' card='N:1' comp='CCC'>
       <literal count='3'>
        <str val='no'/>
        <str val='false'/>
        <str val='0'/>
       </literal>
       <varRef name='Q{}input' slot='2'/>
      </gcEE>
      <false/>
      <true/>
      <error message='Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:yes-no-synonym#1' code='XTTE0780' isTypeErr='0'/>
     </choose>
    </let>
    <true/>
    <varRef name='Q{}default' slot='1'/>
   </choose>
  </function>
 </co>
 <co id='64' binds=''>
  <globalVariable name='Q{}initial-document' as='1ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]' line='37' module='main.xsl' visibility='PRIVATE'>
   <treat ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='37' as='ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]' diag='3|0|XTTE0570|initial-document'>
    <dot type='1ND' flags='a'/>
   </treat>
  </globalVariable>
 </co>
 <co id='73' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}is-user-content' line='9' module='user-content-utils.xsl' eval='8' flags='pU' as='1AB' slots='1'>
   <arg name='Q{}node' as='1N'/>
   <fn role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='23' name='exists'>
    <intersect op='intersect'>
     <slash>
      <varRef name='Q{}node' slot='0'/>
      <fn name='reverse'>
       <axis name='ancestor-or-self' nodeTest='N'/>
      </fn>
     </slash>
     <union op='|'>
      <union op='|'>
       <union op='|'>
        <docOrder intra='0'>
         <filter flags='b'>
          <slash simple='2'>
           <slash>
            <varRef name='Q{}node' slot='0'/>
            <fn name='reverse'>
             <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
            </fn>
           </slash>
           <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
          </slash>
          <fn name='empty'>
           <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
          </fn>
         </filter>
        </docOrder>
        <docOrder intra='0'>
         <filter flags='b'>
          <slash simple='2'>
           <slash>
            <varRef name='Q{}node' slot='0'/>
            <fn name='reverse'>
             <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
            </fn>
           </slash>
           <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
          </slash>
          <fn name='empty'>
           <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
          </fn>
         </filter>
        </docOrder>
       </union>
       <docOrder intra='0'>
        <slash simple='2'>
         <slash>
          <varRef name='Q{}node' slot='0'/>
          <fn name='reverse'>
           <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
          </fn>
         </slash>
         <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
        </slash>
       </docOrder>
      </union>
      <docOrder intra='0'>
       <slash simple='2'>
        <slash>
         <varRef name='Q{}node' slot='0'/>
         <fn name='reverse'>
          <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
         </fn>
        </slash>
        <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
       </slash>
      </docOrder>
     </union>
    </intersect>
   </fn>
  </function>
 </co>
 <co id='54' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}document-actual-uri' line='26' module='uri-utils.xsl' eval='16' flags='pU' as='1AU' slots='1'>
   <arg name='Q{}doc' as='1ND'/>
   <cast role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='19' flags='a' as='1AU'>
    <fn name='replace'>
     <convert from='AU' to='AS'>
      <fn name='base-uri'>
       <fn name='doc'>
        <check line='33' card='1' diag='0|0||x:resolve-xml-uri-with-catalog'>
         <convert from='AU' to='AS'>
          <fn name='document-uri'>
           <varRef name='Q{}doc' slot='0'/>
          </fn>
         </convert>
        </check>
       </fn>
      </fn>
     </convert>
     <str val='^(file:)([^/])'/>
     <str val='$1/$2'/>
     <str val=''/>
    </fn>
   </cast>
  </function>
 </co>
 <co id='74' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}extract-version' line='69' module='version-utils.xsl' eval='8' flags='pU' as='*ADI' slots='1'>
   <arg name='Q{}input' as='1AS'/>
   <analyzeString role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='83'>
    <varRef role='select' name='Q{}input' slot='0'/>
    <str role='regex' val='&#xA;&#x9;&#x9;&#x9;([0-9]+)&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;\.&#xA;&#x9;&#x9;&#x9;([0-9]+)&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;(?:&#xA;&#x9;&#x9;&#x9;&#x9;\.&#xA;&#x9;&#x9;&#x9;&#x9;([0-9]+)&#x9;&#xA;&#x9;&#x9;&#x9;&#x9;\.&#xA;&#x9;&#x9;&#x9;&#x9;([0-9]+)&#x9;&#xA;&#x9;&#x9;&#x9;)?&#xA;&#x9;&#x9;'/>
    <str role='flags' val='x'/>
    <forEach role='matching' line='90'>
     <forEach>
      <range from='1' to='4'/>
      <first>
       <sequence>
        <filter flags='b'>
         <fn name='regex-group'>
          <dot type='1ADI'/>
         </fn>
         <fn name='boolean'>
          <dot type='1AS'/>
         </fn>
        </filter>
        <int val='0'/>
       </sequence>
      </first>
     </forEach>
     <cast flags='a' as='1ADI'>
      <dot type='1A'/>
     </cast>
    </forEach>
   </analyzeString>
  </function>
 </co>
 <co id='32' binds='34 35'>
  <function name='Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry' line='181' module='transform-options.xsl' eval='9' flags='pU' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}map-entry' slots='1'>
   <arg name='Q{}param' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
   <elem role='body' ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:external:transform-options:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='184' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
    <sequence>
     <att name='key' flags='l'>
      <fn name='string-join'>
       <forEach>
        <varRef name='Q{}param' slot='0'/>
        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}QName-expression-from-EQName-ignoring-default-ns' tailCall='false' bSlot='0' eval='16 16'>
         <check card='1' diag='0|0||x:QName-expression-from-EQName-ignoring-default-ns'>
          <cvUntyped to='AS'>
           <attVal name='Q{}name' chk='0'/>
          </cvUntyped>
         </check>
         <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
        </ufCall>
       </forEach>
       <str val=' '/>
      </fn>
     </att>
     <ufCall line='185' name='Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-select-attr' tailCall='false' bSlot='1' eval='1'>
      <varRef name='Q{}param' slot='0'/>
     </ufCall>
    </sequence>
   </elem>
  </function>
 </co>
 <co id='75' binds='5 5 5 5 5 5 4 5 17 17 17 17 17 17 17 17 13 13 10 18 18 19 76 18 77 15 5 77 13 15 11 30 78 13 3 13 13 13 13 78 2 2 3 3 78 1 78 2 2 3 78 3 2 2 3 5 13 13 20 19 10 10 21'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}compile-scenario' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='+NE nQ{http://www.w3.org/1999/XSL/Transform}template' line='15' module='compile-scenario.xsl' slots='23'>
   <sequence role='body' ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='18'>
    <param name='Q{}apply' slot='0' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}apply'>
     <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}apply' diag='8|0|XTTE0590|apply'>
      <check card='?' diag='8|0|XTTE0590|apply'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <param line='19' name='Q{}call' slot='1' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
     <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}call' diag='8|0|XTTE0590|call'>
      <check card='?' diag='8|0|XTTE0590|call'>
       <supplied slot='1'/>
      </check>
     </treat>
    </param>
    <param line='20' name='Q{}context' slot='2' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
     <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}context' diag='8|0|XTTE0590|context'>
      <check card='?' diag='8|0|XTTE0590|context'>
       <supplied slot='2'/>
      </check>
     </treat>
    </param>
    <param line='21' name='Q{}reason-for-pending' slot='3' flags='r' as='?AS'>
     <treat role='conversion' as='AS' diag='8|0|XTTE0590|reason-for-pending'>
      <check card='?' diag='8|0|XTTE0590|reason-for-pending'>
       <cvUntyped to='AS' diag='8|0|XTTE0590|reason-for-pending'>
        <data diag='8|0|XTTE0590|reason-for-pending'>
         <supplied slot='3'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <param line='22' name='Q{}run-sut-now' slot='4' flags='r' as='1AB'>
     <treat role='conversion' as='AB' diag='8|0|XTTE0590|run-sut-now'>
      <check card='1' diag='8|0|XTTE0590|run-sut-now'>
       <cvUntyped to='AB' diag='8|0|XTTE0590|run-sut-now'>
        <data diag='8|0|XTTE0590|run-sut-now'>
         <supplied slot='4'/>
        </data>
       </cvUntyped>
      </check>
     </treat>
    </param>
    <let line='27' var='Q{}local-preceding-vardecls' as='*NE' slot='5' eval='4'>
     <union op='|'>
      <union op='|'>
       <filter flags='b'>
        <axis name='child' nodeTest='NE u[NE nQ{http://www.jenitennison.com/xslt/xspec}param,NE nQ{http://www.jenitennison.com/xslt/xspec}variable]'/>
        <or op='or'>
         <fn name='exists'>
          <axis name='following-sibling' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
         </fn>
         <fn name='exists'>
          <axis name='following-sibling' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
         </fn>
        </or>
       </filter>
       <filter flags='ib'>
        <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
        <varRef name='Q{}run-sut-now' slot='4'/>
       </filter>
      </union>
      <filter flags='b'>
       <filter flags='b'>
        <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
        <fn name='exists'>
         <axis name='following-sibling' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
        </fn>
       </filter>
       <varRef name='Q{}run-sut-now' slot='4'/>
      </filter>
     </union>
     <sequence line='31'>
      <choose>
       <and op='and'>
        <fn name='exists'>
         <slash simple='1'>
          <varRef name='Q{}context' slot='2'/>
          <axis name='attribute' nodeTest='NA nQ{}href'/>
         </slash>
        </fn>
        <fn name='exists'>
         <except op='except'>
          <slash simple='1'>
           <varRef name='Q{}context' slot='2'/>
           <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
          </slash>
          <slash simple='1'>
           <varRef name='Q{}context' slot='2'/>
           <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
          </slash>
         </except>
        </fn>
       </and>
       <treat line='33' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <cvUntyped line='35' to='AS' diag='3|0|XTTE0570|message'>
            <cast flags='a' as='1AZ'>
             <fn name='concat'>
              <str val='Can&#39;t set the context document using both the href attribute and the content of the '/>
              <fn name='name'>
               <varRef name='Q{}context' slot='2'/>
              </fn>
              <str val=' element'/>
             </fn>
            </cast>
           </cvUntyped>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <choose line='40'>
       <and op='and'>
        <fn name='exists'>
         <slash simple='1'>
          <varRef name='Q{}call' slot='1'/>
          <axis name='attribute' nodeTest='NA nQ{}template'/>
         </slash>
        </fn>
        <fn name='exists'>
         <slash simple='1'>
          <varRef name='Q{}call' slot='1'/>
          <axis name='attribute' nodeTest='NA nQ{}function'/>
         </slash>
        </fn>
       </and>
       <treat line='42' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='1'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <str val='Can&#39;t call a function and a template at the same time'/>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <choose line='49'>
       <and op='and'>
        <fn name='exists'>
         <varRef name='Q{}apply' slot='0'/>
        </fn>
        <fn name='exists'>
         <varRef name='Q{}context' slot='2'/>
        </fn>
       </and>
       <treat line='51' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='2'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <cvUntyped line='53' to='AS' diag='3|0|XTTE0570|message'>
            <cast flags='a' as='1AZ'>
             <fn name='concat'>
              <str val='Can&#39;t use '/>
              <fn name='name'>
               <varRef name='Q{}apply' slot='0'/>
              </fn>
              <str val=' and set a context at the same time'/>
             </fn>
            </cast>
           </cvUntyped>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <choose line='58'>
       <and op='and'>
        <fn name='exists'>
         <varRef name='Q{}apply' slot='0'/>
        </fn>
        <fn name='exists'>
         <varRef name='Q{}call' slot='1'/>
        </fn>
       </and>
       <treat line='60' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='3'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <cvUntyped line='62' to='AS' diag='3|0|XTTE0570|message'>
            <cast flags='a' as='1AZ'>
             <fn name='concat'>
              <str val='Can&#39;t use '/>
              <fn name='name'>
               <varRef name='Q{}apply' slot='0'/>
              </fn>
              <str val=' and '/>
              <fn name='name'>
               <varRef name='Q{}call' slot='1'/>
              </fn>
              <str val=' at the same time'/>
             </fn>
            </cast>
           </cvUntyped>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <choose line='67'>
       <and op='and'>
        <fn name='exists'>
         <varRef name='Q{}context' slot='2'/>
        </fn>
        <fn name='exists'>
         <slash simple='1'>
          <varRef name='Q{}call' slot='1'/>
          <axis name='attribute' nodeTest='NA nQ{}function'/>
         </slash>
        </fn>
       </and>
       <treat line='69' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='4'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <str val='Can&#39;t set a context and call a function at the same time'/>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <choose line='76'>
       <and op='and'>
        <fn name='exists'>
         <slash simple='1'>
          <varRef name='Q{}context' slot='2'/>
          <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
         </slash>
        </fn>
        <fn name='exists'>
         <varRef name='Q{}call' slot='1'/>
        </fn>
       </and>
       <treat line='78' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='5'>
          <withParam name='Q{}level' flags='c' as='1AS'>
           <str val='WARNING'/>
          </withParam>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <cvUntyped line='81' to='AS' diag='3|0|XTTE0570|message'>
            <cast flags='a' as='1AZ'>
             <fn name='concat'>
              <fn name='name'>
               <varRef name='Q{}context' slot='2'/>
              </fn>
              <str val='/'/>
              <fn name='name'>
               <slash>
                <varRef name='Q{}context' slot='2'/>
                <first>
                 <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                </first>
               </slash>
              </fn>
              <str val=' will have no effect on '/>
              <fn name='name'>
               <varRef name='Q{}call' slot='1'/>
              </fn>
             </fn>
            </cast>
           </cvUntyped>
          </withParam>
         </callT>
         <str role='terminate' val='no'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <choose line='86'>
       <varRef name='Q{}run-sut-now' slot='4'/>
       <callT line='87' name='Q{http://www.jenitennison.com/xslt/xspec}check-param-max-position' bSlot='6'/>
      </choose>
      <choose line='89'>
       <and op='and'>
        <and op='and'>
         <and op='and'>
          <fn name='exists'>
           <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
          </fn>
          <fn name='empty'>
           <varRef name='Q{}call' slot='1'/>
          </fn>
         </and>
         <fn name='empty'>
          <varRef name='Q{}apply' slot='0'/>
         </fn>
        </and>
        <fn name='empty'>
         <varRef name='Q{}context' slot='2'/>
        </fn>
       </and>
       <treat line='91' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='7'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <cvUntyped line='95' to='AS' diag='3|0|XTTE0570|message'>
            <cast flags='a' as='1AZ'>
             <fn name='concat'>
              <str val='There are '/>
              <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}context-element' as='1NE' slot='6' eval='16'>
               <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
               <let module='compiler-misc-utils.xsl' line='79' var='Q{}context-node-name' as='1AQ' slot='7' eval='16'>
                <check card='1' diag='3|0|XTTE0570|context-node-name'>
                 <fn name='node-name'>
                  <varRef name='Q{}context-element' slot='6'/>
                 </fn>
                </check>
                <fn line='96' name='string-join'>
                 <sequence>
                  <filter flags='b'>
                   <choose line='83'>
                    <vc op='eq' onEmpty='0' comp='CCC'>
                     <fn name='namespace-uri-from-QName'>
                      <varRef name='Q{}context-node-name' slot='7'/>
                     </fn>
                     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='8'/>
                    </vc>
                    <fn line='84' name='prefix-from-QName'>
                     <varRef name='Q{}context-node-name' slot='7'/>
                    </fn>
                    <true/>
                    <treat line='91' as='AS' diag='3|0|XTTE0570|prefix'>
                     <check card='?' diag='3|0|XTTE0570|prefix'>
                      <cvUntyped to='AS' diag='3|0|XTTE0570|prefix'>
                       <data diag='3|0|XTTE0570|prefix'>
                        <first>
                         <fn name='sort'>
                          <check line='90' card='+' diag='3|0|XTTE0570|xspec-prefixes'>
                           <filter flags=''>
                            <fn name='in-scope-prefixes'>
                             <varRef name='Q{}context-element' slot='6'/>
                            </fn>
                            <vc op='eq' comp='CCC'>
                             <fn name='namespace-uri-for-prefix'>
                              <dot type='1AS'/>
                              <varRef name='Q{}context-element' slot='6'/>
                             </fn>
                             <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='9'/>
                            </vc>
                           </filter>
                          </check>
                         </fn>
                        </first>
                       </data>
                      </cvUntyped>
                     </check>
                    </treat>
                   </choose>
                   <fn name='boolean'>
                    <dot type='1AS'/>
                   </fn>
                  </filter>
                  <str val='expect'/>
                 </sequence>
                 <str val=':'/>
                </fn>
               </let>
              </let>
              <str val=' but no '/>
              <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}context-element' as='1NE' slot='8' eval='16'>
               <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
               <let module='compiler-misc-utils.xsl' line='79' var='Q{}context-node-name' as='1AQ' slot='9' eval='16'>
                <check card='1' diag='3|0|XTTE0570|context-node-name'>
                 <fn name='node-name'>
                  <varRef name='Q{}context-element' slot='8'/>
                 </fn>
                </check>
                <fn line='96' name='string-join'>
                 <sequence>
                  <filter flags='b'>
                   <choose line='83'>
                    <vc op='eq' onEmpty='0' comp='CCC'>
                     <fn name='namespace-uri-from-QName'>
                      <varRef name='Q{}context-node-name' slot='9'/>
                     </fn>
                     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='10'/>
                    </vc>
                    <fn line='84' name='prefix-from-QName'>
                     <varRef name='Q{}context-node-name' slot='9'/>
                    </fn>
                    <true/>
                    <treat line='91' as='AS' diag='3|0|XTTE0570|prefix'>
                     <check card='?' diag='3|0|XTTE0570|prefix'>
                      <cvUntyped to='AS' diag='3|0|XTTE0570|prefix'>
                       <data diag='3|0|XTTE0570|prefix'>
                        <first>
                         <fn name='sort'>
                          <check line='90' card='+' diag='3|0|XTTE0570|xspec-prefixes'>
                           <filter flags=''>
                            <fn name='in-scope-prefixes'>
                             <varRef name='Q{}context-element' slot='8'/>
                            </fn>
                            <vc op='eq' comp='CCC'>
                             <fn name='namespace-uri-for-prefix'>
                              <dot type='1AS'/>
                              <varRef name='Q{}context-element' slot='8'/>
                             </fn>
                             <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='11'/>
                            </vc>
                           </filter>
                          </check>
                         </fn>
                        </first>
                       </data>
                      </cvUntyped>
                     </check>
                    </treat>
                   </choose>
                   <fn name='boolean'>
                    <dot type='1AS'/>
                   </fn>
                  </filter>
                  <str val='call'/>
                 </sequence>
                 <str val=':'/>
                </fn>
               </let>
              </let>
              <str val=', '/>
              <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}context-element' as='1NE' slot='10' eval='16'>
               <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
               <let module='compiler-misc-utils.xsl' line='79' var='Q{}context-node-name' as='1AQ' slot='11' eval='16'>
                <check card='1' diag='3|0|XTTE0570|context-node-name'>
                 <fn name='node-name'>
                  <varRef name='Q{}context-element' slot='10'/>
                 </fn>
                </check>
                <fn line='96' name='string-join'>
                 <sequence>
                  <filter flags='b'>
                   <choose line='83'>
                    <vc op='eq' onEmpty='0' comp='CCC'>
                     <fn name='namespace-uri-from-QName'>
                      <varRef name='Q{}context-node-name' slot='11'/>
                     </fn>
                     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='12'/>
                    </vc>
                    <fn line='84' name='prefix-from-QName'>
                     <varRef name='Q{}context-node-name' slot='11'/>
                    </fn>
                    <true/>
                    <treat line='91' as='AS' diag='3|0|XTTE0570|prefix'>
                     <check card='?' diag='3|0|XTTE0570|prefix'>
                      <cvUntyped to='AS' diag='3|0|XTTE0570|prefix'>
                       <data diag='3|0|XTTE0570|prefix'>
                        <first>
                         <fn name='sort'>
                          <check line='90' card='+' diag='3|0|XTTE0570|xspec-prefixes'>
                           <filter flags=''>
                            <fn name='in-scope-prefixes'>
                             <varRef name='Q{}context-element' slot='10'/>
                            </fn>
                            <vc op='eq' comp='CCC'>
                             <fn name='namespace-uri-for-prefix'>
                              <dot type='1AS'/>
                              <varRef name='Q{}context-element' slot='10'/>
                             </fn>
                             <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='13'/>
                            </vc>
                           </filter>
                          </check>
                         </fn>
                        </first>
                       </data>
                      </cvUntyped>
                     </check>
                    </treat>
                   </choose>
                   <fn name='boolean'>
                    <dot type='1AS'/>
                   </fn>
                  </filter>
                  <str val='apply'/>
                 </sequence>
                 <str val=':'/>
                </fn>
               </let>
              </let>
              <str val=' or '/>
              <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}context-element' as='1NE' slot='12' eval='16'>
               <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
               <let module='compiler-misc-utils.xsl' line='79' var='Q{}context-node-name' as='1AQ' slot='13' eval='16'>
                <check card='1' diag='3|0|XTTE0570|context-node-name'>
                 <fn name='node-name'>
                  <varRef name='Q{}context-element' slot='12'/>
                 </fn>
                </check>
                <fn line='96' name='string-join'>
                 <sequence>
                  <filter flags='b'>
                   <choose line='83'>
                    <vc op='eq' onEmpty='0' comp='CCC'>
                     <fn name='namespace-uri-from-QName'>
                      <varRef name='Q{}context-node-name' slot='13'/>
                     </fn>
                     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='14'/>
                    </vc>
                    <fn line='84' name='prefix-from-QName'>
                     <varRef name='Q{}context-node-name' slot='13'/>
                    </fn>
                    <true/>
                    <treat line='91' as='AS' diag='3|0|XTTE0570|prefix'>
                     <check card='?' diag='3|0|XTTE0570|prefix'>
                      <cvUntyped to='AS' diag='3|0|XTTE0570|prefix'>
                       <data diag='3|0|XTTE0570|prefix'>
                        <first>
                         <fn name='sort'>
                          <check line='90' card='+' diag='3|0|XTTE0570|xspec-prefixes'>
                           <filter flags=''>
                            <fn name='in-scope-prefixes'>
                             <varRef name='Q{}context-element' slot='12'/>
                            </fn>
                            <vc op='eq' comp='CCC'>
                             <fn name='namespace-uri-for-prefix'>
                              <dot type='1AS'/>
                              <varRef name='Q{}context-element' slot='12'/>
                             </fn>
                             <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='15'/>
                            </vc>
                           </filter>
                          </check>
                         </fn>
                        </first>
                       </data>
                      </cvUntyped>
                     </check>
                    </treat>
                   </choose>
                   <fn name='boolean'>
                    <dot type='1AS'/>
                   </fn>
                  </filter>
                  <str val='context'/>
                 </sequence>
                 <str val=':'/>
                </fn>
               </let>
              </let>
              <str val=' has been given'/>
             </fn>
            </cast>
           </cvUntyped>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <treat line='101' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
       <compElem>
        <str role='name' val='xsl:template'/>
        <convert role='namespace' from='AU' to='AS'>
         <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='61'/>
        </convert>
        <sequence role='content' line='102'>
         <att name='name' flags='l'>
          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='16' eval='16'>
           <fn name='concat'>
            <str val='x:'/>
            <attVal name='Q{}id' chk='0'/>
           </fn>
          </ufCall>
         </att>
         <att line='103' name='as' flags='l'>
          <fn name='concat'>
           <str val='element('/>
           <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='17' eval='0'>
            <str val='x:scenario'/>
           </ufCall>
           <str val=')'/>
          </fn>
         </att>
         <compElem line='109' flags='l'>
          <str role='name' val='xsl:context-item'/>
          <convert role='namespace' from='AU' to='AS'>
           <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='18'/>
          </convert>
          <att role='content' line='110' name='use' flags='l'>
           <str val='absent'/>
          </att>
         </compElem>
         <forEach line='113'>
          <fn name='accumulator-before'>
           <str val='stacked-vardecls-distinct-uqnames'/>
          </fn>
          <elem line='114' name='xsl:param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
           <sequence>
            <att name='name' flags='l'>
             <dot type='1AS'/>
            </att>
            <att name='as' flags='l'>
             <str val='item()*'/>
            </att>
            <att name='required' flags='l'>
             <str val='yes'/>
            </att>
           </sequence>
          </elem>
         </forEach>
         <elem line='117' name='xsl:message' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
          <sequence line='118'>
           <choose>
            <fn name='exists'>
             <varRef name='Q{}reason-for-pending' slot='3'/>
            </fn>
            <sequence line='119'>
             <valueOf flags='l'>
              <str val='PENDING: '/>
             </valueOf>
             <forEach line='120'>
              <filter flags='b'>
               <fn name='normalize-space'>
                <varRef name='Q{}reason-for-pending' slot='3'/>
               </fn>
               <fn name='boolean'>
                <dot type='1AS'/>
               </fn>
              </filter>
              <valueOf line='121' flags='l'>
               <fn name='concat'>
                <str val='('/>
                <dot type='1AS'/>
                <str val=') '/>
               </fn>
              </valueOf>
             </forEach>
            </sequence>
           </choose>
           <choose line='124'>
            <fn name='exists'>
             <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
            </fn>
            <valueOf line='125' flags='Sl'>
             <str val='..'/>
            </valueOf>
           </choose>
           <valueOf line='127' flags='l'>
            <fn name='normalize-space'>
             <cvUntyped to='AS'>
              <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}labelled' as='1NE' slot='14' eval='16'>
               <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
               <data module='compiler-misc-utils.xsl' line='13' diag='0|0||fn:normalize-space'>
                <treat as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
                 <compElem>
                  <str role='name' val='label'/>
                  <convert role='namespace' from='AU' to='AS'>
                   <fn name='namespace-uri'>
                    <varRef name='Q{}labelled' slot='14'/>
                   </fn>
                  </convert>
                  <valueOf role='content' line='14' flags='l'>
                   <convert from='A' to='AS'>
                    <data>
                     <first>
                      <sequence>
                       <slash simple='1'>
                        <varRef name='Q{}labelled' slot='14'/>
                        <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                       </slash>
                       <slash simple='1'>
                        <varRef name='Q{}labelled' slot='14'/>
                        <axis name='attribute' nodeTest='NA nQ{}label'/>
                       </slash>
                      </sequence>
                     </first>
                    </data>
                   </convert>
                  </valueOf>
                 </compElem>
                </treat>
               </data>
              </let>
             </cvUntyped>
            </fn>
           </valueOf>
          </sequence>
         </elem>
         <compElem line='131' flags='l'>
          <str role='name' val='xsl:element'/>
          <convert role='namespace' from='AU' to='AS'>
           <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='60'/>
          </convert>
          <sequence role='content' line='132'>
           <att name='name' flags='l'>
            <fn name='local-name'>
             <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
            </fn>
           </att>
           <att line='133' name='namespace' flags='l'>
            <convert from='AU' to='AS'>
             <fn name='namespace-uri'>
              <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
             </fn>
            </convert>
           </att>
           <applyT line='140' mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='19'>
            <sequence role='select' line='136'>
             <axis name='attribute' nodeTest='NA nQ{}id'/>
             <att line='137' name='xspec'>
              <convert from='AZ' to='AS'>
               <data>
                <first>
                 <sequence>
                  <axis name='attribute' nodeTest='NA nQ{}original-xspec'/>
                  <axis name='attribute' nodeTest='NA nQ{}xspec'/>
                 </sequence>
                </first>
               </data>
              </convert>
             </att>
             <treat ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compiler-pending-utils.xsl' line='65' as='NA nQ{}pending' diag='5|0|XTTE0780|x:pending-attribute-from-reason#1'>
              <check card='?' diag='5|0|XTTE0780|x:pending-attribute-from-reason#1'>
               <forEach>
                <varRef ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='compile-scenario.xsl' line='138' name='Q{}reason-for-pending' slot='3'/>
                <att line='66' name='pending'>
                 <dot type='1AS'/>
                </att>
               </forEach>
              </check>
             </treat>
            </sequence>
           </applyT>
           <applyT line='142' mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='20'>
            <let role='select' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}labelled' as='1NE' slot='15' eval='16'>
             <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
             <treat module='compiler-misc-utils.xsl' line='13' as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
              <compElem>
               <str role='name' val='label'/>
               <convert role='namespace' from='AU' to='AS'>
                <fn name='namespace-uri'>
                 <varRef name='Q{}labelled' slot='15'/>
                </fn>
               </convert>
               <valueOf role='content' line='14' flags='l'>
                <convert from='A' to='AS'>
                 <data>
                  <first>
                   <sequence>
                    <slash simple='1'>
                     <varRef name='Q{}labelled' slot='15'/>
                     <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                    </slash>
                    <slash simple='1'>
                     <varRef name='Q{}labelled' slot='15'/>
                     <axis name='attribute' nodeTest='NA nQ{}label'/>
                    </slash>
                   </sequence>
                  </first>
                 </data>
                </convert>
               </valueOf>
              </compElem>
             </treat>
            </let>
           </applyT>
           <callT line='144' name='Q{http://www.jenitennison.com/xslt/xspec}timestamp' bSlot='21'>
            <withParam name='Q{}event' flags='c' as='1AS'>
             <str val='start'/>
            </withParam>
           </callT>
           <forEach line='150'>
            <union op='|'>
             <union op='|'>
              <union op='|'>
               <docOrder intra='0'>
                <varRef name='Q{}local-preceding-vardecls' slot='5'/>
               </docOrder>
               <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}apply'/>
              </union>
              <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
             </union>
             <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
            </union>
            <choose line='152'>
             <or op='or'>
              <or op='or'>
               <fn name='exists'>
                <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}apply'/>
               </fn>
               <fn name='exists'>
                <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
               </fn>
              </or>
              <fn name='exists'>
               <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
              </fn>
             </or>
             <sequence line='156'>
              <callT name='Q{http://www.jenitennison.com/xslt/xspec}wrap-node-constructors-and-undeclare-default-ns' bSlot='22'>
               <withParam name='Q{}wrapper-name' flags='c' as='1AS'>
                <str val='input-wrap'/>
               </withParam>
               <withParam name='Q{}node-constructors' flags='c' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}element'>
                <treat line='159' as='NE nQ{http://www.w3.org/1999/XSL/Transform}element' diag='3|0|XTTE0570|node-constructors'>
                 <check card='1' diag='3|0|XTTE0570|node-constructors'>
                  <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='23'>
                   <dot role='select' type='1NE'/>
                  </applyT>
                 </check>
                </treat>
               </withParam>
              </callT>
              <choose line='163'>
               <and op='and'>
                <fn name='exists'>
                 <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
                </fn>
                <varRef name='Q{}run-sut-now' slot='4'/>
               </and>
               <callT line='166' name='Q{urn:x-xspec:compiler:xslt:compile:compile-scenario:local}set-up-context' bSlot='24'/>
              </choose>
             </sequence>
             <fn line='170' name='exists'>
              <among op='among'>
               <dot type='1NE'/>
               <varRef name='Q{}local-preceding-vardecls' slot='5'/>
              </among>
             </fn>
             <applyT line='174' mode='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' bSlot='25'>
              <dot role='select' type='1NE'/>
             </applyT>
             <true/>
             <message line='179'>
              <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='26'>
               <withParam name='Q{}message' flags='c' as='1AS'>
                <str val='Unhandled'/>
               </withParam>
              </callT>
              <str role='terminate' val='yes'/>
              <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
             </message>
            </choose>
           </forEach>
           <choose line='187'>
            <varRef name='Q{}run-sut-now' slot='4'/>
            <sequence line='188'>
             <choose>
              <and op='and'>
               <fn name='exists'>
                <varRef name='Q{}context' slot='2'/>
               </fn>
               <fn name='empty'>
                <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
               </fn>
              </and>
              <callT line='192' name='Q{urn:x-xspec:compiler:xslt:compile:compile-scenario:local}set-up-context' bSlot='27'/>
             </choose>
             <elem line='195' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
              <sequence>
               <att name='name' flags='l'>
                <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='28' eval='0'>
                 <str val='x:result'/>
                </ufCall>
               </att>
               <att name='as' flags='l'>
                <str val='item()*'/>
               </att>
               <applyT line='198' mode='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' bSlot='29'>
                <slash role='select' simple='1'>
                 <first>
                  <sequence>
                   <varRef name='Q{}call' slot='1'/>
                   <varRef name='Q{}apply' slot='0'/>
                   <varRef name='Q{}context' slot='2'/>
                  </sequence>
                 </first>
                 <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                </slash>
               </applyT>
               <choose line='202'>
                <gVarRef name='Q{}is-external' bSlot='30'/>
                <sequence line='204'>
                 <callT name='Q{http://www.jenitennison.com/xslt/xspec}transform-options' bSlot='31'/>
                 <let line='207' var='Q{}enter-sut' as='+NE' slot='16' eval='8'>
                  <treat line='208' as='NE' diag='3|0|XTTE0570|enter-sut'>
                   <callT name='Q{http://www.jenitennison.com/xslt/xspec}enter-sut' bSlot='32'>
                    <withParam name='Q{}instruction' flags='c' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}sequence'>
                     <elem line='211' name='xsl:sequence' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
                      <att name='select' flags='l'>
                       <fn name='concat'>
                        <str val='transform($'/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='33' eval='0'>
                         <str val='impl:transform-options'/>
                        </ufCall>
                        <str val=')?output'/>
                       </fn>
                      </att>
                     </elem>
                    </withParam>
                   </callT>
                  </treat>
                  <choose line='218'>
                   <and op='and'>
                    <fn name='exists'>
                     <slash simple='1'>
                      <varRef name='Q{}call' slot='1'/>
                      <axis name='attribute' nodeTest='NA nQ{}template'/>
                     </slash>
                    </fn>
                    <fn name='exists'>
                     <varRef name='Q{}context' slot='2'/>
                    </fn>
                   </and>
                   <elem line='219' name='xsl:for-each' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                    <sequence>
                     <att name='select' flags='l'>
                      <fn name='concat'>
                       <str val='$'/>
                       <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='34' eval='16'>
                        <check card='1' diag='0|0||x:variable-UQName'>
                         <varRef name='Q{}context' slot='2'/>
                        </check>
                       </ufCall>
                      </fn>
                     </att>
                     <elem line='220' name='xsl:variable' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                      <sequence>
                       <att name='name' flags='l'>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='35' eval='0'>
                         <str val='impl:transform-options'/>
                        </ufCall>
                       </att>
                       <att name='as' flags='l'>
                        <fn name='concat'>
                         <str val='map('/>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='36' eval='0'>
                          <str val='xs:string'/>
                         </ufCall>
                         <str val=', item()*)'/>
                        </fn>
                       </att>
                       <att line='221' name='select' flags='l'>
                        <convert line='222' from='AZ' to='AS'>
                         <cast flags='a' as='1AZ'>
                          <fn name='concat'>
                           <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='37' eval='0'>
                            <str val='map:put'/>
                           </ufCall>
                           <str val='($'/>
                           <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='38' eval='0'>
                            <str val='impl:transform-options'/>
                           </ufCall>
                           <str val=', &#39;global-context-item&#39;, .)'/>
                          </fn>
                         </cast>
                        </convert>
                       </att>
                      </sequence>
                     </elem>
                     <varRef line='225' name='Q{}enter-sut' slot='16'/>
                    </sequence>
                   </elem>
                   <true/>
                   <varRef line='229' name='Q{}enter-sut' slot='16'/>
                  </choose>
                 </let>
                </sequence>
                <fn line='234' name='exists'>
                 <slash simple='1'>
                  <varRef name='Q{}call' slot='1'/>
                  <axis name='attribute' nodeTest='NA nQ{}template'/>
                 </slash>
                </fn>
                <let line='236' var='Q{}template-call' as='1NE' slot='17' eval='16'>
                 <treat line='237' as='NE' diag='3|0|XTTE0570|template-call'>
                  <check card='1' diag='3|0|XTTE0570|template-call'>
                   <callT name='Q{http://www.jenitennison.com/xslt/xspec}enter-sut' bSlot='39'>
                    <withParam name='Q{}instruction' flags='c' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}call-template'>
                     <elem line='240' name='xsl:call-template' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
                      <sequence>
                       <att name='name' flags='l'>
                        <fn name='string-join'>
                         <forEach>
                          <varRef name='Q{}call' slot='1'/>
                          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' tailCall='false' bSlot='40' eval='16 16'>
                           <check card='1' diag='0|0||x:UQName-from-EQName-ignoring-default-ns'>
                            <cvUntyped to='AS'>
                             <attVal name='Q{}template' chk='0'/>
                            </cvUntyped>
                           </check>
                           <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
                          </ufCall>
                         </forEach>
                         <str val=' '/>
                        </fn>
                       </att>
                       <forEach line='241'>
                        <slash simple='1'>
                         <varRef name='Q{}call' slot='1'/>
                         <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                        </slash>
                        <elem line='242' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                         <sequence line='244'>
                          <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}element' as='1NE' slot='18' eval='16'>
                           <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                           <forEach module='namespace-utils.xsl' line='42'>
                            <filter flags='b'>
                             <fn name='in-scope-prefixes'>
                              <varRef name='Q{}element' slot='18'/>
                             </fn>
                             <compareToString op='ne' val='xml'>
                              <dot type='1AS'/>
                             </compareToString>
                            </filter>
                            <namespace line='43' flags='l'>
                             <dot role='name' type='1AS'/>
                             <convert role='select' from='AU' to='AS'>
                              <fn name='namespace-uri-for-prefix'>
                               <dot type='1AS'/>
                               <varRef name='Q{}element' slot='18'/>
                              </fn>
                             </convert>
                            </namespace>
                           </forEach>
                          </let>
                          <att line='247' name='name' flags='l'>
                           <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' tailCall='false' bSlot='41' eval='16 16'>
                            <check card='1' diag='0|0||x:UQName-from-EQName-ignoring-default-ns'>
                             <cvUntyped to='AS'>
                              <attVal name='Q{}name' chk='0'/>
                             </cvUntyped>
                            </check>
                            <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                           </ufCall>
                          </att>
                          <att line='249' name='select' flags='l'>
                           <fn name='concat'>
                            <str val='$'/>
                            <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='42' eval='16'>
                             <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                            </ufCall>
                           </fn>
                          </att>
                          <axis line='251' name='attribute' nodeTest='NA nQ{}tunnel'/>
                          <axis line='251' name='attribute' nodeTest='NA nQ{}as'/>
                         </sequence>
                        </elem>
                       </forEach>
                      </sequence>
                     </elem>
                    </withParam>
                   </callT>
                  </check>
                 </treat>
                 <choose line='260'>
                  <fn name='exists'>
                   <varRef name='Q{}context' slot='2'/>
                  </fn>
                  <elem line='262' name='xsl:for-each' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                   <sequence>
                    <att name='select' flags='l'>
                     <fn name='concat'>
                      <str val='$'/>
                      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='43' eval='16'>
                       <check card='1' diag='0|0||x:variable-UQName'>
                        <varRef name='Q{}context' slot='2'/>
                       </check>
                      </ufCall>
                     </fn>
                    </att>
                    <varRef line='263' name='Q{}template-call' slot='17'/>
                   </sequence>
                  </elem>
                  <true/>
                  <varRef line='267' name='Q{}template-call' slot='17'/>
                 </choose>
                </let>
                <fn line='272' name='exists'>
                 <slash simple='1'>
                  <varRef name='Q{}call' slot='1'/>
                  <axis name='attribute' nodeTest='NA nQ{}function'/>
                 </slash>
                </fn>
                <callT line='274' name='Q{http://www.jenitennison.com/xslt/xspec}enter-sut' bSlot='44'>
                 <withParam name='Q{}instruction' flags='c' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}sequence'>
                  <elem line='276' name='xsl:sequence' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
                   <sequence line='279'>
                    <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}element' as='1NE' slot='19' eval='16'>
                     <check ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' card='1' diag='0|0||x:copy-of-namespaces'>
                      <varRef name='Q{}call' slot='1'/>
                     </check>
                     <forEach module='namespace-utils.xsl' line='42'>
                      <filter flags='b'>
                       <fn name='in-scope-prefixes'>
                        <varRef name='Q{}element' slot='19'/>
                       </fn>
                       <compareToString op='ne' val='xml'>
                        <dot type='1AS'/>
                       </compareToString>
                      </filter>
                      <namespace line='43' flags='l'>
                       <dot role='name' type='1AS'/>
                       <convert role='select' from='AU' to='AS'>
                        <fn name='namespace-uri-for-prefix'>
                         <dot type='1AS'/>
                         <varRef name='Q{}element' slot='19'/>
                        </fn>
                       </convert>
                      </namespace>
                     </forEach>
                    </let>
                    <att line='281' name='select' flags='l'>
                     <convert from='AZ' to='AS'>
                      <data>
                       <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}function-call-text' tailCall='false' bSlot='45' eval='16'>
                        <check card='1' diag='0|0||x:function-call-text'>
                         <varRef name='Q{}call' slot='1'/>
                        </check>
                       </ufCall>
                      </data>
                     </convert>
                    </att>
                   </sequence>
                  </elem>
                 </withParam>
                </callT>
                <fn line='287' name='exists'>
                 <varRef name='Q{}apply' slot='0'/>
                </fn>
                <callT line='291' name='Q{http://www.jenitennison.com/xslt/xspec}enter-sut' bSlot='46'>
                 <withParam name='Q{}instruction' flags='c' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}apply-templates'>
                  <elem line='293' name='xsl:apply-templates' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
                   <sequence line='296'>
                    <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}element' as='1NE' slot='20' eval='16'>
                     <check ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' card='1' diag='0|0||x:copy-of-namespaces'>
                      <varRef name='Q{}apply' slot='0'/>
                     </check>
                     <forEach module='namespace-utils.xsl' line='42'>
                      <filter flags='b'>
                       <fn name='in-scope-prefixes'>
                        <varRef name='Q{}element' slot='20'/>
                       </fn>
                       <compareToString op='ne' val='xml'>
                        <dot type='1AS'/>
                       </compareToString>
                      </filter>
                      <namespace line='43' flags='l'>
                       <dot role='name' type='1AS'/>
                       <convert role='select' from='AU' to='AS'>
                        <fn name='namespace-uri-for-prefix'>
                         <dot type='1AS'/>
                         <varRef name='Q{}element' slot='20'/>
                        </fn>
                       </convert>
                      </namespace>
                     </forEach>
                    </let>
                    <slash line='298' simple='1'>
                     <varRef name='Q{}apply' slot='0'/>
                     <axis name='attribute' nodeTest='NA nQ{}select'/>
                    </slash>
                    <choose line='300'>
                     <fn name='exists'>
                      <slash simple='1'>
                       <varRef name='Q{}apply' slot='0'/>
                       <axis name='attribute' nodeTest='NA nQ{}mode'/>
                      </slash>
                     </fn>
                     <att line='302' name='mode' flags='l'>
                      <fn name='string-join'>
                       <forEach>
                        <varRef name='Q{}apply' slot='0'/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' tailCall='false' bSlot='47' eval='16 16'>
                         <check card='1' diag='0|0||x:UQName-from-EQName-ignoring-default-ns'>
                          <cvUntyped to='AS'>
                           <attVal name='Q{}mode' chk='0'/>
                          </cvUntyped>
                         </check>
                         <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}apply'/>
                        </ufCall>
                       </forEach>
                       <str val=' '/>
                      </fn>
                     </att>
                    </choose>
                    <forEach line='305'>
                     <slash simple='1'>
                      <varRef name='Q{}apply' slot='0'/>
                      <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                     </slash>
                     <elem line='306' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                      <sequence line='308'>
                       <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}element' as='1NE' slot='21' eval='16'>
                        <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                        <forEach module='namespace-utils.xsl' line='42'>
                         <filter flags='b'>
                          <fn name='in-scope-prefixes'>
                           <varRef name='Q{}element' slot='21'/>
                          </fn>
                          <compareToString op='ne' val='xml'>
                           <dot type='1AS'/>
                          </compareToString>
                         </filter>
                         <namespace line='43' flags='l'>
                          <dot role='name' type='1AS'/>
                          <convert role='select' from='AU' to='AS'>
                           <fn name='namespace-uri-for-prefix'>
                            <dot type='1AS'/>
                            <varRef name='Q{}element' slot='21'/>
                           </fn>
                          </convert>
                         </namespace>
                        </forEach>
                       </let>
                       <att line='311' name='name' flags='l'>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' tailCall='false' bSlot='48' eval='16 16'>
                         <check card='1' diag='0|0||x:UQName-from-EQName-ignoring-default-ns'>
                          <cvUntyped to='AS'>
                           <attVal name='Q{}name' chk='0'/>
                          </cvUntyped>
                         </check>
                         <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                        </ufCall>
                       </att>
                       <att line='313' name='select' flags='l'>
                        <fn name='concat'>
                         <str val='$'/>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='49' eval='16'>
                          <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                         </ufCall>
                        </fn>
                       </att>
                       <axis line='315' name='attribute' nodeTest='NA nQ{}tunnel'/>
                       <axis line='315' name='attribute' nodeTest='NA nQ{}as'/>
                      </sequence>
                     </elem>
                    </forEach>
                   </sequence>
                  </elem>
                 </withParam>
                </callT>
                <fn line='323' name='exists'>
                 <varRef name='Q{}context' slot='2'/>
                </fn>
                <callT line='325' name='Q{http://www.jenitennison.com/xslt/xspec}enter-sut' bSlot='50'>
                 <withParam name='Q{}instruction' flags='c' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}apply-templates'>
                  <elem line='327' name='xsl:apply-templates' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
                   <sequence>
                    <att name='select' flags='l'>
                     <fn name='concat'>
                      <str val='$'/>
                      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='51' eval='16'>
                       <check card='1' diag='0|0||x:variable-UQName'>
                        <varRef name='Q{}context' slot='2'/>
                       </check>
                      </ufCall>
                     </fn>
                    </att>
                    <choose line='328'>
                     <fn name='exists'>
                      <slash simple='1'>
                       <varRef name='Q{}context' slot='2'/>
                       <axis name='attribute' nodeTest='NA nQ{}mode'/>
                      </slash>
                     </fn>
                     <att line='330' name='mode' flags='l'>
                      <fn name='string-join'>
                       <forEach>
                        <varRef name='Q{}context' slot='2'/>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' tailCall='false' bSlot='52' eval='16 16'>
                         <check card='1' diag='0|0||x:UQName-from-EQName-ignoring-default-ns'>
                          <cvUntyped to='AS'>
                           <attVal name='Q{}mode' chk='0'/>
                          </cvUntyped>
                         </check>
                         <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
                        </ufCall>
                       </forEach>
                       <str val=' '/>
                      </fn>
                     </att>
                    </choose>
                    <forEach line='333'>
                     <slash simple='1'>
                      <varRef name='Q{}context' slot='2'/>
                      <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                     </slash>
                     <elem line='334' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                      <sequence line='336'>
                       <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' var='Q{}element' as='1NE' slot='22' eval='16'>
                        <dot ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                        <forEach module='namespace-utils.xsl' line='42'>
                         <filter flags='b'>
                          <fn name='in-scope-prefixes'>
                           <varRef name='Q{}element' slot='22'/>
                          </fn>
                          <compareToString op='ne' val='xml'>
                           <dot type='1AS'/>
                          </compareToString>
                         </filter>
                         <namespace line='43' flags='l'>
                          <dot role='name' type='1AS'/>
                          <convert role='select' from='AU' to='AS'>
                           <fn name='namespace-uri-for-prefix'>
                            <dot type='1AS'/>
                            <varRef name='Q{}element' slot='22'/>
                           </fn>
                          </convert>
                         </namespace>
                        </forEach>
                       </let>
                       <att line='339' name='name' flags='l'>
                        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' tailCall='false' bSlot='53' eval='16 16'>
                         <check card='1' diag='0|0||x:UQName-from-EQName-ignoring-default-ns'>
                          <cvUntyped to='AS'>
                           <attVal name='Q{}name' chk='0'/>
                          </cvUntyped>
                         </check>
                         <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                        </ufCall>
                       </att>
                       <att line='341' name='select' flags='l'>
                        <fn name='concat'>
                         <str val='$'/>
                         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='54' eval='16'>
                          <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                         </ufCall>
                        </fn>
                       </att>
                       <axis line='343' name='attribute' nodeTest='NA nQ{}tunnel'/>
                       <axis line='343' name='attribute' nodeTest='NA nQ{}as'/>
                      </sequence>
                     </elem>
                    </forEach>
                   </sequence>
                  </elem>
                 </withParam>
                </callT>
                <true/>
                <message line='354'>
                 <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='55'>
                  <withParam name='Q{}message' flags='c' as='1AS'>
                   <str val='cannot happen.'/>
                  </withParam>
                 </callT>
                 <str role='terminate' val='yes'/>
                 <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
                </message>
               </choose>
              </sequence>
             </elem>
             <elem line='362' name='xsl:call-template' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
              <sequence>
               <att name='name' flags='l'>
                <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='56' eval='0'>
                 <str val='rep:report-sequence'/>
                </ufCall>
               </att>
               <elem line='363' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                <sequence>
                 <att name='name' flags='l'>
                  <str val='sequence'/>
                 </att>
                 <att name='select' flags='l'>
                  <fn name='concat'>
                   <str val='$'/>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='57' eval='0'>
                    <str val='x:result'/>
                   </ufCall>
                  </fn>
                 </att>
                </sequence>
               </elem>
               <elem line='364' name='xsl:with-param' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
                <sequence>
                 <att name='name' flags='l'>
                  <str val='report-name'/>
                 </att>
                 <att name='select' flags='l'>
                  <str val='&#39;result&#39;'/>
                 </att>
                </sequence>
               </elem>
              </sequence>
             </elem>
             <comment line='366' flags='l'>
              <str val=' invoke each compiled x:expect '/>
             </comment>
            </sequence>
           </choose>
           <callT line='369' name='Q{http://www.jenitennison.com/xslt/xspec}invoke-compiled-child-scenarios-or-expects' bSlot='58'>
            <withParam name='Q{}handled-child-vardecls' flags='c' as='*NE'>
             <varRef line='370' name='Q{}local-preceding-vardecls' slot='5'/>
            </withParam>
           </callT>
           <callT line='373' name='Q{http://www.jenitennison.com/xslt/xspec}timestamp' bSlot='59'>
            <withParam name='Q{}event' flags='c' as='1AS'>
             <str val='end'/>
            </withParam>
           </callT>
          </sequence>
         </compElem>
        </sequence>
       </compElem>
      </treat>
      <treat line='381' as='NE nQ{http://www.w3.org/1999/XSL/Transform}template' diag='7|0|XTTE0505|x:compile-scenario'>
       <callT name='Q{http://www.jenitennison.com/xslt/xspec}compile-child-scenarios-or-expects' bSlot='62' flags='t'/>
      </treat>
     </sequence>
    </let>
   </sequence>
  </template>
 </co>
 <co id='78' binds='31 79'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}enter-sut' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='+N' line='10' module='enter-sut.xsl' slots='1'>
   <sequence role='body' ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='13'>
    <param name='Q{}instruction' slot='0' flags='r' as='+N'>
     <treat role='conversion' as='N' diag='8|0|XTTE0590|instruction'>
      <check card='+' diag='8|0|XTTE0590|instruction'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <choose line='16'>
     <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' tailCall='false' bSlot='0' eval='7 0'>
      <cvUntyped to='AS'>
       <slash>
        <first>
         <filter flags='b'>
          <slash simple='1'>
           <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
           <axis name='ancestor-or-self' nodeTest='NE'/>
          </slash>
          <fn name='exists'>
           <axis name='attribute' nodeTest='NA nQ{}catch'/>
          </fn>
         </filter>
        </first>
        <attVal name='Q{}catch' chk='0'/>
       </slash>
      </cvUntyped>
      <false/>
     </ufCall>
     <callT line='17' name='Q{http://www.jenitennison.com/xslt/xspec}try-catch' bSlot='1' flags='t'>
      <withParam name='Q{}instruction' flags='c' as='1NE'>
       <treat line='18' as='NE' diag='8|0|XTTE0590|instruction'>
        <check card='1' diag='8|0|XTTE0590|instruction'>
         <varRef name='Q{}instruction' slot='0'/>
        </check>
       </treat>
      </withParam>
     </callT>
     <true/>
     <varRef line='22' name='Q{}instruction' slot='0'/>
    </choose>
   </sequence>
  </template>
 </co>
 <co id='80' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}copy-of-namespaces' line='39' module='namespace-utils.xsl' eval='4' flags='pU' as='*NN' slots='1'>
   <arg name='Q{}element' as='1NE'/>
   <forEach role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='42'>
    <filter flags='b'>
     <fn name='in-scope-prefixes'>
      <varRef name='Q{}element' slot='0'/>
     </fn>
     <compareToString op='ne' val='xml'>
      <dot type='1AS'/>
     </compareToString>
    </filter>
    <namespace line='43'>
     <dot role='name' type='1AS'/>
     <convert role='select' from='AU' to='AS'>
      <fn name='namespace-uri-for-prefix'>
       <dot type='1AS'/>
       <varRef name='Q{}element' slot='0'/>
      </fn>
     </convert>
    </namespace>
   </forEach>
  </function>
 </co>
 <co id='76' binds='10'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}wrap-node-constructors-and-undeclare-default-ns' flags='o' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}element' line='8' module='wrap-node-constructors-and-undeclare-default-ns.xsl' slots='2'>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='11' card='1' diag='7|0|XTTE0505|x:wrap-node-constructors-and-undeclare-default-ns'>
    <sequence>
     <param name='Q{}wrapper-name' slot='0' flags='r' as='1AS'>
      <treat role='conversion' as='AS' diag='8|0|XTTE0590|wrapper-name'>
       <check card='1' diag='8|0|XTTE0590|wrapper-name'>
        <cvUntyped to='AS' diag='8|0|XTTE0590|wrapper-name'>
         <data diag='8|0|XTTE0590|wrapper-name'>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='12' name='Q{}node-constructors' slot='1' flags='r' as='1NE'>
      <treat role='conversion' as='NE' diag='8|0|XTTE0590|node-constructors'>
       <check card='1' diag='8|0|XTTE0590|node-constructors'>
        <supplied slot='1'/>
       </check>
      </treat>
     </param>
     <treat line='14' as='NE nQ{http://www.w3.org/1999/XSL/Transform}element' diag='7|0|XTTE0505|x:wrap-node-constructors-and-undeclare-default-ns'>
      <compElem>
       <str role='name' val='xsl:element'/>
       <convert role='namespace' from='AU' to='AS'>
        <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='0'/>
       </convert>
       <sequence role='content' line='15'>
        <att name='name' flags='l'>
         <varRef name='Q{}wrapper-name' slot='0'/>
        </att>
        <att line='16' name='namespace' flags='l'>
         <str val=''/>
        </att>
        <varRef line='18' name='Q{}node-constructors' slot='1'/>
       </sequence>
      </compElem>
     </treat>
    </sequence>
   </check>
  </template>
 </co>
 <co id='18' binds='28 10 10 10 10 10 10'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' onNo='FF' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='-0.5' seq='31' rank='0' minImp='0' slots='0' matches='NE' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}element' line='13' module='node-constructor.xsl'>
    <p.nodeTest role='match' test='NE'/>
    <treat role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='14' as='NE nQ{http://www.w3.org/1999/XSL/Transform}element' diag='7|0|XTTE0505|match="element()" mode="x:node-constructor"'>
     <compElem>
      <str role='name' val='xsl:element'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='1'/>
      </convert>
      <sequence role='content' line='15'>
       <att name='name' flags='l'>
        <fn name='name'>
         <dot type='1NE' flags='a'/>
        </fn>
       </att>
       <att line='16' name='namespace' flags='l'>
        <convert from='AU' to='AS'>
         <fn name='namespace-uri'>
          <dot type='1NE' flags='a'/>
         </fn>
        </convert>
       </att>
       <applyT line='23' flags='c' bSlot='-1'>
        <sequence role='select'>
         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}element-additional-namespace-nodes' tailCall='false' bSlot='0' eval='16'>
          <dot type='1NE' flags='a'/>
         </ufCall>
         <axis name='attribute' nodeTest='NA'/>
         <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
        </sequence>
       </applyT>
      </sequence>
     </compElem>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='37' rank='1' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}text' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}text' line='92' module='node-constructor.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}text'/>
    <treat role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='94' as='NE nQ{http://www.w3.org/1999/XSL/Transform}text' diag='7|0|XTTE0505|match="x:text" mode="x:node-constructor"'>
     <check card='1' diag='7|0|XTTE0505|match="x:text" mode="x:node-constructor"'>
      <applyT flags='cti' bSlot='-1'>
       <axis role='select' name='child' nodeTest='N'/>
      </applyT>
     </check>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='33' rank='0' minImp='0' slots='3' matches='NA' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}attribute' line='34' module='node-constructor.xsl'>
    <p.nodeTest role='match' test='NA'/>
    <let role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='35' var='Q{}maybe-avt' as='1AB' slot='0' eval='8'>
     <let var='Q{}node' as='1N' slot='1' eval='16'>
      <dot type='1NA' flags='a'/>
      <fn module='user-content-utils.xsl' line='23' name='exists'>
       <intersect op='intersect'>
        <slash>
         <varRef name='Q{}node' slot='1'/>
         <fn name='reverse'>
          <axis name='ancestor-or-self' nodeTest='N'/>
         </fn>
        </slash>
        <union op='|'>
         <union op='|'>
          <union op='|'>
           <docOrder intra='1'>
            <filter flags='b'>
             <slash simple='2'>
              <slash>
               <varRef name='Q{}node' slot='1'/>
               <fn name='reverse'>
                <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
               </fn>
              </slash>
              <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
             </slash>
             <fn name='empty'>
              <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
             </fn>
            </filter>
           </docOrder>
           <docOrder intra='1'>
            <filter flags='b'>
             <slash simple='2'>
              <slash>
               <varRef name='Q{}node' slot='1'/>
               <fn name='reverse'>
                <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
               </fn>
              </slash>
              <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
             </slash>
             <fn name='empty'>
              <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
             </fn>
            </filter>
           </docOrder>
          </union>
          <docOrder intra='1'>
           <slash simple='2'>
            <slash>
             <varRef name='Q{}node' slot='1'/>
             <fn name='reverse'>
              <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
             </fn>
            </slash>
            <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
           </slash>
          </docOrder>
         </union>
         <docOrder intra='1'>
          <slash simple='2'>
           <slash>
            <varRef name='Q{}node' slot='1'/>
            <fn name='reverse'>
             <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
            </fn>
           </slash>
           <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
          </slash>
         </docOrder>
        </union>
       </intersect>
      </fn>
     </let>
     <treat line='37' as='NE nQ{http://www.w3.org/1999/XSL/Transform}attribute' diag='7|0|XTTE0505|match="attribute()" mode="x:node-constructor"'>
      <compElem>
       <str role='name' val='xsl:attribute'/>
       <convert role='namespace' from='AU' to='AS'>
        <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='2'/>
       </convert>
       <sequence role='content' line='38'>
        <choose>
         <varRef name='Q{}maybe-avt' slot='0'/>
         <let line='41' var='Q{}element' as='1NE' slot='2' eval='16'>
          <check card='1' diag='0|0||x:copy-of-namespaces'>
           <axis name='parent' nodeTest='NE'/>
          </check>
          <forEach module='namespace-utils.xsl' line='42'>
           <filter flags='b'>
            <fn name='in-scope-prefixes'>
             <varRef name='Q{}element' slot='2'/>
            </fn>
            <compareToString op='ne' val='xml'>
             <dot type='1AS'/>
            </compareToString>
           </filter>
           <namespace line='43' flags='l'>
            <dot role='name' type='1AS'/>
            <convert role='select' from='AU' to='AS'>
             <fn name='namespace-uri-for-prefix'>
              <dot type='1AS'/>
              <varRef name='Q{}element' slot='2'/>
             </fn>
            </convert>
           </namespace>
          </forEach>
         </let>
        </choose>
        <att line='44' name='name' flags='l'>
         <fn name='name'>
          <dot type='1NA' flags='a'/>
         </fn>
        </att>
        <att line='45' name='namespace' flags='l'>
         <convert from='AU' to='AS'>
          <fn name='namespace-uri'>
           <dot type='1NA' flags='a'/>
          </fn>
         </convert>
        </att>
        <choose line='48'>
         <varRef name='Q{}maybe-avt' slot='0'/>
         <sequence line='49'>
          <att name='select' flags='l'>
           <str val='&#39;&#39;, &#39;&#39;'/>
          </att>
          <att line='50' name='separator' flags='l'>
           <convert from='AZ' to='AS'>
            <data>
             <dot type='1NA' flags='a'/>
            </data>
           </convert>
          </att>
         </sequence>
         <true/>
         <valueOf line='54' flags='l'>
          <convert from='AZ' to='AS'>
           <data>
            <dot type='1NA' flags='a'/>
           </data>
          </convert>
         </valueOf>
        </choose>
       </sequence>
      </compElem>
     </treat>
    </let>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='34' rank='0' minImp='0' slots='3' matches='NT' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}text' line='60' module='node-constructor.xsl'>
    <p.nodeTest role='match' test='NT'/>
    <treat role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='61' as='NE nQ{http://www.w3.org/1999/XSL/Transform}text' diag='7|0|XTTE0505|match="text()" mode="x:node-constructor"'>
     <compElem>
      <str role='name' val='xsl:text'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='3'/>
      </convert>
      <sequence role='content' line='62'>
       <choose>
        <let var='Q{}node' as='1N' slot='0' eval='16'>
         <dot type='1NT' flags='a'/>
         <fn module='user-content-utils.xsl' line='23' name='exists'>
          <intersect op='intersect'>
           <slash>
            <varRef name='Q{}node' slot='0'/>
            <fn name='reverse'>
             <axis name='ancestor-or-self' nodeTest='N'/>
            </fn>
           </slash>
           <union op='|'>
            <union op='|'>
             <union op='|'>
              <docOrder intra='1'>
               <filter flags='b'>
                <slash simple='2'>
                 <slash>
                  <varRef name='Q{}node' slot='0'/>
                  <fn name='reverse'>
                   <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
                  </fn>
                 </slash>
                 <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
                </slash>
                <fn name='empty'>
                 <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                </fn>
               </filter>
              </docOrder>
              <docOrder intra='1'>
               <filter flags='b'>
                <slash simple='2'>
                 <slash>
                  <varRef name='Q{}node' slot='0'/>
                  <fn name='reverse'>
                   <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                  </fn>
                 </slash>
                 <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
                </slash>
                <fn name='empty'>
                 <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                </fn>
               </filter>
              </docOrder>
             </union>
             <docOrder intra='1'>
              <slash simple='2'>
               <slash>
                <varRef name='Q{}node' slot='0'/>
                <fn name='reverse'>
                 <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                </fn>
               </slash>
               <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
              </slash>
             </docOrder>
            </union>
            <docOrder intra='1'>
             <slash simple='2'>
              <slash>
               <varRef name='Q{}node' slot='0'/>
               <fn name='reverse'>
                <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
               </fn>
              </slash>
              <axis name='child' nodeTest='N u[NE,NT,NC,NP]'/>
             </slash>
            </docOrder>
           </union>
          </intersect>
         </fn>
        </let>
        <sequence line='63'>
         <choose>
          <slash>
           <slash simple='2'>
            <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}text'/>
            <axis name='attribute' nodeTest='NA nQ{}expand-text'/>
           </slash>
           <let var='Q{}input' as='1AS' slot='1' eval='8'>
            <cvUntyped to='AS'>
             <data diag='0|0||x:yes-no-synonym'>
              <dot type='1NA nQ{}expand-text'/>
             </data>
            </cvUntyped>
            <choose module='yes-no-utils.xsl' line='16'>
             <gcEE op='=' card='N:1' comp='CCC'>
              <literal count='3'>
               <str val='yes'/>
               <str val='true'/>
               <str val='1'/>
              </literal>
              <varRef name='Q{}input' slot='1'/>
             </gcEE>
             <true/>
             <gcEE line='19' op='=' card='N:1' comp='CCC'>
              <literal count='3'>
               <str val='no'/>
               <str val='false'/>
               <str val='0'/>
              </literal>
              <varRef name='Q{}input' slot='1'/>
             </gcEE>
             <false/>
             <true/>
             <error message='Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:yes-no-synonym#1' code='XTTE0780' isTypeErr='0'/>
            </choose>
           </let>
          </slash>
          <let line='66' var='Q{}element' as='1NE' slot='2' eval='16'>
           <check card='1' diag='0|0||x:copy-of-namespaces'>
            <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}text'/>
           </check>
           <forEach module='namespace-utils.xsl' line='42'>
            <filter flags='b'>
             <fn name='in-scope-prefixes'>
              <varRef name='Q{}element' slot='2'/>
             </fn>
             <compareToString op='ne' val='xml'>
              <dot type='1AS'/>
             </compareToString>
            </filter>
            <namespace line='43' flags='l'>
             <dot role='name' type='1AS'/>
             <convert role='select' from='AU' to='AS'>
              <fn name='namespace-uri-for-prefix'>
               <dot type='1AS'/>
               <varRef name='Q{}element' slot='2'/>
              </fn>
             </convert>
            </namespace>
           </forEach>
          </let>
         </choose>
         <slash line='69' simple='2'>
          <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}text'/>
          <axis name='attribute' nodeTest='NA nQ{}expand-text'/>
         </slash>
        </sequence>
       </choose>
       <dot line='72' type='1NT' flags='a'/>
      </sequence>
     </compElem>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='36' rank='0' minImp='0' slots='0' matches='NC' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}comment' line='85' module='node-constructor.xsl'>
    <p.nodeTest role='match' test='NC'/>
    <treat role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='86' as='NE nQ{http://www.w3.org/1999/XSL/Transform}comment' diag='7|0|XTTE0505|match="comment()" mode="x:node-constructor"'>
     <compElem>
      <str role='name' val='xsl:comment'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='4'/>
      </convert>
      <valueOf role='content' line='87' flags='l'>
       <data>
        <dot type='1NC' flags='a'/>
       </data>
      </valueOf>
     </compElem>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='35' rank='0' minImp='0' slots='0' matches='NP' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}processing-instruction' line='77' module='node-constructor.xsl'>
    <p.nodeTest role='match' test='NP'/>
    <treat role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='78' as='NE nQ{http://www.w3.org/1999/XSL/Transform}processing-instruction' diag='7|0|XTTE0505|match="processing-instruction()" mode="x:node-constructor"'>
     <compElem>
      <str role='name' val='xsl:processing-instruction'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='5'/>
      </convert>
      <sequence role='content' line='79'>
       <att name='name' flags='l'>
        <fn name='name'>
         <dot type='1NP' flags='a'/>
        </fn>
       </att>
       <valueOf line='81' flags='l'>
        <data>
         <dot type='1NP' flags='a'/>
        </data>
       </valueOf>
      </sequence>
     </compElem>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='-0.5' seq='32' rank='0' minImp='0' slots='0' matches='NN' flags='s' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}namespace' line='27' module='node-constructor.xsl'>
    <p.nodeTest role='match' test='NN'/>
    <treat role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='28' as='NE nQ{http://www.w3.org/1999/XSL/Transform}namespace' diag='7|0|XTTE0505|match="namespace-node()" mode="x:node-constructor"'>
     <compElem>
      <str role='name' val='xsl:namespace'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='6'/>
      </convert>
      <sequence role='content' line='29'>
       <att name='name' flags='l'>
        <fn name='name'>
         <dot type='1NN' flags='a'/>
        </fn>
       </att>
       <valueOf line='30' flags='l'>
        <data>
         <dot type='1NN' flags='a'/>
        </data>
       </valueOf>
      </sequence>
     </compElem>
    </treat>
   </templateRule>
  </mode>
 </co>
 <co id='11' binds='64'>
  <globalParam name='Q{}is-external' as='1AB' line='24' module='main.xsl' visibility='PUBLIC'>
   <gcEE ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='24' op='=' card='N:1' comp='CCC'>
    <data diag='1|0||='>
     <slash simple='2'>
      <slash simple='1'>
       <gVarRef name='Q{}initial-document' bSlot='0'/>
       <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
      </slash>
      <axis name='attribute' nodeTest='NA nQ{}run-as'/>
     </slash>
    </data>
    <str val='external'/>
   </gcEE>
  </globalParam>
 </co>
 <co id='81' binds='3'>
  <function name='Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}param-dup-name-error-string' line='204' module='compile-child-scenarios-or-expects.xsl' eval='7' flags='pU' as='?AS' slots='2'>
   <arg name='Q{}owner' as='1NE'/>
   <let role='body' ns='local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='209' var='Q{}uqnames' as='*AS' slot='1' eval='4'>
    <forEach>
     <slash simple='1'>
      <varRef name='Q{}owner' slot='0'/>
      <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
     </slash>
     <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='0' eval='16'>
      <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
     </ufCall>
    </forEach>
    <check line='210' card='?' diag='5|0|XTTE0780|local:param-dup-name-error-string#1'>
     <cvUntyped to='AS' diag='5|0|XTTE0780|local:param-dup-name-error-string#1'>
      <data diag='5|0|XTTE0780|local:param-dup-name-error-string#1'>
       <forEach>
        <first>
         <filter flags='pb'>
          <varRef name='Q{}uqnames' slot='1'/>
          <gcEE op='=' card='N:1' comp='CCC'>
           <fn name='subsequence'>
            <varRef name='Q{}uqnames' slot='1'/>
            <int val='1'/>
            <arith op='-' calc='i-i'>
             <fn name='position'/>
             <int val='1'/>
            </arith>
           </fn>
           <dot type='1AS'/>
          </gcEE>
         </filter>
        </first>
        <valueOf line='211'>
         <fn name='concat'>
          <str val='Duplicate parameter name, '/>
          <dot type='1AS'/>
          <str val=', used in '/>
          <fn name='name'>
           <varRef name='Q{}owner' slot='0'/>
          </fn>
          <str val='.'/>
         </fn>
        </valueOf>
       </forEach>
      </data>
     </cvUntyped>
    </check>
   </let>
  </function>
 </co>
 <co id='82' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}distinct-strings-stable' line='22' module='compiler-misc-utils.xsl' eval='4' flags='pU' as='*AS' slots='1'>
   <arg name='Q{}strings' as='*AS'/>
   <filter role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='25' flags='pb'>
    <varRef name='Q{}strings' slot='0'/>
    <fn name='not'>
     <gcEE op='=' card='N:1' comp='CCC'>
      <fn name='subsequence'>
       <varRef name='Q{}strings' slot='0'/>
       <int val='1'/>
       <arith op='-' calc='i-i'>
        <fn name='position'/>
        <int val='1'/>
       </arith>
      </fn>
      <dot type='1AS'/>
     </gcEE>
    </fn>
   </filter>
  </function>
 </co>
 <co id='37' binds=''>
  <globalVariable name='Q{http://www.jenitennison.com/xslt/xspec}apos' as='1AS' line='18' module='common-utils.xsl' visibility='PRIVATE'>
   <str val='&#39;'/>
  </globalVariable>
 </co>
 <co id='83' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}right-trim' line='18' module='trim.xsl' eval='8' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}input' as='1AS'/>
   <fn role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='21' name='replace'>
    <varRef name='Q{}input' slot='0'/>
    <str val='\s+$'/>
    <str val=''/>
    <str val=''/>
   </fn>
  </function>
 </co>
 <co id='84' binds='74'>
  <globalVariable name='Q{http://www.jenitennison.com/xslt/xspec}saxon-version' as='?ADI' line='15' module='version-utils.xsl' slots='2' visibility='PRIVATE'>
   <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='20' var='Q{}ver-components' as='+ADI' slot='1' eval='4'>
    <check card='+' diag='3|0|XTTE0570|ver-components'>
     <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}extract-version' tailCall='false' bSlot='0' eval='0'>
      <str val='EE 11.4'/>
     </ufCall>
    </check>
    <choose line='48'>
     <and op='and'>
      <and op='and'>
       <compareToInt op='le' val='4'>
        <fn name='count'>
         <fn name='subsequence'>
          <varRef name='Q{}ver-components' slot='1'/>
          <int val='1'/>
          <int val='5'/>
         </fn>
        </fn>
       </compareToInt>
       <fn name='empty'>
        <filter flags='b'>
         <varRef name='Q{}ver-components' slot='1'/>
         <compareToInt op='ge' val='65536'>
          <dot type='1ADI'/>
         </compareToInt>
        </filter>
       </fn>
      </and>
      <fn name='empty'>
       <filter flags='b'>
        <varRef name='Q{}ver-components' slot='1'/>
        <compareToInt op='lt' val='0'>
         <dot type='1ADI'/>
        </compareToInt>
       </filter>
      </fn>
     </and>
     <arith line='56' op='+' calc='i+i'>
      <arith op='*' calc='i*i'>
       <arith op='*' calc='i*i'>
        <arith line='49' op='+' calc='i+i'>
         <arith op='*' calc='i*i'>
          <check card='1' diag='3|0|XTTE0570|w'>
           <first>
            <varRef name='Q{}ver-components' slot='1'/>
           </first>
          </check>
          <int val='65536'/>
         </arith>
         <check line='50' card='1' diag='3|0||x'>
          <first>
           <sequence>
            <subscript>
             <varRef name='Q{}ver-components' slot='1'/>
             <int val='2'/>
            </subscript>
            <int val='0'/>
           </sequence>
          </first>
         </check>
        </arith>
        <int val='65536'/>
       </arith>
       <int val='65536'/>
      </arith>
      <arith line='51' op='+' calc='i+i'>
       <arith op='*' calc='i*i'>
        <check card='1' diag='3|0||y'>
         <first>
          <sequence>
           <subscript>
            <varRef name='Q{}ver-components' slot='1'/>
            <int val='3'/>
           </subscript>
           <int val='0'/>
          </sequence>
         </first>
        </check>
        <int val='65536'/>
       </arith>
       <check line='52' card='1' diag='3|0||z'>
        <first>
         <sequence>
          <subscript>
           <varRef name='Q{}ver-components' slot='1'/>
           <int val='4'/>
          </subscript>
          <int val='0'/>
         </sequence>
        </first>
       </check>
      </arith>
     </arith>
     <true/>
     <error message='Conditional expression: The condition is not satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:pack-version#1' code='XTTE0780' isTypeErr='0'/>
    </choose>
   </let>
  </globalVariable>
 </co>
 <co id='55' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}trim' line='27' module='trim.xsl' eval='8' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}input' as='1AS'/>
   <fn role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='12' name='replace'>
    <fn line='33' name='replace'>
     <varRef name='Q{}input' slot='0'/>
     <str val='\s+$'/>
     <str val=''/>
     <str val=''/>
    </fn>
    <str val='^\s+'/>
    <str val=''/>
    <str val=''/>
   </fn>
  </function>
 </co>
 <co id='46' binds='76 18'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}report-test-attribute' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='s' as='+N' line='7' module='report-test-attribute.xsl' slots='0'>
   <callT role='body' ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='20' name='Q{http://www.jenitennison.com/xslt/xspec}wrap-node-constructors-and-undeclare-default-ns' bSlot='0' flags='t'>
    <withParam name='Q{}wrapper-name' flags='c' as='1AS'>
     <fn line='21' name='concat'>
      <fn name='local-name'>
       <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
      </fn>
      <str val='-test-wrap'/>
     </fn>
    </withParam>
    <withParam name='Q{}node-constructors' flags='c' as='+N'>
     <treat line='23' as='NE' diag='8|1|XTTE0590|node-constructors'>
      <treat as='N' diag='3|0|XTTE0570|node-constructors'>
       <check card='1' diag='8|1|XTTE0590|node-constructors'>
        <check card='+' diag='3|0|XTTE0570|node-constructors'>
         <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}node-constructor' bSlot='1'>
          <treat role='select' line='14' as='NE nQ{http://www.jenitennison.com/xslt/xspec}expect' diag='3|0|XTTE0570|expect-test'>
           <copy flags='cin' sit='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'>
            <axis role='content' name='attribute' nodeTest='NA nQ{}test'/>
           </copy>
          </treat>
         </applyT>
        </check>
       </check>
      </treat>
     </treat>
    </withParam>
   </callT>
  </template>
 </co>
 <co id='85' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}xslt-version' line='33' module='compiler-misc-utils.xsl' eval='16' flags='pU' as='1AD' slots='1'>
   <arg name='Q{}context' as='1NE'/>
   <treat role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='41' as='AD' diag='5|0|XTTE0780|x:xslt-version#1'>
    <check card='1' diag='5|0|XTTE0780|x:xslt-version#1'>
     <cvUntyped to='AD' diag='5|0|XTTE0780|x:xslt-version#1'>
      <data diag='5|0|XTTE0780|x:xslt-version#1'>
       <first>
        <sequence>
         <slash simple='1'>
          <slash>
           <varRef name='Q{}context' slot='0'/>
           <first>
            <filter flags='b'>
             <axis name='ancestor-or-self' nodeTest='NE'/>
             <fn name='exists'>
              <axis name='attribute' nodeTest='NA nQ{}xslt-version'/>
             </fn>
            </filter>
           </first>
          </slash>
          <axis name='attribute' nodeTest='NA nQ{}xslt-version'/>
         </slash>
         <dec val='3'/>
        </sequence>
       </first>
      </data>
     </cvUntyped>
    </check>
   </treat>
  </function>
 </co>
 <co id='86' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}pack-version' line='34' module='version-utils.xsl' eval='4' flags='pU' as='1ADI' slots='1'>
   <arg name='Q{}ver-components' as='+ADI'/>
   <choose role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='48'>
    <and op='and'>
     <and op='and'>
      <compareToInt op='le' val='4'>
       <fn name='count'>
        <fn name='subsequence'>
         <varRef name='Q{}ver-components' slot='0'/>
         <int val='1'/>
         <int val='5'/>
        </fn>
       </fn>
      </compareToInt>
      <fn name='empty'>
       <filter flags='b'>
        <varRef name='Q{}ver-components' slot='0'/>
        <compareToInt op='ge' val='65536'>
         <dot type='1ADI'/>
        </compareToInt>
       </filter>
      </fn>
     </and>
     <fn name='empty'>
      <filter flags='b'>
       <varRef name='Q{}ver-components' slot='0'/>
       <compareToInt op='lt' val='0'>
        <dot type='1ADI'/>
       </compareToInt>
      </filter>
     </fn>
    </and>
    <arith line='56' op='+' calc='i+i'>
     <arith op='*' calc='i*i'>
      <arith op='*' calc='i*i'>
       <arith line='49' op='+' calc='i+i'>
        <arith op='*' calc='i*i'>
         <check card='1' diag='3|0|XTTE0570|w'>
          <first>
           <varRef name='Q{}ver-components' slot='0'/>
          </first>
         </check>
         <int val='65536'/>
        </arith>
        <check line='50' card='1' diag='3|0||x'>
         <first>
          <sequence>
           <subscript>
            <varRef name='Q{}ver-components' slot='0'/>
            <int val='2'/>
           </subscript>
           <int val='0'/>
          </sequence>
         </first>
        </check>
       </arith>
       <int val='65536'/>
      </arith>
      <int val='65536'/>
     </arith>
     <arith line='51' op='+' calc='i+i'>
      <arith op='*' calc='i*i'>
       <check card='1' diag='3|0||y'>
        <first>
         <sequence>
          <subscript>
           <varRef name='Q{}ver-components' slot='0'/>
           <int val='3'/>
          </subscript>
          <int val='0'/>
         </sequence>
        </first>
       </check>
       <int val='65536'/>
      </arith>
      <check line='52' card='1' diag='3|0||z'>
       <first>
        <sequence>
         <subscript>
          <varRef name='Q{}ver-components' slot='0'/>
          <int val='4'/>
         </subscript>
         <int val='0'/>
        </sequence>
       </first>
      </check>
     </arith>
    </arith>
    <true/>
    <error message='Conditional expression: The condition is not satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:pack-version#1' code='XTTE0780' isTypeErr='0'/>
   </choose>
  </function>
 </co>
 <co id='6' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-QName' line='72' module='uqname-utils.xsl' eval='16' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}qname' as='1AQ'/>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='76' card='1' diag='5|0|XTTE0780|x:UQName-from-QName#1'>
    <forEach>
     <varRef name='Q{}qname' slot='0'/>
     <fn line='13' name='concat'>
      <str val='Q{'/>
      <convert line='76' from='AU' to='AS'>
       <fn name='namespace-uri-from-QName'>
        <dot type='1AQ'/>
       </fn>
      </convert>
      <str val='}'/>
      <check line='76' card='1' diag='0|1||x:UQName'>
       <fn name='local-name-from-QName'>
        <dot type='1AQ'/>
       </fn>
      </check>
     </fn>
    </forEach>
   </check>
  </function>
 </co>
 <co id='61' binds='7 17 11 5'>
  <template name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-reserved-vardecl-name' cxt='1NE' flags='s' as='0' line='46' module='check-combined-doc.xsl' slots='3'>
   <choose role='body' ns='local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='50'>
    <fn name='exists'>
     <axis name='attribute' nodeTest='NA nQ{}name'/>
    </fn>
    <let line='52' var='Q{}qname' as='1AQ' slot='0' eval='16'>
     <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}resolve-EQName-ignoring-default-ns' tailCall='false' bSlot='0' eval='16 16'>
      <check card='1' diag='0|0||x:resolve-EQName-ignoring-default-ns'>
       <cvUntyped to='AS'>
        <attVal name='Q{}name' chk='0'/>
       </cvUntyped>
      </check>
      <dot type='1NE'/>
     </ufCall>
     <choose line='54'>
      <vc op='eq' onEmpty='0' comp='CCC'>
       <fn name='namespace-uri-from-QName'>
        <varRef name='Q{}qname' slot='0'/>
       </fn>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='1'/>
      </vc>
      <let line='68' var='Q{http://saxon.sf.net/generated-variable}v1' as='?AB' slot='1' eval='13'>
       <vc op='eq' comp='CCC'>
        <fn name='local-name-from-QName'>
         <varRef name='Q{}qname' slot='0'/>
        </fn>
        <str val='saxon-config'/>
       </vc>
       <let line='59' var='Q{http://saxon.sf.net/generated-variable}v0' as='?AB' slot='2' eval='13'>
        <vc op='eq' comp='CCC'>
         <fn name='local-name-from-QName'>
          <varRef name='Q{}qname' slot='0'/>
         </fn>
         <str val='enable-schematron-text-location'/>
        </vc>
        <choose>
         <fn name='exists'>
          <filter flags=''>
           <filter flags='b'>
            <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
            <fn name='exists'>
             <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
            </fn>
           </filter>
           <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='2'/>
          </filter>
         </fn>
         <empty/>
         <fn line='68' name='exists'>
          <filter flags=''>
           <filter flags='b'>
            <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
            <gVarRef name='Q{}is-external' bSlot='2'/>
           </filter>
           <varRef name='Q{http://saxon.sf.net/generated-variable}v1' slot='1'/>
          </filter>
         </fn>
         <empty/>
         <true/>
         <check line='82' card='0' diag='7|0|XTTE0505|local:detect-reserved-vardecl-name'>
          <message>
           <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='3'>
            <withParam name='Q{}message' flags='c' as='1ND'>
             <cvUntyped line='84' to='AS' diag='8|0|XTTE0590|message'>
              <data diag='8|0|XTTE0590|message'>
               <doc flags='t'>
                <valueOf flags='l'>
                 <fn name='concat'>
                  <str val='Name '/>
                  <fn name='string'>
                   <convert from='AZ' to='AS'>
                    <attVal name='Q{}name' chk='0'/>
                   </convert>
                  </fn>
                  <str val=' must not use the XSpec namespace.'/>
                 </fn>
                </valueOf>
               </doc>
              </data>
             </cvUntyped>
            </withParam>
           </callT>
           <str role='terminate' val='yes'/>
           <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
          </message>
         </check>
        </choose>
       </let>
      </let>
     </choose>
    </let>
   </choose>
  </template>
 </co>
 <co id='87' binds='84 84'>
  <globalVariable name='Q{http://saxon.sf.net/generated-variable}gg834562889' as='?AS' line='13' module='perform-initial-check.xsl' visibility='PRIVATE'>
   <choose ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='13'>
    <vc op='lt' onEmpty='0' comp='CAVC'>
     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}saxon-version' bSlot='0'/>
     <arith module='version-utils.xsl' line='56' op='+' calc='i+i'>
      <arith op='*' calc='i*i'>
       <arith op='*' calc='i*i'>
        <arith line='54' op='+' calc='i+i'>
         <int val='589824'/>
         <check line='50' card='1' diag='3|0||x'>
          <first>
           <sequence>
            <subscript>
             <literal count='2'>
              <int val='9'/>
              <int val='8'/>
             </literal>
             <int val='2'/>
            </subscript>
            <int val='0'/>
           </sequence>
          </first>
         </check>
        </arith>
        <int val='65536'/>
       </arith>
       <int val='65536'/>
      </arith>
      <arith line='51' op='+' calc='i+i'>
       <arith op='*' calc='i*i'>
        <check card='1' diag='3|0||y'>
         <first>
          <sequence>
           <subscript>
            <literal count='2'>
             <int val='9'/>
             <int val='8'/>
            </literal>
            <int val='3'/>
           </subscript>
           <int val='0'/>
          </sequence>
         </first>
        </check>
        <int val='65536'/>
       </arith>
       <check line='52' card='1' diag='3|0||z'>
        <first>
         <sequence>
          <subscript>
           <literal count='2'>
            <int val='9'/>
            <int val='8'/>
           </literal>
           <int val='4'/>
          </subscript>
          <int val='0'/>
         </sequence>
        </first>
       </check>
      </arith>
     </arith>
    </vc>
    <str val='Saxon version 9.7 or less is not supported.'/>
    <vc line='16' op='lt' onEmpty='0' comp='CAVC'>
     <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}saxon-version' bSlot='1'/>
     <arith module='version-utils.xsl' line='56' op='+' calc='i+i'>
      <arith op='*' calc='i*i'>
       <arith op='*' calc='i*i'>
        <arith line='54' op='+' calc='i+i'>
         <int val='589824'/>
         <check line='50' card='1' diag='3|0||x'>
          <first>
           <sequence>
            <subscript>
             <literal count='2'>
              <int val='9'/>
              <int val='9'/>
             </literal>
             <int val='2'/>
            </subscript>
            <int val='0'/>
           </sequence>
          </first>
         </check>
        </arith>
        <int val='65536'/>
       </arith>
       <int val='65536'/>
      </arith>
      <arith line='51' op='+' calc='i+i'>
       <arith op='*' calc='i*i'>
        <check card='1' diag='3|0||y'>
         <first>
          <sequence>
           <subscript>
            <literal count='2'>
             <int val='9'/>
             <int val='9'/>
            </literal>
            <int val='3'/>
           </subscript>
           <int val='0'/>
          </sequence>
         </first>
        </check>
        <int val='65536'/>
       </arith>
       <check line='52' card='1' diag='3|0||z'>
        <first>
         <sequence>
          <subscript>
           <literal count='2'>
            <int val='9'/>
            <int val='9'/>
           </literal>
           <int val='4'/>
          </subscript>
          <int val='0'/>
         </sequence>
        </first>
       </check>
      </arith>
     </arith>
    </vc>
    <str val='Saxon version 9.8 is not recommended. Consider migrating to Saxon 9.9.'/>
   </choose>
  </globalVariable>
 </co>
 <co id='88' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}base-uri' line='39' module='uri-utils.xsl' eval='16' flags='pU' as='1AU' slots='1'>
   <arg name='Q{}node' as='1N'/>
   <cast role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='50' flags='a' as='1AU'>
    <fn name='replace'>
     <convert from='AU' to='AS'>
      <fn name='base-uri'>
       <varRef name='Q{}node' slot='0'/>
      </fn>
     </convert>
     <str val='^(file:)([^/])'/>
     <str val='$1/$2'/>
     <str val=''/>
    </fn>
   </cast>
  </function>
 </co>
 <co id='89' binds='5'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}perform-initial-check-for-lang' cxt='1ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]' flags='s' as='0' line='7' module='perform-initial-check.xsl' slots='0'>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='10' card='0' diag='7|0|XTTE0505|x:perform-initial-check-for-lang'>
    <forEach>
     <filter flags='b'>
      <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
      <fn name='empty'>
       <axis name='attribute' nodeTest='NA nQ{}stylesheet'/>
      </fn>
     </filter>
     <message line='12'>
      <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
       <withParam name='Q{}message' flags='c' as='1AS'>
        <str val='Missing @stylesheet.'/>
       </withParam>
      </callT>
      <str role='terminate' val='yes'/>
      <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
     </message>
    </forEach>
   </check>
  </template>
 </co>
 <co id='21' binds='5 90'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}compile-child-scenarios-or-expects' cxt='1NE' flags='s' as='*N' line='13' module='compile-child-scenarios-or-expects.xsl' slots='1'>
   <let role='body' ns='local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='17' var='Q{}this' as='1NE' slot='0' eval='16'>
    <dot type='1NE'/>
    <sequence line='18'>
     <choose>
      <fn name='empty'>
       <filter flags='b'>
        <varRef name='Q{}this' slot='0'/>
        <fn name='exists'>
         <sequence>
          <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
          <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
         </sequence>
        </fn>
       </filter>
      </fn>
      <treat line='20' as='N' diag='7|0|XTTE0505|x:compile-child-scenarios-or-expects'>
       <message>
        <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
         <withParam name='Q{}message' flags='c' as='1AS'>
          <str val='$this must be a description or a scenario'/>
         </withParam>
        </callT>
        <str role='terminate' val='yes'/>
        <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
       </message>
      </treat>
     </choose>
     <treat line='26' as='N' diag='7|0|XTTE0505|x:compile-child-scenarios-or-expects'>
      <applyT mode='Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}compile-scenarios-or-expects' flags='t' bSlot='1'>
       <slash role='select' simple='1'>
        <varRef name='Q{}this' slot='0'/>
        <axis name='child' nodeTest='NE'/>
       </slash>
      </applyT>
     </treat>
    </sequence>
   </let>
  </template>
 </co>
 <co id='62' binds='3 3 5'>
  <template name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-conflicting-vardecl' cxt='1NE' flags='s' as='0' line='129' module='check-combined-doc.xsl' slots='7'>
   <let role='body' ns='local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='134' var='Q{}uqname' as='1AS' slot='0' eval='16'>
    <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='0' eval='16'>
     <dot type='1NE'/>
    </ufCall>
    <let line='139' var='Q{}visible-description-vardecls' as='*NE' slot='1' eval='4'>
     <except op='except'>
      <slash simple='2'>
       <slash simple='1'>
        <root/>
        <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
       </slash>
       <axis name='child' nodeTest='NE u[NE nQ{http://www.jenitennison.com/xslt/xspec}param,NE nQ{http://www.jenitennison.com/xslt/xspec}variable]'/>
      </slash>
      <dot type='1NE'/>
     </except>
     <let line='145' var='Q{}visible-vardecls' as='*NE' slot='2' eval='4'>
      <union op='|'>
       <union op='|'>
        <docOrder intra='0'>
         <varRef name='Q{}visible-description-vardecls' slot='1'/>
        </docOrder>
        <docOrder intra='0'>
         <fn name='accumulator-before'>
          <str val='stacked-vardecls'/>
         </fn>
        </docOrder>
       </union>
       <union op='|'>
        <fn name='reverse'>
         <slash simple='1'>
          <dot type='1NE'/>
          <axis name='preceding-sibling' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
         </slash>
        </fn>
        <fn name='reverse'>
         <slash simple='1'>
          <dot type='1NE'/>
          <axis name='preceding-sibling' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
         </slash>
        </fn>
       </union>
      </union>
      <let line='158' var='Q{}conflicts-with' as='?NE' slot='3' eval='7'>
       <first>
        <filter flags='b'>
         <except op='except'>
          <docOrder intra='0'>
           <varRef name='Q{}visible-vardecls' slot='2'/>
          </docOrder>
          <let line='153' var='Q{http://saxon.sf.net/generated-variable}current310035177' as='1' slot='4' eval='16'>
           <dot type='1NE'/>
           <let var='Q{http://saxon.sf.net/generated-variable}v1' as='?NE' slot='5' eval='13'>
            <filter flags='b'>
             <varRef name='Q{http://saxon.sf.net/generated-variable}current310035177' slot='4'/>
             <fn name='exists'>
              <axis name='parent' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
             </fn>
            </filter>
            <let var='Q{http://saxon.sf.net/generated-variable}v0' as='?AQ' slot='6' eval='13'>
             <fn name='node-name'>
              <varRef name='Q{http://saxon.sf.net/generated-variable}current310035177' slot='4'/>
             </fn>
             <except op='except'>
              <docOrder intra='0'>
               <filter flags=''>
                <varRef name='Q{}visible-vardecls' slot='2'/>
                <vc op='eq' comp='EQC'>
                 <fn name='node-name'>
                  <dot type='1NE'/>
                 </fn>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='6'/>
                </vc>
               </filter>
              </docOrder>
              <docOrder intra='0'>
               <filter flags='ib'>
                <varRef name='Q{}visible-description-vardecls' slot='1'/>
                <fn name='exists'>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}v1' slot='5'/>
                </fn>
               </filter>
              </docOrder>
             </except>
            </let>
           </let>
          </let>
         </except>
         <vc op='eq' comp='CCC'>
          <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='1' eval='16'>
           <dot type='1NE'/>
          </ufCall>
          <varRef name='Q{}uqname' slot='0'/>
         </vc>
        </filter>
       </first>
       <choose line='161'>
        <fn name='exists'>
         <varRef name='Q{}conflicts-with' slot='3'/>
        </fn>
        <check line='163' card='0' diag='7|0|XTTE0505|local:detect-conflicting-vardecl'>
         <message>
          <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='2'>
           <withParam name='Q{}message' flags='c' as='1ND'>
            <cvUntyped line='165' to='AS' diag='8|0|XTTE0590|message'>
             <data diag='8|0|XTTE0590|message'>
              <doc flags='t'>
               <forEach>
                <varRef name='Q{}conflicts-with' slot='3'/>
                <valueOf line='166' flags='l'>
                 <fn name='concat'>
                  <str val='Name conflicts with '/>
                  <fn name='name'>
                   <dot type='1NE'/>
                  </fn>
                  <str val=' (named '/>
                  <fn name='string'>
                   <convert from='AZ' to='AS'>
                    <attVal name='Q{}name' chk='0'/>
                   </convert>
                  </fn>
                  <str val=')'/>
                 </fn>
                </valueOf>
               </forEach>
              </doc>
             </data>
            </cvUntyped>
           </withParam>
          </callT>
          <str role='terminate' val='yes'/>
          <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
         </message>
        </check>
       </choose>
      </let>
     </let>
    </let>
   </let>
  </template>
 </co>
 <co id='49' binds='31 64'>
  <globalParam name='Q{}measure-time' as='1AB' line='26' module='main.xsl' visibility='PUBLIC'>
   <ufCall ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='26' name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' tailCall='false' bSlot='0' eval='7 0'>
    <check card='?' diag='0|0||x:yes-no-synonym'>
     <cvUntyped to='AS'>
      <data diag='0|0||x:yes-no-synonym'>
       <slash simple='2'>
        <slash simple='1'>
         <gVarRef name='Q{}initial-document' bSlot='1'/>
         <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
        </slash>
        <axis name='attribute' nodeTest='NA nQ{}measure-time'/>
       </slash>
      </data>
     </cvUntyped>
    </check>
    <false/>
   </ufCall>
  </globalParam>
 </co>
 <co id='47' binds=''>
  <globalVariable name='Q{urn:x-xspec:compiler:base:util:compiler-eqname-utils:local}capture-NCName' as='1AS' line='81' module='compiler-eqname-utils.xsl' visibility='PRIVATE'>
   <str val='([\i-[:]][\c-[:]]*)'/>
  </globalVariable>
 </co>
 <co id='90' binds='58 81 5 5 75 58 44 13 13'>
  <mode name='Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}compile-scenarios-or-expects' onNo='DS' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='0.0' seq='9' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}pending' flags='s' as='+N' line='40' module='compile-child-scenarios-or-expects.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}pending'/>
    <treat role='action' ns='local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='41' as='N' diag='7|0|XTTE0505|match="x:pending" mode="local:compile-scenarios-or-expects"'>
     <check card='+' diag='7|0|XTTE0505|match="x:pending" mode="local:compile-scenarios-or-expects"'>
      <applyT flags='ct' bSlot='-1'>
       <axis role='select' name='child' nodeTest='NE'/>
      </applyT>
     </check>
    </treat>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='10' rank='0' minImp='0' slots='18' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='+N' line='47' module='compile-child-scenarios-or-expects.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    <sequence role='action' ns='local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='48'>
     <param name='Q{}apply' slot='0' flags='t' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}apply'>
      <empty role='select'/>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}apply' diag='8|0|XTTE0590|apply'>
       <check card='?' diag='8|0|XTTE0590|apply'>
        <supplied slot='0'/>
       </check>
      </treat>
     </param>
     <param line='49' name='Q{}call' slot='1' flags='t' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
      <empty role='select'/>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}call' diag='8|0|XTTE0590|call'>
       <check card='?' diag='8|0|XTTE0590|call'>
        <supplied slot='1'/>
       </check>
      </treat>
     </param>
     <param line='50' name='Q{}context' slot='2' flags='t' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
      <empty role='select'/>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}context' diag='8|0|XTTE0590|context'>
       <check card='?' diag='8|0|XTTE0590|context'>
        <supplied slot='2'/>
       </check>
      </treat>
     </param>
     <let line='52' var='Q{}reason-for-pending' as='?AS' slot='3' eval='7'>
      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}reason-for-pending' tailCall='false' bSlot='0' eval='16'>
       <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='a'/>
      </ufCall>
      <let line='55' var='Q{}new-apply' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}apply' slot='4' eval='7'>
       <choose line='57'>
        <fn name='exists'>
         <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}apply'/>
        </fn>
        <treat line='58' as='NE nQ{http://www.jenitennison.com/xslt/xspec}apply' diag='3|0|XTTE0570|new-apply'>
         <check card='?' diag='3|0|XTTE0570|new-apply'>
          <forEach>
           <check card='?' diag='4|0|XTTE3180|xsl:copy/select'>
            <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}apply'/>
           </check>
           <copy line='59' flags='cin' sit='1NE nQ{http://www.jenitennison.com/xslt/xspec}apply'>
            <sequence role='content'>
             <forEach>
              <sequence>
               <varRef name='Q{}apply' slot='0'/>
               <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}apply'/>
              </sequence>
              <axis name='attribute' nodeTest='NA'/>
             </forEach>
             <let line='61' var='Q{}local-params' as='*NE nQ{http://www.jenitennison.com/xslt/xspec}param' slot='5' eval='4'>
              <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
              <let line='65' var='Q{http://saxon.sf.net/generated-variable}v0' as='*AZ' slot='6' eval='4'>
               <data diag='1|1||='>
                <slash simple='2'>
                 <varRef name='Q{}local-params' slot='5'/>
                 <axis name='attribute' nodeTest='NA nQ{}name'/>
                </slash>
               </data>
               <sequence>
                <filter flags='b'>
                 <slash simple='1'>
                  <varRef name='Q{}apply' slot='0'/>
                  <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                 </slash>
                 <fn name='not'>
                  <gcEE op='=' card='N:1' comp='CCC'>
                   <varRef name='Q{http://saxon.sf.net/generated-variable}v0' slot='6'/>
                   <attVal name='Q{}name' chk='0'/>
                  </gcEE>
                 </fn>
                </filter>
                <varRef name='Q{}local-params' slot='5'/>
               </sequence>
              </let>
             </let>
            </sequence>
           </copy>
          </forEach>
         </check>
        </treat>
        <true/>
        <varRef line='70' name='Q{}apply' slot='0'/>
       </choose>
       <let line='76' var='Q{}new-context' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context' slot='7' eval='7'>
        <choose line='78'>
         <fn name='exists'>
          <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
         </fn>
         <treat line='79' as='NE nQ{http://www.jenitennison.com/xslt/xspec}context' diag='3|0|XTTE0570|new-context'>
          <check card='?' diag='3|0|XTTE0570|new-context'>
           <forEach>
            <check card='?' diag='4|0|XTTE3180|xsl:copy/select'>
             <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
            </check>
            <copy line='80' flags='cin' sit='1NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
             <sequence role='content'>
              <forEach>
               <sequence>
                <varRef name='Q{}context' slot='2'/>
                <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}context'/>
               </sequence>
               <axis name='attribute' nodeTest='NA'/>
              </forEach>
              <let line='82' var='Q{}local-params' as='*NE nQ{http://www.jenitennison.com/xslt/xspec}param' slot='8' eval='4'>
               <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
               <let line='86' var='Q{http://saxon.sf.net/generated-variable}v1' as='*AZ' slot='9' eval='4'>
                <data diag='1|1||='>
                 <slash simple='2'>
                  <varRef name='Q{}local-params' slot='8'/>
                  <axis name='attribute' nodeTest='NA nQ{}name'/>
                 </slash>
                </data>
                <sequence>
                 <filter flags='b'>
                  <slash simple='1'>
                   <varRef name='Q{}context' slot='2'/>
                   <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                  </slash>
                  <fn name='not'>
                   <gcEE op='=' card='N:1' comp='CCC'>
                    <varRef name='Q{http://saxon.sf.net/generated-variable}v1' slot='9'/>
                    <attVal name='Q{}name' chk='0'/>
                   </gcEE>
                  </fn>
                 </filter>
                 <varRef name='Q{}local-params' slot='8'/>
                 <choose line='93'>
                  <fn name='exists'>
                   <axis name='child' nodeTest='N d[N u[NE,NT,NC,NP],NE nQ{http://www.jenitennison.com/xslt/xspec}param]'/>
                  </fn>
                  <axis name='child' nodeTest='N d[N u[NE,NT,NC,NP],NE nQ{http://www.jenitennison.com/xslt/xspec}param]'/>
                  <true/>
                  <slash simple='1'>
                   <varRef name='Q{}context' slot='2'/>
                   <axis name='child' nodeTest='N d[N u[NE,NT,NC,NP],NE nQ{http://www.jenitennison.com/xslt/xspec}param]'/>
                  </slash>
                 </choose>
                </sequence>
               </let>
              </let>
             </sequence>
            </copy>
           </forEach>
          </check>
         </treat>
         <true/>
         <varRef line='97' name='Q{}context' slot='2'/>
        </choose>
        <let line='103' var='Q{}new-call' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call' slot='10' eval='7'>
         <choose line='105'>
          <fn name='exists'>
           <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
          </fn>
          <treat line='106' as='NE nQ{http://www.jenitennison.com/xslt/xspec}call' diag='3|0|XTTE0570|new-call'>
           <check card='?' diag='3|0|XTTE0570|new-call'>
            <forEach>
             <check card='?' diag='4|0|XTTE3180|xsl:copy/select'>
              <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
             </check>
             <copy line='107' flags='cin' sit='1NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
              <sequence role='content'>
               <forEach>
                <sequence>
                 <varRef name='Q{}call' slot='1'/>
                 <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
                </sequence>
                <axis name='attribute' nodeTest='NA'/>
               </forEach>
               <let line='110' var='Q{}is-function-call' as='1AB' slot='11' eval='8'>
                <fn name='exists'>
                 <slash simple='2'>
                  <sequence>
                   <varRef name='Q{}call' slot='1'/>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
                  </sequence>
                  <axis name='attribute' nodeTest='NA nQ{}function'/>
                 </slash>
                </fn>
                <let line='111' var='Q{}local-params' as='*NE nQ{http://www.jenitennison.com/xslt/xspec}param' slot='12' eval='4'>
                 <treat line='112' as='NE nQ{http://www.jenitennison.com/xslt/xspec}param' diag='3|0|XTTE0570|local-params'>
                  <forEach>
                   <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                   <copy line='114' flags='cin' sit='1NE nQ{http://www.jenitennison.com/xslt/xspec}param'>
                    <sequence role='content'>
                     <choose>
                      <varRef name='Q{}is-function-call' slot='11'/>
                      <att line='115' name='position' flags='l'>
                       <convert from='ADI' to='AS'>
                        <fn name='position'/>
                       </convert>
                      </att>
                     </choose>
                     <axis line='117' name='attribute' nodeTest='NA'/>
                     <axis line='117' name='child' nodeTest='N u[NE,NT,NC,NP]'/>
                    </sequence>
                   </copy>
                  </forEach>
                 </treat>
                 <let line='127' var='Q{http://saxon.sf.net/generated-variable}v3' as='*AZ' slot='13' eval='4'>
                  <data diag='1|1||='>
                   <slash simple='2'>
                    <varRef name='Q{}local-params' slot='12'/>
                    <axis name='attribute' nodeTest='NA nQ{}position'/>
                   </slash>
                  </data>
                  <let var='Q{http://saxon.sf.net/generated-variable}v2' as='*AZ' slot='14' eval='4'>
                   <data diag='1|1||='>
                    <slash simple='2'>
                     <varRef name='Q{}local-params' slot='12'/>
                     <axis name='attribute' nodeTest='NA nQ{}name'/>
                    </slash>
                   </data>
                   <sequence>
                    <filter flags='b'>
                     <filter flags='b'>
                      <slash simple='1'>
                       <varRef name='Q{}call' slot='1'/>
                       <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                      </slash>
                      <fn name='not'>
                       <gcEE op='=' card='N:1' comp='CCC'>
                        <varRef name='Q{http://saxon.sf.net/generated-variable}v2' slot='14'/>
                        <attVal name='Q{}name' chk='0'/>
                       </gcEE>
                      </fn>
                     </filter>
                     <fn name='not'>
                      <gcEE op='=' card='N:1' comp='CCC'>
                       <varRef name='Q{http://saxon.sf.net/generated-variable}v3' slot='13'/>
                       <attVal name='Q{}position' chk='0'/>
                      </gcEE>
                     </fn>
                    </filter>
                    <varRef name='Q{}local-params' slot='12'/>
                   </sequence>
                  </let>
                 </let>
                </let>
               </let>
              </sequence>
             </copy>
            </forEach>
           </check>
          </treat>
          <true/>
          <varRef line='132' name='Q{}call' slot='1'/>
         </choose>
         <let line='143' var='Q{}dup-param-error-string' as='?AS' slot='15' eval='7'>
          <first>
           <sequence>
            <forEach>
             <sequence>
              <varRef name='Q{}new-apply' slot='4'/>
              <varRef name='Q{}new-call' slot='10'/>
              <varRef name='Q{}new-context' slot='7'/>
             </sequence>
             <ufCall name='Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}param-dup-name-error-string' tailCall='false' bSlot='1' eval='16'>
              <dot type='1NE'/>
             </ufCall>
            </forEach>
            <forEach>
             <filter flags='b'>
              <varRef name='Q{}new-call' slot='10'/>
              <fn name='exists'>
               <axis name='attribute' nodeTest='NA nQ{}function'/>
              </fn>
             </filter>
             <let var='Q{}owner' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}call' slot='16' eval='16'>
              <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
              <let line='220' var='Q{}positions' as='*ADI' slot='17' eval='4'>
               <forEach>
                <slash simple='1'>
                 <varRef name='Q{}owner' slot='16'/>
                 <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
                </slash>
                <cast flags='ae' as='?ADI'>
                 <attVal name='Q{}position' chk='0'/>
                </cast>
               </forEach>
               <check line='221' card='?' diag='5|0|XTTE0780|local:param-dup-position-error-string#1'>
                <cvUntyped to='AS' diag='5|0|XTTE0780|local:param-dup-position-error-string#1'>
                 <data diag='5|0|XTTE0780|local:param-dup-position-error-string#1'>
                  <forEach>
                   <first>
                    <filter flags='pb'>
                     <varRef name='Q{}positions' slot='17'/>
                     <gcEE op='=' card='N:1' comp='CAVC'>
                      <fn name='subsequence'>
                       <varRef name='Q{}positions' slot='17'/>
                       <int val='1'/>
                       <arith op='-' calc='i-i'>
                        <fn name='position'/>
                        <int val='1'/>
                       </arith>
                      </fn>
                      <dot type='1ADI'/>
                     </gcEE>
                    </filter>
                   </first>
                   <valueOf line='222'>
                    <fn name='concat'>
                     <str val='Duplicate parameter position, '/>
                     <convert from='ADI' to='AS'>
                      <dot type='1ADI'/>
                     </convert>
                     <str val=', used in '/>
                     <fn name='name'>
                      <varRef name='Q{}owner' slot='16'/>
                     </fn>
                     <str val='.'/>
                    </fn>
                   </valueOf>
                  </forEach>
                 </data>
                </cvUntyped>
               </check>
              </let>
             </let>
            </forEach>
           </sequence>
          </first>
          <sequence line='144'>
           <choose>
            <varRef name='Q{}dup-param-error-string' slot='15'/>
            <treat line='146' as='N' diag='7|0|XTTE0505|match="x:scenario" mode="local:compile-scenarios-or-expects"'>
             <message>
              <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='2'>
               <withParam name='Q{}message' flags='c' as='1AS'>
                <check line='147' card='1' diag='8|0|XTTE0590|message'>
                 <varRef name='Q{}dup-param-error-string' slot='15'/>
                </check>
               </withParam>
              </callT>
              <str role='terminate' val='yes'/>
              <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
             </message>
            </treat>
           </choose>
           <choose line='154'>
            <fn name='exists'>
             <varRef name='Q{}new-apply' slot='4'/>
            </fn>
            <treat line='156' as='N' diag='7|0|XTTE0505|match="x:scenario" mode="local:compile-scenarios-or-expects"'>
             <message>
              <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='3'>
               <withParam name='Q{}level' flags='c' as='1AS'>
                <str val='WARNING'/>
               </withParam>
               <withParam name='Q{}message' flags='c' as='1ND'>
                <cvUntyped line='159' to='AS' diag='8|1|XTTE0590|message'>
                 <data diag='8|1|XTTE0590|message'>
                  <doc flags='t'>
                   <valueOf flags='l'>
                    <fn name='concat'>
                     <str val='The instruction '/>
                     <fn name='name'>
                      <varRef name='Q{}new-apply' slot='4'/>
                     </fn>
                     <str val=' is not supported yet!'/>
                    </fn>
                   </valueOf>
                  </doc>
                 </data>
                </cvUntyped>
               </withParam>
              </callT>
              <str role='terminate' val='no'/>
              <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
             </message>
            </treat>
           </choose>
           <callT line='166' name='Q{http://www.jenitennison.com/xslt/xspec}compile-scenario' bSlot='4' flags='t'>
            <withParam name='Q{}reason-for-pending' flags='c' as='?AS'>
             <varRef line='170' name='Q{}reason-for-pending' slot='3'/>
            </withParam>
            <withParam name='Q{}run-sut-now' flags='c' as='1AB'>
             <and line='171' op='and'>
              <fn name='empty'>
               <varRef name='Q{}reason-for-pending' slot='3'/>
              </fn>
              <fn name='exists'>
               <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
              </fn>
             </and>
            </withParam>
            <withParam name='Q{}apply' flags='t' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}apply'>
             <varRef line='167' name='Q{}new-apply' slot='4'/>
            </withParam>
            <withParam name='Q{}call' flags='t' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
             <varRef line='168' name='Q{}new-call' slot='10'/>
            </withParam>
            <withParam name='Q{}context' flags='t' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
             <varRef line='169' name='Q{}new-context' slot='7'/>
            </withParam>
           </callT>
          </sequence>
         </let>
        </let>
       </let>
      </let>
     </let>
    </sequence>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='11' rank='0' minImp='0' slots='3' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='s' as='+N' line='178' module='compile-child-scenarios-or-expects.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
    <sequence role='action' ns='local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='179'>
     <param name='Q{}call' slot='0' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}call' diag='8|0|XTTE0590|call'>
       <check card='?' diag='8|0|XTTE0590|call'>
        <supplied slot='0'/>
       </check>
      </treat>
     </param>
     <param line='180' name='Q{}context' slot='1' flags='tr' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
      <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}context' diag='8|0|XTTE0590|context'>
       <check card='?' diag='8|0|XTTE0590|context'>
        <supplied slot='1'/>
       </check>
      </treat>
     </param>
     <let line='182' var='Q{}reason-for-pending' as='?AS' slot='2' eval='7'>
      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}reason-for-pending' tailCall='false' bSlot='5' eval='16'>
       <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='a'/>
      </ufCall>
      <callT line='185' name='Q{http://www.jenitennison.com/xslt/xspec}compile-expect' bSlot='6' flags='t'>
       <withParam name='Q{}reason-for-pending' flags='c' as='?AS'>
        <varRef line='188' name='Q{}reason-for-pending' slot='2'/>
       </withParam>
       <withParam name='Q{}param-uqnames' flags='c' as='*AS'>
        <sequence line='190'>
         <choose>
          <fn name='empty'>
           <varRef name='Q{}reason-for-pending' slot='2'/>
          </fn>
          <sequence line='191'>
           <forEach>
            <varRef name='Q{}context' slot='1'/>
            <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='7' eval='0'>
             <str val='x:context'/>
            </ufCall>
           </forEach>
           <ufCall line='192' name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='8' eval='0'>
            <str val='x:result'/>
           </ufCall>
          </sequence>
         </choose>
         <fn line='194' name='accumulator-before'>
          <str val='stacked-vardecls-distinct-uqnames'/>
         </fn>
        </sequence>
       </withParam>
       <withParam name='Q{}call' flags='t' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}call'>
        <varRef line='186' name='Q{}call' slot='0'/>
       </withParam>
       <withParam name='Q{}context' flags='t' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
        <varRef line='187' name='Q{}context' slot='1'/>
       </withParam>
      </callT>
     </let>
    </sequence>
   </templateRule>
  </mode>
 </co>
 <co id='72' binds='5'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}generate-id' onNo='FF' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='0.0' seq='5' rank='0' minImp='0' slots='2' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='1AS' line='20' module='generate-id.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    <check role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='22' card='1' diag='7|0|XTTE0505|match="x:scenario" mode="x:generate-id"'>
     <sequence>
      <choose>
       <fn name='empty'>
        <axis name='attribute' nodeTest='NA nQ{}xspec'/>
       </fn>
       <treat line='24' as='AS' diag='7|0|XTTE0505|match="x:scenario" mode="x:generate-id"'>
        <cvUntyped to='AS' diag='7|0|XTTE0505|match="x:scenario" mode="x:generate-id"'>
         <data diag='7|0|XTTE0505|match="x:scenario" mode="x:generate-id"'>
          <message>
           <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
            <withParam name='Q{}message' flags='c' as='1AS'>
             <str val='@xspec not exist when generating ID.'/>
            </withParam>
           </callT>
           <str role='terminate' val='yes'/>
           <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
          </message>
         </data>
        </cvUntyped>
       </treat>
      </choose>
      <fn line='50' name='string-join'>
       <check line='31' card='+' diag='3|0|XTTE0570|ancestor-or-self-tokens'>
        <forEach>
         <fn name='reverse'>
          <slash simple='1'>
           <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='a'/>
           <axis name='ancestor-or-self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
          </slash>
         </fn>
         <let line='39' var='Q{}parent-document-node-or-scenario' as='1N u[NE,ND]' slot='0' eval='16'>
          <check card='1' diag='3|0|XTTE0570|parent-document-node-or-scenario'>
           <first>
            <filter flags='b'>
             <slash simple='1'>
              <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
              <axis name='ancestor' nodeTest='N u[NE,ND]'/>
             </slash>
             <or op='or'>
              <fn name='exists'>
               <axis name='self' nodeTest='ND'/>
              </fn>
              <fn name='exists'>
               <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
              </fn>
             </or>
            </filter>
           </first>
          </check>
          <fn line='46' name='concat'>
           <fn name='local-name'>
            <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
           </fn>
           <arith op='+' calc='i+i'>
            <fn name='count'>
             <let line='44' var='Q{http://saxon.sf.net/generated-variable}current-447569692' as='1' slot='1' eval='16'>
              <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
              <filter flags=''>
               <filter flags=''>
                <slash simple='1'>
                 <varRef name='Q{}parent-document-node-or-scenario' slot='0'/>
                 <axis name='descendant' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
                </slash>
                <follows op='&gt;&gt;'>
                 <varRef name='Q{http://saxon.sf.net/generated-variable}current-447569692' slot='1'/>
                 <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
                </follows>
               </filter>
               <is op='is'>
                <first>
                 <filter flags='b'>
                  <axis name='ancestor' nodeTest='N u[NE,ND]'/>
                  <or op='or'>
                   <fn name='exists'>
                    <axis name='self' nodeTest='ND'/>
                   </fn>
                   <fn name='exists'>
                    <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
                   </fn>
                  </or>
                 </filter>
                </first>
                <varRef name='Q{}parent-document-node-or-scenario' slot='0'/>
               </is>
              </filter>
             </let>
            </fn>
            <int val='1'/>
           </arith>
          </fn>
         </let>
        </forEach>
       </check>
       <str val='-'/>
      </fn>
     </sequence>
    </check>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='6' rank='0' minImp='0' slots='3' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='s' as='1AS' line='53' module='generate-id.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
    <let role='action' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='55' var='Q{}scenario' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' slot='0' eval='16'>
     <check card='1' diag='3|0|XTTE0570|scenario'>
      <first>
       <slash simple='1'>
        <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='a'/>
        <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
       </slash>
      </first>
     </check>
     <let line='61' var='Q{}scenario-id' as='1AS' slot='1' eval='16'>
      <treat line='62' as='AS' diag='3|0|XTTE0570|scenario-id'>
       <check card='1' diag='3|0|XTTE0570|scenario-id'>
        <cvUntyped to='AS' diag='3|0|XTTE0570|scenario-id'>
         <data diag='3|0|XTTE0570|scenario-id'>
          <applyT flags='c' bSlot='-1'>
           <varRef role='select' name='Q{}scenario' slot='0'/>
          </applyT>
         </data>
        </cvUntyped>
       </check>
      </treat>
      <fn line='65' name='concat'>
       <varRef name='Q{}scenario-id' slot='1'/>
       <str val='-'/>
       <fn name='local-name'>
        <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='a'/>
       </fn>
       <arith op='+' calc='i+i'>
        <fn name='count'>
         <let line='59' var='Q{http://saxon.sf.net/generated-variable}current-1090036820' as='1' slot='2' eval='16'>
          <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect' flags='a'/>
          <filter flags=''>
           <filter flags=''>
            <slash simple='1'>
             <varRef name='Q{}scenario' slot='0'/>
             <axis name='descendant' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
            </slash>
            <follows op='&gt;&gt;'>
             <varRef name='Q{http://saxon.sf.net/generated-variable}current-1090036820' slot='2'/>
             <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
            </follows>
           </filter>
           <is op='is'>
            <first>
             <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
            </first>
            <varRef name='Q{}scenario' slot='0'/>
           </is>
          </filter>
         </let>
        </fn>
        <int val='1'/>
       </arith>
      </fn>
     </let>
    </let>
   </templateRule>
  </mode>
 </co>
 <co id='91' binds='64'>
  <globalVariable name='Q{http://saxon.sf.net/generated-variable}gg1777745301' as='1AS' line='103' module='check-combined-doc.xsl' visibility='PRIVATE'>
   <fn ns='local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='103' name='concat'>
    <str val='Enabling @static is supported only when /'/>
    <fn name='name'>
     <check card='?' diag='0|0||fn:name'>
      <slash simple='1'>
       <gVarRef name='Q{}initial-document' bSlot='0'/>
       <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
      </slash>
     </check>
    </fn>
    <str val=' has @run-as=&#39;external&#39;.'/>
   </fn>
  </globalVariable>
 </co>
 <co id='79' binds='13'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}try-catch' flags='o' as='1NE nQ{http://www.w3.org/1999/XSL/Transform}try' line='8' module='try-catch.xsl' slots='1'>
   <sequence role='body' ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='11'>
    <param name='Q{}instruction' slot='0' flags='r' as='1NE'>
     <treat role='conversion' as='NE' diag='8|0|XTTE0590|instruction'>
      <check card='1' diag='8|0|XTTE0590|instruction'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <elem line='13' name='xsl:try' nsuri='http://www.w3.org/1999/XSL/Transform' namespaces='xsl'>
     <sequence line='14'>
      <varRef name='Q{}instruction' slot='0'/>
      <elem line='15' name='xsl:catch' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
       <elem line='16' name='xsl:map' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
        <elem line='17' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
         <sequence>
          <att name='key' flags='l'>
           <str val='&#39;err&#39;'/>
          </att>
          <elem line='18' name='xsl:map' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
           <forEach line='22'>
            <literal count='6'>
             <str val='code'/>
             <str val='description'/>
             <str val='value'/>
             <str val='module'/>
             <str val='line-number'/>
             <str val='column-number'/>
            </literal>
            <elem line='23' name='xsl:map-entry' nsuri='http://www.w3.org/1999/XSL/Transform' flags='l' namespaces='xsl'>
             <sequence>
              <att name='key' flags='l'>
               <fn name='concat'>
                <str val='&#39;'/>
                <dot type='1AS'/>
                <str val='&#39;'/>
               </fn>
              </att>
              <att name='select' flags='l'>
               <fn name='concat'>
                <str val='$'/>
                <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='0' eval='16'>
                 <fn name='concat'>
                  <str val='err:'/>
                  <dot type='1AS'/>
                 </fn>
                </ufCall>
               </fn>
              </att>
             </sequence>
            </elem>
           </forEach>
          </elem>
         </sequence>
        </elem>
       </elem>
      </elem>
     </sequence>
    </elem>
   </sequence>
  </template>
 </co>
 <co id='63' binds='11 31 5 91'>
  <template name='Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-static-description-param-run-as-import' cxt='1NE nQ{http://www.jenitennison.com/xslt/xspec}param' flags='s' as='0' line='95' module='check-combined-doc.xsl' slots='0'>
   <choose role='body' ns='local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='99'>
    <choose>
     <fn name='not'>
      <gVarRef name='Q{}is-external' bSlot='0'/>
     </fn>
     <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' tailCall='false' bSlot='1' eval='8 0'>
      <cvUntyped to='AS'>
       <attVal name='Q{}static' chk='0'/>
      </cvUntyped>
      <false/>
     </ufCall>
     <true/>
     <false/>
    </choose>
    <check line='101' card='0' diag='7|0|XTTE0505|local:detect-static-description-param-run-as-import'>
     <message>
      <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='2'>
       <withParam name='Q{}message' flags='c' as='1ND'>
        <cvUntyped line='103' to='AS' diag='8|0|XTTE0590|message'>
         <data diag='8|0|XTTE0590|message'>
          <doc flags='t'>
           <valueOf flags='l'>
            <gVarRef name='Q{http://saxon.sf.net/generated-variable}gg1777745301' bSlot='3'/>
           </valueOf>
          </doc>
         </data>
        </cvUntyped>
       </withParam>
      </callT>
      <str role='terminate' val='yes'/>
      <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
     </message>
    </check>
   </choose>
  </template>
 </co>
 <co id='16' binds='84'>
  <globalVariable name='Q{http://saxon.sf.net/generated-variable}gg1489946715' as='1AB' line='124' module='main.xsl' visibility='PRIVATE'>
   <vc ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='124' op='lt' onEmpty='0' comp='CAVC'>
    <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}saxon-version' bSlot='0'/>
    <arith ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' module='version-utils.xsl' line='56' op='+' calc='i+i'>
     <arith op='*' calc='i*i'>
      <arith op='*' calc='i*i'>
       <arith line='54' op='+' calc='i+i'>
        <int val='589824'/>
        <check line='50' card='1' diag='3|0||x'>
         <first>
          <sequence>
           <subscript>
            <literal count='4'>
             <int val='9'/>
             <int val='9'/>
             <int val='1'/>
             <int val='1'/>
            </literal>
            <int val='2'/>
           </subscript>
           <int val='0'/>
          </sequence>
         </first>
        </check>
       </arith>
       <int val='65536'/>
      </arith>
      <int val='65536'/>
     </arith>
     <arith line='51' op='+' calc='i+i'>
      <arith op='*' calc='i*i'>
       <check card='1' diag='3|0||y'>
        <first>
         <sequence>
          <subscript>
           <literal count='4'>
            <int val='9'/>
            <int val='9'/>
            <int val='1'/>
            <int val='1'/>
           </literal>
           <int val='3'/>
          </subscript>
          <int val='0'/>
         </sequence>
        </first>
       </check>
       <int val='65536'/>
      </arith>
      <check line='52' card='1' diag='3|0||z'>
       <first>
        <sequence>
         <subscript>
          <literal count='4'>
           <int val='9'/>
           <int val='9'/>
           <int val='1'/>
           <int val='1'/>
          </literal>
          <int val='4'/>
         </subscript>
         <int val='0'/>
        </sequence>
       </first>
      </check>
     </arith>
    </arith>
   </vc>
  </globalVariable>
 </co>
 <co id='92' binds='64'>
  <globalVariable name='Q{http://saxon.sf.net/generated-variable}gg1010584177' as='*NE nQ{http://www.jenitennison.com/xslt/xspec}description' line='37' module='combine.xsl' visibility='PRIVATE'>
   <slash ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='37' simple='1'>
    <gVarRef name='Q{}initial-document' bSlot='0'/>
    <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
   </slash>
  </globalVariable>
 </co>
 <co id='93' binds=''>
  <globalVariable name='Q{http://www.jenitennison.com/xslt/xspec}xs-namespace' as='1AU' line='27' module='namespace-utils.xsl' visibility='PRIVATE'>
   <atomic val='http://www.w3.org/2001/XMLSchema' type='AU'/>
  </globalVariable>
 </co>
 <co id='5' binds='41'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' cxt='1N' flags='s' as='1AS' line='100' module='compiler-misc-utils.xsl' slots='5'>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='103' card='1' diag='7|0|XTTE0505|x:prefix-diag-message'>
    <sequence>
     <param name='Q{}level' slot='0' as='1AS'>
      <str role='select' val='ERROR'/>
      <treat role='conversion' as='AS' diag='8|0|XTTE0590|level'>
       <check card='1' diag='8|0|XTTE0590|level'>
        <cvUntyped to='AS' diag='8|0|XTTE0590|level'>
         <data diag='8|0|XTTE0590|level'>
          <supplied slot='0'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <param line='104' name='Q{}message' slot='1' flags='r' as='1AS'>
      <treat role='conversion' as='AS' diag='8|0|XTTE0590|message'>
       <check card='1' diag='8|0|XTTE0590|message'>
        <cvUntyped to='AS' diag='8|0|XTTE0590|message'>
         <data diag='8|0|XTTE0590|message'>
          <supplied slot='1'/>
         </data>
        </cvUntyped>
       </check>
      </treat>
     </param>
     <let line='106' var='Q{}owner-element' as='?NE nQ{http://www.jenitennison.com/xslt/xspec}*' slot='2' eval='7'>
      <first>
       <slash simple='1'>
        <dot type='1N'/>
        <axis name='ancestor-or-self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
       </slash>
      </first>
      <cvUntyped line='113' to='AS' diag='7|0|XTTE0505|x:prefix-diag-message'>
       <cast flags='a' as='1AZ'>
        <fn name='string-join'>
         <convert from='AZ' to='AS'>
          <data>
           <mergeAdj>
            <sequence>
             <valueOf>
              <varRef name='Q{}level' slot='0'/>
             </valueOf>
             <forEach line='115'>
              <varRef name='Q{}owner-element' slot='2'/>
              <sequence line='122'>
               <valueOf>
                <fn line='121' name='concat'>
                 <str val=' in '/>
                 <choose>
                  <fn name='prefix-from-QName'>
                   <fn name='node-name'>
                    <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
                   </fn>
                  </fn>
                  <fn name='name'>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
                  </fn>
                  <true/>
                  <check card='1' diag='3|0|XTTE0570|owner-element-eqname'>
                   <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}node-UQName' tailCall='false' bSlot='0' eval='16'>
                    <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
                   </ufCall>
                  </check>
                 </choose>
                </fn>
               </valueOf>
               <forEach line='124'>
                <axis name='attribute' nodeTest='NA nQ{}name'/>
                <valueOf line='125'>
                 <fn name='concat'>
                  <str val=' (named '/>
                  <convert from='AZ' to='AS'>
                   <data>
                    <dot type='1NA nQ{}name'/>
                   </data>
                  </convert>
                  <str val=')'/>
                 </fn>
                </valueOf>
               </forEach>
               <forEach line='131'>
                <forEach>
                 <forEach>
                  <filter flags='b'>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
                   <and op='and'>
                    <fn name='empty'>
                     <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                    </fn>
                    <fn name='empty'>
                     <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
                    </fn>
                   </and>
                  </filter>
                  <let var='Q{}labelled' as='1NE' slot='3' eval='16'>
                   <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
                   <treat line='13' as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
                    <compElem>
                     <str role='name' val='label'/>
                     <convert role='namespace' from='AU' to='AS'>
                      <fn name='namespace-uri'>
                       <varRef name='Q{}labelled' slot='3'/>
                      </fn>
                     </convert>
                     <valueOf role='content' line='14' flags='l'>
                      <convert from='A' to='AS'>
                       <data>
                        <first>
                         <sequence>
                          <slash simple='1'>
                           <varRef name='Q{}labelled' slot='3'/>
                           <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                          </slash>
                          <slash simple='1'>
                           <varRef name='Q{}labelled' slot='3'/>
                           <axis name='attribute' nodeTest='NA nQ{}label'/>
                          </slash>
                         </sequence>
                        </first>
                       </data>
                      </convert>
                     </valueOf>
                    </compElem>
                   </treat>
                  </let>
                 </forEach>
                 <filter flags='b'>
                  <fn name='normalize-space'>
                   <fn name='string'>
                    <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                   </fn>
                  </fn>
                  <fn name='boolean'>
                   <dot type='1AS'/>
                  </fn>
                 </filter>
                </forEach>
                <valueOf line='132'>
                 <fn name='concat'>
                  <str val=' (labeled &#39;'/>
                  <dot type='1AS'/>
                  <str val='&#39;)'/>
                 </fn>
                </valueOf>
               </forEach>
              </sequence>
             </forEach>
             <forEach line='136'>
              <filter flags='b'>
               <fn line='110' name='normalize-space'>
                <fn name='string-join'>
                 <data diag='0|0||fn:string-join'>
                  <slash>
                   <slash>
                    <varRef name='Q{}owner-element' slot='2'/>
                    <fn name='reverse'>
                     <filter flags='b'>
                      <axis name='ancestor-or-self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
                      <and op='and'>
                       <fn name='empty'>
                        <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}like'/>
                       </fn>
                       <fn name='empty'>
                        <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}pending'/>
                       </fn>
                      </and>
                     </filter>
                    </fn>
                   </slash>
                   <let var='Q{}labelled' as='1NE' slot='4' eval='16'>
                    <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}*'/>
                    <treat line='13' as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
                     <compElem>
                      <str role='name' val='label'/>
                      <convert role='namespace' from='AU' to='AS'>
                       <fn name='namespace-uri'>
                        <varRef name='Q{}labelled' slot='4'/>
                       </fn>
                      </convert>
                      <valueOf role='content' line='14' flags='l'>
                       <convert from='A' to='AS'>
                        <data>
                         <first>
                          <sequence>
                           <slash simple='1'>
                            <varRef name='Q{}labelled' slot='4'/>
                            <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                           </slash>
                           <slash simple='1'>
                            <varRef name='Q{}labelled' slot='4'/>
                            <axis name='attribute' nodeTest='NA nQ{}label'/>
                           </slash>
                          </sequence>
                         </first>
                        </data>
                       </convert>
                      </valueOf>
                     </compElem>
                    </treat>
                   </let>
                  </slash>
                 </data>
                 <str val=' '/>
                </fn>
               </fn>
               <fn name='boolean'>
                <dot type='1AS'/>
               </fn>
              </filter>
              <sequence line='137'>
               <valueOf>
                <str val=' ('/>
               </valueOf>
               <choose line='138'>
                <fn name='exists'>
                 <filter flags='b'>
                  <varRef name='Q{}owner-element' slot='2'/>
                  <and op='and'>
                   <fn name='empty'>
                    <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}expect'/>
                   </fn>
                   <fn name='empty'>
                    <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
                   </fn>
                  </and>
                 </filter>
                </fn>
                <valueOf line='139'>
                 <str val='under '/>
                </valueOf>
               </choose>
               <valueOf line='141'>
                <fn name='concat'>
                 <str val='&#39;'/>
                 <dot type='1AS'/>
                 <str val='&#39;)'/>
                </fn>
               </valueOf>
              </sequence>
             </forEach>
             <valueOf line='144'>
              <fn name='concat'>
               <str val=': '/>
               <varRef name='Q{}message' slot='1'/>
              </fn>
             </valueOf>
            </sequence>
           </mergeAdj>
          </data>
         </convert>
         <str val=''/>
        </fn>
       </cast>
      </cvUntyped>
     </let>
    </sequence>
   </check>
  </template>
 </co>
 <co id='94' binds=''>
  <function name='Q{urn:x-xspec:compiler:base:resolve-import:gather:gather-descriptions:local}distinct-nodes-stable' line='59' module='gather-descriptions.xsl' eval='4' flags='pU' as='*N' slots='1'>
   <arg name='Q{}nodes' as='*N'/>
   <filter role='body' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-descriptions:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='62' flags='pb'>
    <varRef name='Q{}nodes' slot='0'/>
    <fn name='empty'>
     <among op='among'>
      <dot type='1N'/>
      <fn name='subsequence'>
       <varRef name='Q{}nodes' slot='0'/>
       <int val='1'/>
       <arith op='-' calc='i-i'>
        <fn name='position'/>
        <int val='1'/>
       </arith>
      </fn>
     </among>
    </fn>
   </filter>
  </function>
 </co>
 <co id='58' binds=''>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}reason-for-pending' line='14' module='compiler-pending-utils.xsl' eval='7' flags='pU' as='?AS' slots='2'>
   <arg name='Q{}context-element' as='1NE'/>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='18' card='?' diag='5|0|XTTE0780|x:reason-for-pending#1'>
    <forEach>
     <varRef name='Q{}context-element' slot='0'/>
     <choose line='20'>
      <fn name='exists'>
       <filter flags='b'>
        <slash simple='1'>
         <dot type='1NE'/>
         <axis name='ancestor-or-self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
        </slash>
        <fn name='exists'>
         <axis name='attribute' nodeTest='NA nQ{}focus'/>
        </fn>
       </filter>
      </fn>
      <empty/>
      <true/>
      <first line='51'>
       <sequence>
        <slash line='30'>
         <slash>
          <first>
           <filter flags='b'>
            <slash simple='1'>
             <dot type='1NE'/>
             <axis name='ancestor-or-self' nodeTest='NE'/>
            </slash>
            <or op='or'>
             <fn name='exists'>
              <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}pending'/>
             </fn>
             <fn name='exists'>
              <filter flags='b'>
               <axis name='self' nodeTest='NE u[NE nQ{http://www.jenitennison.com/xslt/xspec}expect,NE nQ{http://www.jenitennison.com/xslt/xspec}scenario]'/>
               <fn name='exists'>
                <axis name='attribute' nodeTest='NA nQ{}pending'/>
               </fn>
              </filter>
             </fn>
            </or>
           </filter>
          </first>
          <choose>
           <fn name='exists'>
            <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}pending'/>
           </fn>
           <let var='Q{}labelled' as='1NE' slot='1' eval='16'>
            <dot type='1NE'/>
            <treat module='compiler-misc-utils.xsl' line='13' as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
             <compElem>
              <str role='name' val='label'/>
              <convert role='namespace' from='AU' to='AS'>
               <fn name='namespace-uri'>
                <varRef name='Q{}labelled' slot='1'/>
               </fn>
              </convert>
              <valueOf role='content' line='14' flags='l'>
               <convert from='A' to='AS'>
                <data>
                 <first>
                  <sequence>
                   <slash simple='1'>
                    <varRef name='Q{}labelled' slot='1'/>
                    <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                   </slash>
                   <slash simple='1'>
                    <varRef name='Q{}labelled' slot='1'/>
                    <axis name='attribute' nodeTest='NA nQ{}label'/>
                   </slash>
                  </sequence>
                 </first>
                </data>
               </convert>
              </valueOf>
             </compElem>
            </treat>
           </let>
           <true/>
           <axis name='attribute' nodeTest='NA nQ{}pending'/>
          </choose>
         </slash>
         <fn name='string'>
          <dot type='1N'/>
         </fn>
        </slash>
        <choose line='35'>
         <fn name='exists'>
          <slash simple='1'>
           <dot type='1NE'/>
           <axis name='ancestor-or-self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
          </slash>
         </fn>
         <slash line='40'>
          <slash simple='1'>
           <slash>
            <fn name='root'>
             <dot type='1NE'/>
            </fn>
            <first>
             <filter flags='b'>
              <axis name='descendant-or-self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
              <fn name='exists'>
               <axis name='attribute' nodeTest='NA nQ{}focus'/>
              </fn>
             </filter>
            </first>
           </slash>
           <axis name='attribute' nodeTest='NA nQ{}focus'/>
          </slash>
          <fn name='string'>
           <dot type='1NA nQ{}focus'/>
          </fn>
         </slash>
        </choose>
       </sequence>
      </first>
     </choose>
    </forEach>
   </check>
  </function>
 </co>
 <co id='95' binds='31 5 5 5'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}unshare-scenarios' onNo='SC' flags='F' patternSlots='1'>
   <templateRule prec='0' prio='0.5' seq='7' part='1' rank='1' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='0' line='16' module='unshare-scenarios.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
     <ufCall ns='local=urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='16' name='Q{http://www.jenitennison.com/xslt/xspec}yes-no-synonym' tailCall='false' bSlot='0'>
      <cvUntyped to='AS'>
       <attVal name='Q{}shared' chk='0'/>
      </cvUntyped>
      <false/>
     </ufCall>
    </p.withPredicate>
    <empty role='action'/>
   </templateRule>
   <templateRule prec='0' prio='0.0' seq='8' rank='0' minImp='0' slots='2' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}like' flags='s' as='+NE' line='19' module='unshare-scenarios.xsl'>
    <p.nodeTest role='match' test='NE nQ{http://www.jenitennison.com/xslt/xspec}like'/>
    <let role='action' ns='local=urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='21' var='Q{}scenario' as='*NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' slot='0' eval='4'>
     <treat as='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' diag='3|0|XTTE0570|scenario'>
      <fn name='key'>
       <str val='local:scenarios'/>
       <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='20' var='Q{}labelled' as='1NE' slot='1' eval='16'>
        <dot ns='local=urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}like' flags='a'/>
        <data module='compiler-misc-utils.xsl' line='13' diag='0|1||fn:key'>
         <treat as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
          <compElem>
           <str role='name' val='label'/>
           <convert role='namespace' from='AU' to='AS'>
            <fn name='namespace-uri'>
             <varRef name='Q{}labelled' slot='1'/>
            </fn>
           </convert>
           <valueOf role='content' line='14' flags='l'>
            <convert from='A' to='AS'>
             <data>
              <first>
               <sequence>
                <slash simple='1'>
                 <varRef name='Q{}labelled' slot='1'/>
                 <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
                </slash>
                <slash simple='1'>
                 <varRef name='Q{}labelled' slot='1'/>
                 <axis name='attribute' nodeTest='NA nQ{}label'/>
                </slash>
               </sequence>
              </first>
             </data>
            </convert>
           </valueOf>
          </compElem>
         </treat>
        </data>
       </let>
      </fn>
     </treat>
     <choose line='23'>
      <fn name='empty'>
       <varRef name='Q{}scenario' slot='0'/>
      </fn>
      <treat line='25' as='NE' diag='7|0|XTTE0505|match="x:like" mode="x:unshare-scenarios"'>
       <check card='+' diag='7|0|XTTE0505|match="x:like" mode="x:unshare-scenarios"'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='1'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <str val='Scenario not found.'/>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </check>
      </treat>
      <fn line='30' name='exists'>
       <subscript>
        <varRef name='Q{}scenario' slot='0'/>
        <int val='2'/>
       </subscript>
      </fn>
      <treat line='32' as='NE' diag='7|0|XTTE0505|match="x:like" mode="x:unshare-scenarios"'>
       <check card='+' diag='7|0|XTTE0505|match="x:like" mode="x:unshare-scenarios"'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='2'>
          <withParam name='Q{}message' flags='c' as='1ND'>
           <cvUntyped line='34' to='AS' diag='8|0|XTTE0590|message'>
            <data diag='8|0|XTTE0590|message'>
             <doc flags='t'>
              <valueOf flags='l'>
               <fn name='concat'>
                <convert from='ADI' to='AS'>
                 <fn name='count'>
                  <varRef name='Q{}scenario' slot='0'/>
                 </fn>
                </convert>
                <str val=' scenarios found with same label.'/>
               </fn>
              </valueOf>
             </doc>
            </data>
           </cvUntyped>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </check>
      </treat>
      <fn line='39' name='exists'>
       <intersect op='intersect'>
        <docOrder intra='0'>
         <varRef name='Q{}scenario' slot='0'/>
        </docOrder>
        <fn name='reverse'>
         <slash simple='1'>
          <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}like' flags='a'/>
          <axis name='ancestor' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
         </slash>
        </fn>
       </intersect>
      </fn>
      <treat line='41' as='NE' diag='7|0|XTTE0505|match="x:like" mode="x:unshare-scenarios"'>
       <check card='+' diag='7|0|XTTE0505|match="x:like" mode="x:unshare-scenarios"'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='3'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <str val='Reference to ancestor scenario creates infinite loop.'/>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </check>
      </treat>
      <true/>
      <treat line='48' as='NE' diag='7|0|XTTE0505|match="x:like" mode="x:unshare-scenarios"'>
       <check card='+' diag='7|0|XTTE0505|match="x:like" mode="x:unshare-scenarios"'>
        <applyT flags='ct' bSlot='-1'>
         <conditionalSort role='select'>
          <fn name='exists'>
           <tail start='2'>
            <varRef name='Q{}scenario' slot='0'/>
           </tail>
          </fn>
          <docOrder intra='1'>
           <slash simple='2'>
            <varRef name='Q{}scenario' slot='0'/>
            <axis name='child' nodeTest='NE'/>
           </slash>
          </docOrder>
         </conditionalSort>
        </applyT>
       </check>
      </treat>
     </choose>
    </let>
   </templateRule>
   <templateRule prec='0' prio='0.5' seq='7' rank='1' minImp='0' slots='0' matches='NA nQ{}shared' flags='s' as='0' line='16' module='unshare-scenarios.xsl'>
    <p.withUpper role='match' axis='parent' upFirst='false'>
     <p.nodeTest test='NA nQ{}shared'/>
     <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    </p.withUpper>
    <empty role='action'/>
   </templateRule>
  </mode>
 </co>
 <co id='65' binds='54 54 65'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}gather-descriptions' line='13' module='gather-descriptions.xsl' eval='8' flags='pU' as='+NE nQ{http://www.jenitennison.com/xslt/xspec}description' slots='6'>
   <arg name='Q{}visit' as='+NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
   <tailCallLoop role='body' ns='local=urn:x-xspec:compiler:base:resolve-import:gather:gather-descriptions:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='33'>
    <let var='Q{}visited-actual-uris' as='+AU' slot='1' eval='4'>
     <check card='+' diag='3|0|XTTE0570|visited-actual-uris'>
      <forEach>
       <varRef name='Q{}visit' slot='0'/>
       <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}document-actual-uri' tailCall='false' bSlot='0' eval='16'>
        <root/>
       </ufCall>
      </forEach>
     </check>
     <let line='39' var='Q{}imported-except-visit' as='*NE nQ{http://www.jenitennison.com/xslt/xspec}description' slot='2' eval='3'>
      <filter line='18' flags='b'>
       <filter flags='b'>
        <let var='Q{}nodes' as='*N' slot='3' eval='4'>
         <forEach>
          <let var='Q{}nodes' as='*N' slot='4' eval='4'>
           <forEach>
            <let var='Q{}nodes' as='*N' slot='5' eval='4'>
             <forEach>
              <varRef name='Q{}visit' slot='0'/>
              <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}import'/>
             </forEach>
             <filter line='62' flags='pb'>
              <varRef name='Q{}nodes' slot='5'/>
              <fn name='empty'>
               <among op='among'>
                <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}import'/>
                <fn name='subsequence'>
                 <varRef name='Q{}nodes' slot='5'/>
                 <int val='1'/>
                 <arith op='-' calc='i-i'>
                  <fn name='position'/>
                  <int val='1'/>
                 </arith>
                </fn>
               </among>
              </fn>
             </filter>
            </let>
            <treat line='25' as='ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]' diag='2|0|XPDY0050|treat as'>
             <check card='1' diag='2|0|XPDY0050|treat as'>
              <fn name='document'>
               <axis name='attribute' nodeTest='NA nQ{}href'/>
              </fn>
             </check>
            </treat>
           </forEach>
           <filter line='62' flags='pb'>
            <varRef name='Q{}nodes' slot='4'/>
            <fn name='empty'>
             <among op='among'>
              <dot type='1ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]'/>
              <fn name='subsequence'>
               <varRef name='Q{}nodes' slot='4'/>
               <int val='1'/>
               <arith op='-' calc='i-i'>
                <fn name='position'/>
                <int val='1'/>
               </arith>
              </fn>
             </among>
            </fn>
           </filter>
          </let>
          <axis line='29' name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
         </forEach>
         <filter line='62' flags='pb'>
          <varRef name='Q{}nodes' slot='3'/>
          <fn name='empty'>
           <among op='among'>
            <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
            <fn name='subsequence'>
             <varRef name='Q{}nodes' slot='3'/>
             <int val='1'/>
             <arith op='-' calc='i-i'>
              <fn name='position'/>
              <int val='1'/>
             </arith>
            </fn>
           </among>
          </fn>
         </filter>
        </let>
        <fn line='39' name='empty'>
         <among op='among'>
          <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
          <varRef name='Q{}visit' slot='0'/>
         </among>
        </fn>
       </filter>
       <fn line='39' name='not'>
        <gcEE op='=' card='N:1' comp='CCC'>
         <varRef name='Q{}visited-actual-uris' slot='1'/>
         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}document-actual-uri' tailCall='false' bSlot='1' eval='16'>
          <root/>
         </ufCall>
        </gcEE>
       </fn>
      </filter>
      <choose line='42'>
       <fn name='empty'>
        <varRef name='Q{}imported-except-visit' slot='2'/>
       </fn>
       <varRef line='43' name='Q{}visit' slot='0'/>
       <true/>
       <ufCall line='46' name='Q{http://www.jenitennison.com/xslt/xspec}gather-descriptions' tailCall='self' bSlot='2' eval='11'>
        <sequence>
         <varRef name='Q{}visit' slot='0'/>
         <varRef name='Q{}imported-except-visit' slot='2'/>
        </sequence>
       </ufCall>
      </choose>
     </let>
    </let>
   </tailCallLoop>
  </function>
 </co>
 <co id='96' binds=''>
  <globalVariable name='Q{http://www.jenitennison.com/xslt/xspec}rep-namespace' as='1AU' line='16' module='namespace-utils.xsl' visibility='PRIVATE'>
   <atomic val='urn:x-xspec:common:report-sequence' type='AU'/>
  </globalVariable>
 </co>
 <co id='25' binds='87 5 87 5 89'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}perform-initial-check' cxt='1ND' flags='s' as='0' line='8' module='perform-initial-check.xsl' slots='0'>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='23' card='0' diag='7|0|XTTE0505|x:perform-initial-check'>
    <sequence>
     <check card='0' diag='7|0|XTTE0505|x:perform-initial-check'>
      <message>
       <choose role='select'>
        <gVarRef line='11' name='Q{http://saxon.sf.net/generated-variable}gg834562889' bSlot='0'/>
        <callT line='24' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='1'>
         <withParam name='Q{}level' flags='c' as='1AS'>
          <str val='WARNING'/>
         </withParam>
         <withParam name='Q{}message' flags='c' as='1AS'>
          <check line='26' card='1' diag='8|0|XTTE0590|message'>
           <gVarRef line='11' name='Q{http://saxon.sf.net/generated-variable}gg834562889' bSlot='2'/>
          </check>
         </withParam>
        </callT>
        <true/>
        <valueOf line='31'>
         <str val=' '/>
        </valueOf>
       </choose>
       <str role='terminate' val='no'/>
       <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
      </message>
     </check>
     <check line='37' card='0' diag='7|0|XTTE0505|x:perform-initial-check'>
      <sequence>
       <choose>
        <vc op='ne' onEmpty='1' comp='EQC'>
         <fn name='node-name'>
          <check card='?' diag='0|0||fn:node-name'>
           <axis name='child' nodeTest='NE'/>
          </check>
         </fn>
         <qName pre='x' uri='http://www.jenitennison.com/xslt/xspec' loc='description'/>
        </vc>
        <check line='39' card='0' diag='7|0|XTTE0505|x:perform-initial-check'>
         <message>
          <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='3'>
           <withParam name='Q{}message' flags='c' as='1ND'>
            <cvUntyped line='41' to='AS' diag='8|0|XTTE0590|message'>
             <data diag='8|0|XTTE0590|message'>
              <doc flags='t'>
               <valueOf flags='l'>
                <fn name='concat'>
                 <str val='Source document is not XSpec. /'/>
                 <str val='x:description'/>
                 <str val=' is missing. Supplied source has /'/>
                 <fn name='name'>
                  <check card='?' diag='0|0||fn:name'>
                   <axis name='child' nodeTest='NE'/>
                  </check>
                 </fn>
                 <str val=' instead.'/>
                </fn>
               </valueOf>
              </doc>
             </data>
            </cvUntyped>
           </withParam>
          </callT>
          <str role='terminate' val='yes'/>
          <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
         </message>
        </check>
       </choose>
       <callT line='47' name='Q{http://www.jenitennison.com/xslt/xspec}perform-initial-check-for-lang' bSlot='4' flags='t'/>
      </sequence>
     </check>
    </sequence>
   </check>
  </template>
 </co>
 <co id='26' binds='95 71 97 92 60'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}combine' line='8' module='combine.xsl' eval='16' flags='pU' as='1ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]' slots='5'>
   <arg name='Q{}specs' as='+N'/>
   <let role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='20' var='Q{}unshared-doc' as='1ND' slot='1' eval='16'>
    <treat line='21' as='ND' diag='3|0|XTTE0570|unshared-doc'>
     <check card='1' diag='3|0|XTTE0570|unshared-doc'>
      <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}unshare-scenarios' bSlot='0'>
       <doc role='select' line='14'>
        <varRef line='15' name='Q{}specs' slot='0'/>
       </doc>
      </applyT>
     </check>
    </treat>
    <let line='25' var='Q{}doc-with-id' as='1ND' slot='2' eval='16'>
     <treat line='26' as='ND' diag='3|0|XTTE0570|doc-with-id'>
      <check card='1' diag='3|0|XTTE0570|doc-with-id'>
       <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}assign-id' bSlot='1'>
        <varRef role='select' name='Q{}unshared-doc' slot='1'/>
       </applyT>
      </check>
     </treat>
     <let line='30' var='Q{}doc-maybe-focus-enforced' as='1ND' slot='3' eval='16'>
      <treat line='31' as='ND' diag='3|0|XTTE0570|doc-maybe-focus-enforced'>
       <check card='1' diag='3|0|XTTE0570|doc-maybe-focus-enforced'>
        <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}force-focus' bSlot='2'>
         <varRef role='select' name='Q{}doc-with-id' slot='2'/>
        </applyT>
       </check>
      </treat>
      <let line='35' var='Q{}combined-doc' as='1ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]' slot='4' eval='16'>
       <treat line='36' as='ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]' diag='3|0|XTTE0570|combined-doc'>
        <doc>
         <forEach line='37'>
          <gVarRef name='Q{http://saxon.sf.net/generated-variable}gg1010584177' bSlot='3'/>
          <compElem line='42' flags='Cl'>
           <fn role='name' name='local-name'>
            <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
           </fn>
           <convert role='namespace' from='AU' to='AS'>
            <fn name='namespace-uri'>
             <dot type='1NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
            </fn>
           </convert>
           <sequence role='content' line='50'>
            <axis name='attribute' nodeTest='NA u[NA nQ{}original-xspec,NA nQ{}schematron]'/>
            <axis line='54' name='attribute' nodeTest='NA u[NA nQ{}query,NA nQ{}xquery-version]'/>
            <axis line='59' name='attribute' nodeTest='NA nQ{}xslt-version'/>
            <forEach line='60'>
             <axis name='attribute' nodeTest='NA nQ{}stylesheet'/>
             <compAtt line='62' flags='l'>
              <fn role='name' name='local-name'>
               <dot type='1NA nQ{}stylesheet'/>
              </fn>
              <convert role='namespace' from='AU' to='AS'>
               <fn name='namespace-uri'>
                <dot type='1NA nQ{}stylesheet'/>
               </fn>
              </convert>
              <convert role='select' from='AU' to='AS'>
               <fn name='resolve-uri'>
                <cvUntyped to='AS'>
                 <data diag='0|0||fn:resolve-uri'>
                  <dot type='1NA nQ{}stylesheet'/>
                 </data>
                </cvUntyped>
                <check card='1' diag='0|1||fn:resolve-uri'>
                 <convert from='AU' to='AS'>
                  <fn name='base-uri'>
                   <dot type='1NA nQ{}stylesheet'/>
                  </fn>
                 </convert>
                </check>
               </fn>
              </convert>
             </compAtt>
            </forEach>
            <varRef line='65' name='Q{}doc-maybe-focus-enforced' slot='3'/>
           </sequence>
          </compElem>
         </forEach>
        </doc>
       </treat>
       <check line='72' card='1' diag='5|0|XTTE0780|x:combine#1'>
        <sequence>
         <treat as='ND e[NE nQ{http://www.jenitennison.com/xslt/xspec}description]' diag='5|0|XTTE0780|x:combine#1'>
          <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}check-combined-doc' bSlot='4'>
           <varRef role='select' name='Q{}combined-doc' slot='4'/>
          </applyT>
         </treat>
         <varRef line='73' name='Q{}combined-doc' slot='4'/>
        </sequence>
       </check>
      </let>
     </let>
    </let>
   </let>
  </function>
 </co>
 <co id='3' binds='2 13'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' line='64' module='declare-variable.xsl' eval='16' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}source-element' as='1NE'/>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='68' card='1' diag='5|0|XTTE0780|x:variable-UQName#1'>
    <forEach>
     <varRef name='Q{}source-element' slot='0'/>
     <choose line='70'>
      <fn name='exists'>
       <axis name='attribute' nodeTest='NA nQ{}name'/>
      </fn>
      <ufCall line='71' name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-EQName-ignoring-default-ns' tailCall='false' bSlot='0' eval='16 16'>
       <check card='1' diag='0|0||x:UQName-from-EQName-ignoring-default-ns'>
        <cvUntyped to='AS'>
         <attVal name='Q{}name' chk='0'/>
        </cvUntyped>
       </check>
       <dot type='1NE'/>
      </ufCall>
      <true/>
      <ufCall line='76' name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='1' eval='16'>
       <fn name='concat'>
        <str val='impl:'/>
        <fn name='local-name'>
         <dot type='1NE'/>
        </fn>
        <str val='-'/>
        <fn name='generate-id'>
         <dot type='1NE'/>
        </fn>
       </fn>
      </ufCall>
     </choose>
    </forEach>
   </check>
  </function>
 </co>
 <co id='67' binds='37 37 37 37 37'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}QName-expression' line='44' module='common-utils.xsl' eval='8' flags='pU' as='1AS' slots='1'>
   <arg name='Q{}qname' as='1AQ'/>
   <cvUntyped role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='53' to='AS' diag='5|0|XTTE0780|x:QName-expression#1'>
    <cast flags='a' as='1AZ'>
     <fn line='65' name='concat'>
      <str val='QName('/>
      <fn name='concat'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='0'/>
       <fn line='51' name='replace'>
        <convert from='AU' to='AS'>
         <fn name='namespace-uri-from-QName'>
          <varRef name='Q{}qname' slot='0'/>
         </fn>
        </convert>
        <gVarRef line='64' name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='1'/>
        <fn line='64' name='concat'>
         <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='2'/>
         <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='3'/>
        </fn>
        <str val=''/>
       </fn>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}apos' bSlot='4'/>
      </fn>
      <str val=', &#39;'/>
      <convert line='53' from='AQ' to='AS'>
       <varRef name='Q{}qname' slot='0'/>
      </convert>
      <str val='&#39;)'/>
     </fn>
    </cast>
   </cvUntyped>
  </function>
 </co>
 <co id='77' binds='15 13 3 10'>
  <template name='Q{urn:x-xspec:compiler:xslt:compile:compile-scenario:local}set-up-context' flags='o' as='+NE nQ{http://www.w3.org/1999/XSL/Transform}variable' line='388' module='compile-scenario.xsl' slots='1'>
   <sequence role='body' ns='=http://www.w3.org/1999/XSL/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='391'>
    <param name='Q{}context' slot='0' flags='tr' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}context'>
     <treat role='conversion' as='NE nQ{http://www.jenitennison.com/xslt/xspec}context' diag='8|0|XTTE0590|context'>
      <check card='1' diag='8|0|XTTE0590|context'>
       <supplied slot='0'/>
      </check>
     </treat>
    </param>
    <treat line='394' as='NE nQ{http://www.w3.org/1999/XSL/Transform}variable' diag='7|0|XTTE0505|local:set-up-context'>
     <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}declare-variable' bSlot='0'>
      <varRef role='select' name='Q{}context' slot='0'/>
     </applyT>
    </treat>
    <treat line='397' as='NE nQ{http://www.w3.org/1999/XSL/Transform}variable' diag='7|0|XTTE0505|local:set-up-context'>
     <compElem>
      <str role='name' val='xsl:variable'/>
      <convert role='namespace' from='AU' to='AS'>
       <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='3'/>
      </convert>
      <sequence role='content' line='398'>
       <att name='name' flags='l'>
        <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' tailCall='false' bSlot='1' eval='0'>
         <str val='x:context'/>
        </ufCall>
       </att>
       <att line='399' name='select' flags='l'>
        <fn name='concat'>
         <str val='$'/>
         <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='2' eval='1'>
          <varRef name='Q{}context' slot='0'/>
         </ufCall>
        </fn>
       </att>
      </sequence>
     </compElem>
    </treat>
   </sequence>
  </template>
 </co>
 <co id='98' binds=''>
  <function name='Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}param-dup-position-error-string' line='216' module='compile-child-scenarios-or-expects.xsl' eval='7' flags='pU' as='?AS' slots='2'>
   <arg name='Q{}owner' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}call'/>
   <let role='body' ns='local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='220' var='Q{}positions' as='*ADI' slot='1' eval='4'>
    <forEach>
     <slash simple='1'>
      <varRef name='Q{}owner' slot='0'/>
      <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
     </slash>
     <cast flags='ae' as='?ADI'>
      <attVal name='Q{}position' chk='0'/>
     </cast>
    </forEach>
    <check line='221' card='?' diag='5|0|XTTE0780|local:param-dup-position-error-string#1'>
     <cvUntyped to='AS' diag='5|0|XTTE0780|local:param-dup-position-error-string#1'>
      <data diag='5|0|XTTE0780|local:param-dup-position-error-string#1'>
       <forEach>
        <first>
         <filter flags='pb'>
          <varRef name='Q{}positions' slot='1'/>
          <gcEE op='=' card='N:1' comp='CAVC'>
           <fn name='subsequence'>
            <varRef name='Q{}positions' slot='1'/>
            <int val='1'/>
            <arith op='-' calc='i-i'>
             <fn name='position'/>
             <int val='1'/>
            </arith>
           </fn>
           <dot type='1ADI'/>
          </gcEE>
         </filter>
        </first>
        <valueOf line='222'>
         <fn name='concat'>
          <str val='Duplicate parameter position, '/>
          <convert from='ADI' to='AS'>
           <dot type='1ADI'/>
          </convert>
          <str val=', used in '/>
          <fn name='name'>
           <varRef name='Q{}owner' slot='0'/>
          </fn>
          <str val='.'/>
         </fn>
        </valueOf>
       </forEach>
      </data>
     </cvUntyped>
    </check>
   </let>
  </function>
 </co>
 <co id='13' binds='10 68 17 33 93 96'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}known-UQName' line='19' module='uqname-utils.xsl' eval='8' flags='pU' as='1AS' slots='2'>
   <arg name='Q{}lexical-qname' as='1AS'/>
   <let role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='22' var='Q{}prefix' as='1AS' slot='1' eval='8'>
    <fn name='substring-before'>
     <varRef name='Q{}lexical-qname' slot='0'/>
     <str val=':'/>
    </fn>
    <fn line='13' name='concat'>
     <str val='Q{'/>
     <treat line='27' as='AS' diag='3|0||namespace'>
      <check card='1' diag='3|0||namespace'>
       <switch>
        <varRef role='value' name='Q{}prefix' slot='1'/>
        <case>
         <str val='err'/>
         <str val='http://www.w3.org/2005/xqt-errors'/>
        </case>
        <case>
         <str val='saxon'/>
         <convert line='49' from='AU' to='AS' diag='3|0|XTTE0570|namespace'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}saxon-namespace' bSlot='3'/>
         </convert>
        </case>
        <case>
         <str val='svrl'/>
         <str val='http://purl.oclc.org/dsdl/svrl'/>
        </case>
        <case>
         <str val='output'/>
         <str val='http://www.w3.org/2010/xslt-xquery-serialization'/>
        </case>
        <case>
         <str val='xsl'/>
         <convert line='61' from='AU' to='AS' diag='3|0|XTTE0570|namespace'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xsl-namespace' bSlot='0'/>
         </convert>
        </case>
        <case>
         <str val='deq'/>
         <convert line='31' from='AU' to='AS' diag='3|0|XTTE0570|namespace'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}deq-namespace' bSlot='1'/>
         </convert>
        </case>
        <case>
         <str val='impl'/>
         <str val='urn:x-xspec:compile:impl'/>
        </case>
        <case>
         <str val='x'/>
         <convert line='55' from='AU' to='AS' diag='3|0|XTTE0570|namespace'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xspec-namespace' bSlot='2'/>
         </convert>
        </case>
        <case>
         <str val='xs'/>
         <convert line='58' from='AU' to='AS' diag='3|0|XTTE0570|namespace'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}xs-namespace' bSlot='4'/>
         </convert>
        </case>
        <case>
         <str val='rep'/>
         <convert line='46' from='AU' to='AS' diag='3|0|XTTE0570|namespace'>
          <gVarRef name='Q{http://www.jenitennison.com/xslt/xspec}rep-namespace' bSlot='5'/>
         </convert>
        </case>
        <case>
         <str val='config'/>
         <str val='http://saxon.sf.net/ns/configuration'/>
        </case>
        <case>
         <str val='map'/>
         <str val='http://www.w3.org/2005/xpath-functions/map'/>
        </case>
        <error role='default' message='Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the value of variable $namespace' code='XTTE0570' isTypeErr='0'/>
       </switch>
      </check>
     </treat>
     <str val='}'/>
     <fn line='23' name='substring-after'>
      <varRef name='Q{}lexical-qname' slot='0'/>
      <str val=':'/>
     </fn>
    </fn>
   </let>
  </function>
 </co>
 <co id='20' binds='5 56 50'>
  <template name='Q{http://www.jenitennison.com/xslt/xspec}invoke-compiled-child-scenarios-or-expects' cxt='1NE' flags='s' as='*N' line='15' module='invoke-compiled-child-scenarios-or-expects.xsl' slots='3'>
   <sequence role='body' ns='local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='22'>
    <param name='Q{}handled-child-vardecls' slot='0' flags='r' as='*NE'>
     <treat role='conversion' as='NE' diag='8|0|XTTE0590|handled-child-vardecls'>
      <supplied slot='0'/>
     </treat>
    </param>
    <let line='24' var='Q{}this' as='1NE' slot='1' eval='16'>
     <dot type='1NE'/>
     <sequence line='25'>
      <choose>
       <fn name='empty'>
        <filter flags='b'>
         <varRef name='Q{}this' slot='1'/>
         <fn name='exists'>
          <sequence>
           <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}description'/>
           <axis name='self' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
          </sequence>
         </fn>
        </filter>
       </fn>
       <treat line='27' as='N' diag='7|0|XTTE0505|x:invoke-compiled-child-scenarios-or-expects'>
        <message>
         <callT role='select' name='Q{http://www.jenitennison.com/xslt/xspec}prefix-diag-message' bSlot='0'>
          <withParam name='Q{}message' flags='c' as='1AS'>
           <str val='$this must be a description or a scenario'/>
          </withParam>
         </callT>
         <str role='terminate' val='yes'/>
         <str role='error' val='Q{http://www.w3.org/2005/xqt-errors}XTMM9000'/>
        </message>
       </treat>
      </choose>
      <let line='35' var='Q{}invocation-doc' as='1ND' slot='2' eval='16'>
       <doc line='36'>
        <applyT line='38' mode='Q{urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local}invoke-compiled-scenarios-or-expects' bSlot='1'>
         <except role='select' op='except'>
          <slash simple='1'>
           <varRef name='Q{}this' slot='1'/>
           <axis name='child' nodeTest='NE'/>
          </slash>
          <docOrder intra='0'>
           <varRef name='Q{}handled-child-vardecls' slot='0'/>
          </docOrder>
         </except>
        </applyT>
       </doc>
       <treat line='43' as='N' diag='7|0|XTTE0505|x:invoke-compiled-child-scenarios-or-expects'>
        <applyT mode='Q{http://www.jenitennison.com/xslt/xspec}group-invocation' flags='t' bSlot='2'>
         <varRef role='select' name='Q{}invocation-doc' slot='2'/>
        </applyT>
       </treat>
      </let>
     </sequence>
    </let>
   </sequence>
  </template>
 </co>
 <co id='97' binds='51 51'>
  <mode name='Q{http://www.jenitennison.com/xslt/xspec}force-focus' onNo='SC' flags='F' patternSlots='0'>
   <templateRule prec='0' prio='0.5' seq='4' rank='0' minImp='0' slots='0' matches='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' flags='s' as='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' line='15' module='force-focus.xsl'>
    <p.withPredicate role='match'>
     <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
     <gVarRef ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='15' name='Q{}force-focus' bSlot='0'/>
    </p.withPredicate>
    <treat role='action' ns='x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' line='17' as='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario' diag='7|0|XTTE0505|match="x:scenario[$force-focus]" mode="x:force-focus"'>
     <copy flags='cin' sit='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'>
      <sequence role='content'>
       <choose>
        <fn name='contains-token'>
         <gVarRef name='Q{}force-focus' bSlot='1'/>
         <check card='1' diag='0|1||fn:contains-token'>
          <cvUntyped to='AS'>
           <data diag='0|1||fn:contains-token'>
            <axis name='attribute' nodeTest='NA nQ{}id'/>
           </data>
          </cvUntyped>
         </check>
        </fn>
        <att line='18' name='focus' flags='l'>
         <str val='force focus'/>
        </att>
       </choose>
       <applyT line='20' flags='c' bSlot='-1'>
        <axis role='select' name='attribute' nodeTest='NA d[NA,NA nQ{}focus]'/>
       </applyT>
       <applyT line='22' flags='c' bSlot='-1'>
        <axis role='select' name='child' nodeTest='N'/>
       </applyT>
      </sequence>
     </copy>
    </treat>
   </templateRule>
  </mode>
 </co>
 <co id='33' binds=''>
  <globalVariable name='Q{http://www.jenitennison.com/xslt/xspec}saxon-namespace' as='1AU' line='21' module='namespace-utils.xsl' visibility='PRIVATE'>
   <atomic val='http://saxon.sf.net/' type='AU'/>
  </globalVariable>
 </co>
 <co id='41' binds='6'>
  <function name='Q{http://www.jenitennison.com/xslt/xspec}node-UQName' line='82' module='uqname-utils.xsl' eval='7' flags='pU' as='?AS' slots='1'>
   <arg name='Q{}node' as='1N'/>
   <check role='body' ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='85' card='?' diag='5|0|XTTE0780|x:node-UQName#1'>
    <forEach>
     <fn name='node-name'>
      <varRef name='Q{}node' slot='0'/>
     </fn>
     <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}UQName-from-QName' tailCall='false' bSlot='0' eval='16'>
      <dot type='1AQ'/>
     </ufCall>
    </forEach>
   </check>
  </function>
 </co>
 <overridden/>
 <key name='Q{http://saxon.sf.net/}kk102' line='0' binds='' flags='us'>
  <p.nodeSet test='NE nQ{http://www.w3.org/1999/XSL/Transform}call-template'>
   <axis ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='17' name='child' nodeTest='NE nQ{http://www.w3.org/1999/XSL/Transform}call-template'/>
  </p.nodeSet>
  <atomSing ns='=http://www.w3.org/1999/XSL/TransformAlias x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='17' card='?' diag='1|0||eq'>
   <axis name='child' nodeTest='NP nQ{}origin'/>
  </atomSing>
 </key>
 <key name='Q{urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local}scenarios' line='57' module='unshare-scenarios.xsl' slots='1' binds=''>
  <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
  <let ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='57' var='Q{}labelled' as='1NE' slot='0' eval='16'>
   <dot ns='local=urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local x=http://www.jenitennison.com/xslt/xspec xsl=~ xml=~' type='1NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
   <data module='compiler-misc-utils.xsl' line='13' diag='4|0||xsl:key/use'>
    <treat as='NE nQ{http://www.jenitennison.com/xslt/xspec}label' diag='5|0|XTTE0780|x:label#1'>
     <compElem>
      <str role='name' val='label'/>
      <convert role='namespace' from='AU' to='AS'>
       <fn name='namespace-uri'>
        <varRef name='Q{}labelled' slot='0'/>
       </fn>
      </convert>
      <valueOf role='content' line='14' flags='l'>
       <convert from='A' to='AS'>
        <data>
         <first>
          <sequence>
           <slash simple='1'>
            <varRef name='Q{}labelled' slot='0'/>
            <axis name='child' nodeTest='NE nQ{http://www.jenitennison.com/xslt/xspec}label'/>
           </slash>
           <slash simple='1'>
            <varRef name='Q{}labelled' slot='0'/>
            <axis name='attribute' nodeTest='NA nQ{}label'/>
           </slash>
          </sequence>
         </first>
        </data>
       </convert>
      </valueOf>
     </compElem>
    </treat>
   </data>
  </let>
 </key>
 <accumulator name='Q{}stacked-vardecls' line='0' as='*NE' streamable='0' slots='0' binds=''>
  <empty role='init'/>
  <pre slots='0'>
   <accRule slots='2' rank='0'>
    <p.venn op='union'>
     <p.withUpper axis='parent' upFirst='false'>
      <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
      <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
     </p.withUpper>
     <p.withUpper axis='parent' upFirst='false'>
      <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
      <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
     </p.withUpper>
    </p.venn>
    <sequence ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='51'>
     <supplied slot='0'/>
     <axis name='self' nodeTest='NE u[NE nQ{http://www.jenitennison.com/xslt/xspec}param,NE nQ{http://www.jenitennison.com/xslt/xspec}variable]'/>
    </sequence>
   </accRule>
  </pre>
  <post slots='0'>
   <accRule slots='2' rank='0'>
    <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    <except ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='55' op='except'>
     <docOrder intra='0'>
      <supplied slot='0'/>
     </docOrder>
     <axis name='child' nodeTest='NE u[NE nQ{http://www.jenitennison.com/xslt/xspec}param,NE nQ{http://www.jenitennison.com/xslt/xspec}variable]'/>
    </except>
   </accRule>
  </post>
 </accumulator>
 <accumulator name='Q{}stacked-vardecls-distinct-uqnames' line='0' as='*AS' streamable='0' slots='0' binds='82 3 82 3'>
  <empty role='init'/>
  <pre slots='0'>
   <accRule slots='2' rank='0'>
    <p.venn op='union'>
     <p.withUpper axis='parent' upFirst='false'>
      <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}param'/>
      <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
     </p.withUpper>
     <p.withUpper axis='parent' upFirst='false'>
      <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}variable'/>
      <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
     </p.withUpper>
    </p.venn>
    <ufCall ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='66' name='Q{http://www.jenitennison.com/xslt/xspec}distinct-strings-stable' tailCall='false' bSlot='0'>
     <forEach>
      <fn name='accumulator-before'>
       <str val='stacked-vardecls'/>
      </fn>
      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='1'>
       <dot type='1NE'/>
      </ufCall>
     </forEach>
    </ufCall>
   </accRule>
  </pre>
  <post slots='0'>
   <accRule slots='2' rank='0'>
    <p.nodeTest test='NE nQ{http://www.jenitennison.com/xslt/xspec}scenario'/>
    <ufCall ns='x=http://www.jenitennison.com/xslt/xspec xs=~ xsl=~ xml=~' line='71' name='Q{http://www.jenitennison.com/xslt/xspec}distinct-strings-stable' tailCall='false' bSlot='2'>
     <forEach>
      <fn name='accumulator-after'>
       <str val='stacked-vardecls'/>
      </fn>
      <ufCall name='Q{http://www.jenitennison.com/xslt/xspec}variable-UQName' tailCall='false' bSlot='3'>
       <dot type='1NE'/>
      </ufCall>
     </forEach>
    </ufCall>
   </accRule>
  </post>
 </accumulator>
 <output>
  <property name='indent' value='yes'/>
  <property name='Q{http://saxon.sf.net/}stylesheet-version' value='30'/>
 </output>
 <decimalFormat/>
</package>
<? b57d488?>
