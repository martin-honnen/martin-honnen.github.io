{"N":"package","when":"2024-04-21T19:14:25.028813+02:00","expiry":"2025-01-26","id":"0","version":"30","packageVersion":"1","saxonProduct":"SAXON-EE","saxonVersion":"12.4","buildDateTime":"2024-04-21T19:14:25.028813+02:00","target":"JS","targetVersion":"2","relocatable":"true","implicit":"true","C":[{"N":"glob","use":"opt","type":"document-node()"},{"N":"co","id":"0","binds":"1 2","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-child-scenarios-or-expects","cxt":"1NE","flags":"s","as":"*N","line":"13","module":"compile-child-scenarios-or-expects.xsl","slots":"1","C":[{"N":"let","role":"body","ns":"local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"17","var":"Q{}this","as":"1NE","slot":"0","C":[{"N":"dot","type":"1NE"},{"N":"sequence","line":"18","C":[{"N":"choose","C":[{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"fn","name":"exists","C":[{"N":"sequence","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]}]},{"N":"treat","line":"19","as":"N","diag":"7|0|XTTE0505|x:compile-child-scenarios-or-expects","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"20","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"$this must be a description or a scenario"}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"treat","line":"26","as":"N","diag":"7|0|XTTE0505|x:compile-child-scenarios-or-expects","C":[{"N":"applyT","mode":"Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}compile-scenarios-or-expects","flags":"t","bSlot":"1","C":[{"N":"slash","role":"select","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE"}]}]}]}]}]}]}]},{"N":"co","id":"3","binds":"4 4 5 5 6 7 7","C":[{"N":"mode","name":"Q{urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local}invoke-compiled-scenarios-or-expects","onNo":"DS","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"13","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}pending","flags":"s","as":"+N","line":"56","module":"invoke-compiled-child-scenarios-or-expects.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}pending"},{"N":"treat","role":"action","ns":"local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"57","as":"N","diag":"7|0|XTTE0505|match=\"x:pending\" mode=\"local:invoke-compiled-scenarios-or-expects\"","C":[{"N":"check","card":"+","diag":"7|0|XTTE0505|match=\"x:pending\" mode=\"local:invoke-compiled-scenarios-or-expects\"","C":[{"N":"applyT","flags":"ct","bSlot":"-1","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"16","part":"1","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable","flags":"s","as":"+N","line":"93","module":"invoke-compiled-child-scenarios-or-expects.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"},{"N":"treat","role":"action","ns":"local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"94","as":"N","diag":"7|0|XTTE0505|match=\"x:param | x:variable\" mode=\"local:invoke-compiled-scenarios-or-expects\"","C":[{"N":"check","card":"+","diag":"7|0|XTTE0505|match=\"x:param | x:variable\" mode=\"local:invoke-compiled-scenarios-or-expects\"","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","flags":"t","bSlot":"0","C":[{"N":"dot","role":"select","type":"1NE","flags":"a"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"16","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","flags":"s","as":"+N","line":"93","module":"invoke-compiled-child-scenarios-or-expects.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"treat","role":"action","ns":"local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"94","as":"N","diag":"7|0|XTTE0505|match=\"x:param | x:variable\" mode=\"local:invoke-compiled-scenarios-or-expects\"","C":[{"N":"check","card":"+","diag":"7|0|XTTE0505|match=\"x:param | x:variable\" mode=\"local:invoke-compiled-scenarios-or-expects\"","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","flags":"t","bSlot":"1","C":[{"N":"dot","role":"select","type":"1NE","flags":"a"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"14","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"+N","line":"63","module":"invoke-compiled-child-scenarios-or-expects.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"callT","role":"action","ns":"local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"65","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}invoke-compiled-current-scenario-or-expect","bSlot":"2","flags":"t","C":[{"N":"withParam","name":"Q{}with-param-uqnames","flags":"c","as":"*AS","C":[{"N":"fn","line":"67","name":"accumulator-before","C":[{"N":"str","val":"stacked-vardecls-distinct-uqnames"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"15","rank":"0","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"s","as":"+N","line":"74","module":"invoke-compiled-child-scenarios-or-expects.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"sequence","role":"action","ns":"local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"75","C":[{"N":"param","name":"Q{}context","slot":"0","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","diag":"8|0|XTTE0590|context","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|context","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"callT","line":"78","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}invoke-compiled-current-scenario-or-expect","bSlot":"3","flags":"t","C":[{"N":"withParam","name":"Q{}with-param-uqnames","flags":"c","as":"*AS","C":[{"N":"sequence","line":"80","C":[{"N":"choose","C":[{"N":"fn","name":"empty","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}reason-for-pending","tailCall":"false","bSlot":"4","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"a"}]}]},{"N":"sequence","line":"81","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}context","slot":"0"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"5","C":[{"N":"str","val":"x:context"}]}]},{"N":"ufCall","line":"82","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"6","C":[{"N":"str","val":"x:result"}]}]}]},{"N":"fn","line":"84","name":"accumulator-before","C":[{"N":"str","val":"stacked-vardecls-distinct-uqnames"}]}]}]}]}]}]}]}]},{"N":"co","id":"8","binds":"9 10 11 12 13","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}combine","line":"8","module":"combine.xsl","flags":"pU","as":"1ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]","slots":"5","C":[{"N":"arg","name":"Q{}specs","as":"+N"},{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"20","var":"Q{}unshared-doc","as":"1ND","slot":"1","C":[{"N":"treat","line":"21","as":"ND","diag":"3|0|XTTE0570|unshared-doc","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|unshared-doc","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}unshare-scenarios","bSlot":"0","C":[{"N":"doc","role":"select","line":"14","C":[{"N":"varRef","line":"15","name":"Q{}specs","slot":"0"}]}]}]}]},{"N":"let","line":"25","var":"Q{}doc-with-id","as":"1ND","slot":"2","C":[{"N":"treat","line":"26","as":"ND","diag":"3|0|XTTE0570|doc-with-id","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|doc-with-id","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}assign-id","bSlot":"1","C":[{"N":"varRef","role":"select","name":"Q{}unshared-doc","slot":"1"}]}]}]},{"N":"let","line":"30","var":"Q{}doc-maybe-focus-enforced","as":"1ND","slot":"3","C":[{"N":"treat","line":"31","as":"ND","diag":"3|0|XTTE0570|doc-maybe-focus-enforced","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|doc-maybe-focus-enforced","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}force-focus","bSlot":"2","C":[{"N":"varRef","role":"select","name":"Q{}doc-with-id","slot":"2"}]}]}]},{"N":"let","line":"35","var":"Q{}combined-doc","as":"1ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]","slot":"4","C":[{"N":"treat","line":"36","as":"ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]","diag":"3|0|XTTE0570|combined-doc","C":[{"N":"doc","C":[{"N":"forEach","line":"37","C":[{"N":"gVarRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg1850680894","bSlot":"3"},{"N":"compElem","line":"42","flags":"Cl","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]}]},{"N":"sequence","role":"content","line":"50","C":[{"N":"axis","name":"attribute","nodeTest":"NA u[NA nQ{}original-xspec,NA nQ{}schematron]"},{"N":"axis","line":"54","name":"attribute","nodeTest":"NA u[NA nQ{}query,NA nQ{}xquery-version]"},{"N":"axis","line":"59","name":"attribute","nodeTest":"NA nQ{}xslt-version"},{"N":"forEach","line":"60","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}stylesheet"},{"N":"compAtt","line":"62","flags":"l","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NA nQ{}stylesheet"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA nQ{}stylesheet"}]}]},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"resolve-uri","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||fn:resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:resolve-uri","C":[{"N":"data","diag":"0|0||fn:resolve-uri","C":[{"N":"dot","type":"1NA nQ{}stylesheet"}]}]}]},{"N":"check","card":"1","diag":"0|1||fn:resolve-uri","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|1||fn:resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||fn:resolve-uri","C":[{"N":"fn","name":"base-uri","C":[{"N":"dot","type":"1NA nQ{}stylesheet"}]}]}]}]}]}]}]}]},{"N":"varRef","line":"65","name":"Q{}doc-maybe-focus-enforced","slot":"3"}]}]}]}]}]},{"N":"check","line":"72","card":"1","diag":"5|0|XTTE0780|x:combine#1","C":[{"N":"sequence","C":[{"N":"treat","as":"ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]","diag":"5|0|XTTE0780|x:combine#1","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}check-combined-doc","bSlot":"4","C":[{"N":"varRef","role":"select","name":"Q{}combined-doc","slot":"4"}]}]},{"N":"varRef","line":"73","name":"Q{}combined-doc","slot":"4"}]}]}]}]}]}]}]}]},{"N":"co","id":"2","binds":"6 14 1 1 15 6 16 7 7","C":[{"N":"mode","name":"Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}compile-scenarios-or-expects","onNo":"DS","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"9","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}pending","flags":"s","as":"+N","line":"40","module":"compile-child-scenarios-or-expects.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}pending"},{"N":"treat","role":"action","ns":"local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"41","as":"N","diag":"7|0|XTTE0505|match=\"x:pending\" mode=\"local:compile-scenarios-or-expects\"","C":[{"N":"check","card":"+","diag":"7|0|XTTE0505|match=\"x:pending\" mode=\"local:compile-scenarios-or-expects\"","C":[{"N":"applyT","flags":"ct","bSlot":"-1","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"10","rank":"0","minImp":"0","slots":"18","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"+N","line":"47","module":"compile-child-scenarios-or-expects.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"sequence","role":"action","ns":"local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"48","C":[{"N":"param","name":"Q{}apply","slot":"0","flags":"t","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply","diag":"8|0|XTTE0590|apply","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|apply","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"param","line":"49","name":"Q{}call","slot":"1","flags":"t","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","diag":"8|0|XTTE0590|call","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|call","C":[{"N":"supplied","slot":"1"}]}]}]},{"N":"param","line":"50","name":"Q{}context","slot":"2","flags":"t","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"empty","role":"select"},{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","diag":"8|0|XTTE0590|context","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|context","C":[{"N":"supplied","slot":"2"}]}]}]},{"N":"let","line":"52","var":"Q{}reason-for-pending","as":"?AS","slot":"3","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}reason-for-pending","tailCall":"false","bSlot":"0","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"a"}]},{"N":"let","line":"55","var":"Q{}new-apply","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply","slot":"4","C":[{"N":"choose","line":"56","C":[{"N":"fn","line":"57","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply"}]},{"N":"treat","line":"58","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply","diag":"3|0|XTTE0570|new-apply","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|new-apply","C":[{"N":"forEach","C":[{"N":"check","card":"?","diag":"4|0|XTTE3180|xsl:copy\/select","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply"}]},{"N":"copy","flags":"cin","sit":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply","C":[{"N":"sequence","role":"content","line":"59","C":[{"N":"forEach","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}apply","slot":"0"},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply"}]},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"let","line":"61","var":"Q{}local-params","as":"*NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","slot":"5","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"let","line":"65","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"*AZ","slot":"6","flags":"l","C":[{"N":"data","diag":"1|1||=","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}local-params","slot":"5"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}name"}]}]},{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}apply","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"6"},{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"varRef","name":"Q{}local-params","slot":"5"}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"varRef","line":"70","name":"Q{}apply","slot":"0"}]},{"N":"let","line":"76","var":"Q{}new-context","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","slot":"7","C":[{"N":"choose","line":"77","C":[{"N":"fn","line":"78","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]},{"N":"treat","line":"79","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","diag":"3|0|XTTE0570|new-context","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|new-context","C":[{"N":"forEach","C":[{"N":"check","card":"?","diag":"4|0|XTTE3180|xsl:copy\/select","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]},{"N":"copy","flags":"cin","sit":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"sequence","role":"content","line":"80","C":[{"N":"forEach","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"let","line":"82","var":"Q{}local-params","as":"*NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","slot":"8","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"let","line":"86","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","as":"*AZ","slot":"9","flags":"l","C":[{"N":"data","diag":"1|1||=","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}local-params","slot":"8"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}name"}]}]},{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","slot":"9"},{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"varRef","name":"Q{}local-params","slot":"8"},{"N":"choose","line":"93","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"N d[N u[NE,NP,NT,NC],NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param]"}]},{"N":"axis","name":"child","nodeTest":"N d[N u[NE,NP,NT,NC],NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param]"},{"N":"true"},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"axis","name":"child","nodeTest":"N d[N u[NE,NP,NT,NC],NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param]"}]}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"varRef","line":"97","name":"Q{}context","slot":"2"}]},{"N":"let","line":"103","var":"Q{}new-call","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","slot":"10","C":[{"N":"choose","line":"104","C":[{"N":"fn","line":"105","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]},{"N":"treat","line":"106","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","diag":"3|0|XTTE0570|new-call","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|new-call","C":[{"N":"forEach","C":[{"N":"check","card":"?","diag":"4|0|XTTE3180|xsl:copy\/select","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]},{"N":"copy","flags":"cin","sit":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"sequence","role":"content","line":"107","C":[{"N":"forEach","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"let","line":"110","var":"Q{}is-function-call","as":"1AB","slot":"11","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"2","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}function"}]}]},{"N":"let","line":"111","var":"Q{}local-params","as":"*NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","slot":"12","C":[{"N":"treat","line":"112","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","diag":"3|0|XTTE0570|local-params","C":[{"N":"forEach","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"copy","line":"113","flags":"cin","sit":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","C":[{"N":"sequence","role":"content","line":"114","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}is-function-call","slot":"11"},{"N":"att","line":"115","name":"position","flags":"l","C":[{"N":"convert","from":"ADI","to":"AS","C":[{"N":"fn","name":"position"}]}]}]},{"N":"axis","line":"117","name":"attribute","nodeTest":"NA"},{"N":"axis","line":"117","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]},{"N":"let","line":"127","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v3","as":"*AZ","slot":"13","flags":"l","C":[{"N":"data","diag":"1|1||=","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}local-params","slot":"12"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}position"}]}]},{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v2","as":"*AZ","slot":"14","flags":"l","C":[{"N":"data","diag":"1|1||=","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}local-params","slot":"12"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}name"}]}]},{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"and","op":"and","C":[{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v2","slot":"14"},{"N":"attVal","name":"Q{}name"}]}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v3","slot":"13"},{"N":"attVal","name":"Q{}position"}]}]}]}]},{"N":"varRef","name":"Q{}local-params","slot":"12"}]}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"varRef","line":"132","name":"Q{}call","slot":"1"}]},{"N":"let","line":"143","var":"Q{}dup-param-error-string","as":"?AS","slot":"15","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"forEach","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}new-apply","slot":"4"},{"N":"varRef","name":"Q{}new-call","slot":"10"},{"N":"varRef","name":"Q{}new-context","slot":"7"}]},{"N":"ufCall","name":"Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}param-dup-name-error-string","tailCall":"false","bSlot":"1","C":[{"N":"dot","type":"1NE"}]}]},{"N":"forEach","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}new-call","slot":"10"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}function"}]}]},{"N":"let","var":"Q{}owner","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","slot":"16","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"},{"N":"let","line":"220","var":"Q{}positions","as":"*ADI","slot":"17","C":[{"N":"forEach","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}owner","slot":"16"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"cast","flags":"ae","as":"?ADI","C":[{"N":"attVal","name":"Q{}position"}]}]},{"N":"check","line":"221","card":"?","diag":"5|0|XTTE0780|local:param-dup-position-error-string#1","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"5|0|XTTE0780|local:param-dup-position-error-string#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|local:param-dup-position-error-string#1","C":[{"N":"data","diag":"5|0|XTTE0780|local:param-dup-position-error-string#1","C":[{"N":"forEach","C":[{"N":"first","C":[{"N":"filter","flags":"pb","C":[{"N":"varRef","name":"Q{}positions","slot":"17"},{"N":"gc","op":"=","card":"N:1","comp":"CAVC","C":[{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}positions","slot":"17"},{"N":"int","val":"1"},{"N":"arith","op":"-","calc":"i-i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]},{"N":"dot","type":"1ADI"}]}]}]},{"N":"valueOf","line":"222","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Duplicate parameter position, "},{"N":"convert","from":"ADI","to":"AS","C":[{"N":"dot","type":"1ADI"}]},{"N":"str","val":", used in "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}owner","slot":"16"}]},{"N":"str","val":"."}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"sequence","line":"144","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}dup-param-error-string","slot":"15"},{"N":"treat","line":"145","as":"N","diag":"7|0|XTTE0505|match=\"x:scenario\" mode=\"local:compile-scenarios-or-expects\"","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"146","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"2","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"check","line":"147","card":"1","diag":"8|0|XTTE0590|message","C":[{"N":"varRef","name":"Q{}dup-param-error-string","slot":"15"}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"choose","line":"154","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}new-apply","slot":"4"}]},{"N":"treat","line":"155","as":"N","diag":"7|0|XTTE0505|match=\"x:scenario\" mode=\"local:compile-scenarios-or-expects\"","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"156","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"3","C":[{"N":"withParam","name":"Q{}level","flags":"c","as":"1AS","C":[{"N":"str","val":"WARNING"}]},{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"159","from":"AZ","to":"AS","flags":"p","diag":"8|1|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|1|XTTE0590|message","C":[{"N":"data","diag":"8|1|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"valueOf","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"The instruction "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}new-apply","slot":"4"}]},{"N":"str","val":" is not supported yet!"}]}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"callT","line":"166","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-scenario","bSlot":"4","flags":"t","C":[{"N":"withParam","name":"Q{}reason-for-pending","flags":"c","as":"?AS","C":[{"N":"varRef","line":"170","name":"Q{}reason-for-pending","slot":"3"}]},{"N":"withParam","name":"Q{}run-sut-now","flags":"c","as":"1AB","C":[{"N":"and","line":"171","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"3"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]}]},{"N":"withParam","name":"Q{}apply","flags":"t","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply","C":[{"N":"varRef","line":"167","name":"Q{}new-apply","slot":"4"}]},{"N":"withParam","name":"Q{}call","flags":"t","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"varRef","line":"168","name":"Q{}new-call","slot":"10"}]},{"N":"withParam","name":"Q{}context","flags":"t","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"varRef","line":"169","name":"Q{}new-context","slot":"7"}]}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"11","rank":"0","minImp":"0","slots":"3","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"s","as":"+N","line":"178","module":"compile-child-scenarios-or-expects.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"sequence","role":"action","ns":"local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"179","C":[{"N":"param","name":"Q{}call","slot":"0","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","diag":"8|0|XTTE0590|call","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|call","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"param","line":"180","name":"Q{}context","slot":"1","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","diag":"8|0|XTTE0590|context","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|context","C":[{"N":"supplied","slot":"1"}]}]}]},{"N":"let","line":"182","var":"Q{}reason-for-pending","as":"?AS","slot":"2","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}reason-for-pending","tailCall":"false","bSlot":"5","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"a"}]},{"N":"callT","line":"185","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-expect","bSlot":"6","flags":"t","C":[{"N":"withParam","name":"Q{}reason-for-pending","flags":"c","as":"?AS","C":[{"N":"varRef","line":"188","name":"Q{}reason-for-pending","slot":"2"}]},{"N":"withParam","name":"Q{}param-uqnames","flags":"c","as":"*AS","C":[{"N":"sequence","line":"190","C":[{"N":"choose","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"2"}]},{"N":"sequence","line":"191","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}context","slot":"1"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"7","C":[{"N":"str","val":"x:context"}]}]},{"N":"ufCall","line":"192","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"8","C":[{"N":"str","val":"x:result"}]}]}]},{"N":"fn","line":"194","name":"accumulator-before","C":[{"N":"str","val":"stacked-vardecls-distinct-uqnames"}]}]}]},{"N":"withParam","name":"Q{}call","flags":"t","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"varRef","line":"186","name":"Q{}call","slot":"0"}]},{"N":"withParam","name":"Q{}context","flags":"t","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"varRef","line":"187","name":"Q{}context","slot":"1"}]}]}]}]}]}]}]},{"N":"co","id":"17","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-QName","line":"72","module":"uqname-utils.xsl","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}qname","as":"1AQ"},{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"76","card":"1","diag":"5|0|XTTE0780|x:UQName-from-QName#1","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}qname","slot":"0"},{"N":"fn","line":"13","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Q{"},{"N":"convert","line":"76","from":"AU","to":"AS","flags":"p","diag":"0|0||x:UQName","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"dot","type":"1AQ"}]}]}]}]},{"N":"str","val":"}"}]},{"N":"check","line":"76","card":"1","diag":"0|1||x:UQName","C":[{"N":"fn","name":"local-name-from-QName","C":[{"N":"dot","type":"1AQ"}]}]}]}]}]}]}]},{"N":"co","id":"18","binds":"19 19 19 19 19","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}QName-expression","line":"44","module":"common-utils.xsl","flags":"pU","as":"1AS","slots":"2","C":[{"N":"arg","name":"Q{}qname","as":"1AQ"},{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"51","var":"Q{}quoted-uri","as":"1AS","slot":"1","C":[{"N":"fn","line":"65","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"0"},{"N":"fn","line":"51","name":"replace","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|0||x:quote-with-apos","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:quote-with-apos","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}qname","slot":"0"}]}]}]},{"N":"gVarRef","line":"64","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"1"},{"N":"fn","line":"64","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"2"},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"3"}]},{"N":"str","val":""}]}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"4"}]},{"N":"convert","line":"53","from":"AZ","to":"AS","flags":"p","diag":"5|0|XTTE0780|x:QName-expression#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|x:QName-expression#1","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"QName("},{"N":"varRef","name":"Q{}quoted-uri","slot":"1"},{"N":"str","val":", '"},{"N":"convert","from":"AQ","to":"AS","C":[{"N":"varRef","name":"Q{}qname","slot":"0"}]},{"N":"str","val":"')"}]}]}]}]}]}]}]},{"N":"co","id":"11","binds":"20 20","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}force-focus","onNo":"SC","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.5","seq":"4","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","line":"15","module":"force-focus.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"gVarRef","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"15","name":"Q{}force-focus","bSlot":"0"}]},{"N":"treat","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"16","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","diag":"7|0|XTTE0505|match=\"x:scenario[$force-focus]\" mode=\"x:force-focus\"","C":[{"N":"copy","flags":"cin","sit":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","C":[{"N":"sequence","role":"content","line":"17","C":[{"N":"choose","C":[{"N":"fn","name":"contains-token","C":[{"N":"gVarRef","name":"Q{}force-focus","bSlot":"1"},{"N":"check","card":"1","diag":"0|1||fn:contains-token","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|1||fn:contains-token","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||fn:contains-token","C":[{"N":"data","diag":"0|1||fn:contains-token","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"}]}]}]}]}]},{"N":"att","line":"18","name":"focus","flags":"l","C":[{"N":"str","val":"force focus"}]}]},{"N":"applyT","line":"20","flags":"c","bSlot":"-1","C":[{"N":"axis","role":"select","name":"attribute","nodeTest":"NA d[NA,NA nQ{}focus]"}]},{"N":"applyT","line":"22","flags":"c","bSlot":"-1","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"}]}]}]}]}]}]}]},{"N":"co","id":"21","binds":"22","C":[{"N":"globalVariable","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg935520971","as":"1AB","line":"124","module":"main.xsl","visibility":"PRIVATE","C":[{"N":"vc","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"124","op":"lt","onEmpty":"0","comp":"CAVC","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}saxon-version","bSlot":"0"},{"N":"arith","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"version-utils.xsl","line":"56","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","line":"54","op":"+","calc":"i+i","C":[{"N":"int","val":"589824"},{"N":"first","line":"50","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"4","C":[{"N":"int","val":"9"},{"N":"int","val":"9"},{"N":"int","val":"1"},{"N":"int","val":"1"}]},{"N":"int","val":"2"}]},{"N":"int","val":"0"}]}]}]},{"N":"int","val":"65536"}]},{"N":"int","val":"65536"}]},{"N":"arith","line":"51","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"4","C":[{"N":"int","val":"9"},{"N":"int","val":"9"},{"N":"int","val":"1"},{"N":"int","val":"1"}]},{"N":"int","val":"3"}]},{"N":"int","val":"0"}]}]},{"N":"int","val":"65536"}]},{"N":"first","line":"52","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"4","C":[{"N":"int","val":"9"},{"N":"int","val":"9"},{"N":"int","val":"1"},{"N":"int","val":"1"}]},{"N":"int","val":"4"}]},{"N":"int","val":"0"}]}]}]}]}]}]}]},{"N":"co","id":"23","binds":"","C":[{"N":"globalVariable","name":"Q{urn:x-xspec:compiler:base:util:compiler-eqname-utils:local}capture-NCName","as":"1AS","line":"81","module":"compiler-eqname-utils.xsl","visibility":"PRIVATE","C":[{"N":"str","val":"([\\i-[:]][\\c-[:]]*)"}]}]},{"N":"co","id":"24","binds":"1","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}group-invocation","onNo":"SC","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"29","rank":"0","minImp":"0","slots":"3","matches":"ND","flags":"s","as":"*NE","line":"14","module":"group-invocation.xsl","C":[{"N":"p.nodeTest","role":"match","test":"ND"},{"N":"let","role":"action","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"17","var":"Q{}scenario-invokers","as":"*NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template","slot":"0","C":[{"N":"filter","flags":"","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template"},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"atomSing","card":"?","diag":"1|0||eq","C":[{"N":"axis","name":"child","nodeTest":"NP nQ{}origin"}]},{"N":"str","val":"scenario"}]}]},{"N":"let","line":"26","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","as":"?NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template","slot":"1","flags":"l","C":[{"N":"lastOf","C":[{"N":"varRef","name":"Q{}scenario-invokers","slot":"0"}]},{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"?NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template","slot":"2","flags":"l","C":[{"N":"first","C":[{"N":"varRef","name":"Q{}scenario-invokers","slot":"0"}]},{"N":"sequence","C":[{"N":"treat","as":"NE","diag":"7|0|XTTE0505|match=\"document-node()\" mode=\"x:group-invocation\"","C":[{"N":"forEach","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"},{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"among","op":"among","C":[{"N":"dot","type":"1N u[NE,NP,NT,NC]"},{"N":"varRef","name":"Q{}scenario-invokers","slot":"0"}]}]},{"N":"follows","op":">>","C":[{"N":"dot","type":"1N u[NE,NP,NT,NC]"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"2"}]}]},{"N":"follows","op":">>","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","slot":"1"},{"N":"dot","type":"1N u[NE,NP,NT,NC]"}]}]}]},{"N":"message","line":"27","C":[{"N":"callT","role":"select","line":"28","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Unexpected node between invocation instructions of compiled scenario."}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"treat","line":"42","as":"NE","diag":"7|0|XTTE0505|match=\"document-node()\" mode=\"x:group-invocation\"","C":[{"N":"forEachGroup","algorithm":"adjacent","C":[{"N":"treat","role":"select","as":"NE","diag":"2|0|XPDY0050|treat as","C":[{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"choose","role":"key","C":[{"N":"fn","name":"exists","C":[{"N":"among","op":"among","C":[{"N":"dot","type":"1NE"},{"N":"varRef","name":"Q{}scenario-invokers","slot":"0"}]}]},{"N":"int","val":"0"},{"N":"true"},{"N":"fn","name":"position"}]},{"N":"str","role":"collation","val":"http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint"},{"N":"applyT","role":"content","line":"43","flags":"c","bSlot":"-1","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"30","rank":"1","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template","flags":"s","as":"+NE","line":"48","module":"group-invocation.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template"},{"N":"vc","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"48","op":"eq","comp":"CCC","C":[{"N":"atomSing","card":"?","diag":"1|0||eq","C":[{"N":"axis","name":"child","nodeTest":"NP nQ{}origin"}]},{"N":"str","val":"scenario"}]}]},{"N":"let","role":"action","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"49","var":"Q{}child-scenario-count","as":"1ADI","slot":"0","C":[{"N":"fn","name":"count","C":[{"N":"currentGroup"}]},{"N":"elem","line":"51","name":"xsl:for-each","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"1 to "},{"N":"convert","from":"ADI","to":"AS","C":[{"N":"varRef","name":"Q{}child-scenario-count","slot":"0"}]}]}]},{"N":"elem","line":"58","name":"xsl:choose","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"59","C":[{"N":"forEach","C":[{"N":"currentGroup"},{"N":"elem","line":"60","name":"xsl:when","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":". eq "},{"N":"convert","from":"ADI","to":"AS","C":[{"N":"fn","name":"position"}]}]}]},{"N":"copy","line":"62","flags":"cinl","sit":"1","C":[{"N":"sequence","role":"content","line":"63","C":[{"N":"applyT","flags":"c","bSlot":"-1","C":[{"N":"slash","role":"select","simple":"1","C":[{"N":"treat","as":"N","diag":"14|2|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"attribute","nodeTest":"NA"}]}]},{"N":"applyT","line":"65","flags":"c","bSlot":"-1","C":[{"N":"except","role":"select","op":"except","C":[{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"14|3|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"slash","simple":"1","C":[{"N":"treat","as":"N","diag":"14|3|XPTY0020|","C":[{"N":"dot"}]},{"N":"axis","name":"child","nodeTest":"NP nQ{}origin"}]}]}]}]}]}]}]}]},{"N":"elem","line":"69","name":"xsl:otherwise","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"elem","line":"70","name":"xsl:message","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"terminate","flags":"l","C":[{"N":"str","val":"yes"}]},{"N":"valueOf","line":"71","flags":"l","C":[{"N":"str","val":"ERROR: Unhandled scenario invocation"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"25","binds":"26 26 1","C":[{"N":"template","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-conflicting-vardecl","cxt":"1NE","flags":"s","as":"0","line":"129","module":"check-combined-doc.xsl","slots":"7","C":[{"N":"let","role":"body","ns":"local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"134","var":"Q{}uqname","as":"1AS","slot":"0","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"0","C":[{"N":"dot","type":"1NE"}]},{"N":"let","line":"139","var":"Q{}visible-description-vardecls","as":"*NE","slot":"1","C":[{"N":"except","op":"except","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"axis","name":"child","nodeTest":"NE u[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param,NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable]"}]},{"N":"dot","type":"1NE"}]},{"N":"let","line":"145","var":"Q{}visible-vardecls","as":"*NE","slot":"2","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"docOrder","intra":"0","C":[{"N":"varRef","name":"Q{}visible-description-vardecls","slot":"1"}]},{"N":"docOrder","intra":"0","C":[{"N":"fn","name":"accumulator-before","C":[{"N":"str","val":"stacked-vardecls"}]}]}]},{"N":"union","op":"|","C":[{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE"},{"N":"axis","name":"preceding-sibling","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE"},{"N":"axis","name":"preceding-sibling","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"}]}]}]}]},{"N":"let","line":"158","var":"Q{}conflicts-with","as":"?NE","slot":"3","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"except","op":"except","C":[{"N":"docOrder","intra":"0","C":[{"N":"varRef","name":"Q{}visible-vardecls","slot":"2"}]},{"N":"let","line":"153","var":"Q{http:\/\/saxon.sf.net\/generated-variable}current2075206151","as":"1","slot":"4","C":[{"N":"dot","type":"1NE"},{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","as":"1AB","slot":"5","flags":"l","C":[{"N":"fn","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current2075206151","slot":"4"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]}]}]},{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"?AQ","slot":"6","flags":"l","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current2075206151","slot":"4"}]},{"N":"except","op":"except","C":[{"N":"docOrder","intra":"0","C":[{"N":"filter","flags":"","C":[{"N":"varRef","name":"Q{}visible-vardecls","slot":"2"},{"N":"vc","op":"eq","comp":"EQC","C":[{"N":"fn","name":"node-name","C":[{"N":"dot","type":"1NE"}]},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"6"}]}]}]},{"N":"docOrder","intra":"0","C":[{"N":"filter","flags":"ib","C":[{"N":"varRef","name":"Q{}visible-description-vardecls","slot":"1"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","slot":"5"}]}]}]}]}]}]}]},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"1","C":[{"N":"dot","type":"1NE"}]},{"N":"varRef","name":"Q{}uqname","slot":"0"}]}]}]},{"N":"choose","line":"161","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}conflicts-with","slot":"3"}]},{"N":"check","line":"162","card":"0","diag":"7|0|XTTE0505|local:detect-conflicting-vardecl","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"163","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"2","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"165","from":"AZ","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}conflicts-with","slot":"3"},{"N":"valueOf","line":"166","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Name conflicts with "},{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE"}]},{"N":"str","val":" (named "},{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}name"}]}]},{"N":"str","val":")"}]}]}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"27","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}right-trim","line":"18","module":"trim.xsl","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}input","as":"1AS"},{"N":"fn","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"21","name":"replace","C":[{"N":"varRef","name":"Q{}input","slot":"0"},{"N":"str","val":"\\s+$"},{"N":"str","val":""},{"N":"str","val":""}]}]}]},{"N":"co","id":"28","binds":"1","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}generate-id","onNo":"FF","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"5","rank":"0","minImp":"0","slots":"2","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"1AS","line":"20","module":"generate-id.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"check","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"22","card":"1","diag":"7|0|XTTE0505|match=\"x:scenario\" mode=\"x:generate-id\"","C":[{"N":"sequence","C":[{"N":"choose","C":[{"N":"fn","name":"empty","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xspec"}]},{"N":"convert","line":"23","from":"A","to":"AS","flags":"p","diag":"7|0|XTTE0505|match=\"x:scenario\" mode=\"x:generate-id\"","C":[{"N":"cvUntyped","to":"AS","diag":"7|0|XTTE0505|match=\"x:scenario\" mode=\"x:generate-id\"","C":[{"N":"data","diag":"7|0|XTTE0505|match=\"x:scenario\" mode=\"x:generate-id\"","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"24","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"@xspec not exist when generating ID."}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]}]},{"N":"fn","line":"50","name":"string-join","C":[{"N":"check","line":"31","card":"+","diag":"3|0|XTTE0570|ancestor-or-self-tokens","C":[{"N":"forEach","C":[{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"a"},{"N":"axis","name":"ancestor-or-self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]},{"N":"let","line":"39","var":"Q{}parent-document-node-or-scenario","as":"1N u[NE,ND]","slot":"0","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|parent-document-node-or-scenario","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"axis","name":"ancestor","nodeTest":"N u[NE,ND]"}]},{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"ND"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]}]}]},{"N":"fn","line":"46","name":"concat","C":[{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"arith","op":"+","calc":"i+i","C":[{"N":"fn","name":"count","C":[{"N":"let","line":"44","var":"Q{http:\/\/saxon.sf.net\/generated-variable}current285014873","as":"1","slot":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}parent-document-node-or-scenario","slot":"0"},{"N":"axis","name":"descendant","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"and","op":"and","C":[{"N":"follows","op":">>","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current285014873","slot":"1"},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"is","op":"is","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor","nodeTest":"N u[NE,ND]"},{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"ND"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]}]},{"N":"varRef","name":"Q{}parent-document-node-or-scenario","slot":"0"}]}]}]}]}]},{"N":"int","val":"1"}]}]}]}]}]},{"N":"str","val":"-"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"6","rank":"0","minImp":"0","slots":"3","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"s","as":"1AS","line":"53","module":"generate-id.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"let","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"55","var":"Q{}scenario","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","slot":"0","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|scenario","C":[{"N":"first","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"a"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]},{"N":"let","line":"61","var":"Q{}scenario-id","as":"1AS","slot":"1","C":[{"N":"check","line":"62","card":"1","diag":"3|0|XTTE0570|scenario-id","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|scenario-id","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|scenario-id","C":[{"N":"data","diag":"3|0|XTTE0570|scenario-id","C":[{"N":"applyT","flags":"c","bSlot":"-1","C":[{"N":"varRef","role":"select","name":"Q{}scenario","slot":"0"}]}]}]}]}]},{"N":"fn","line":"65","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"varRef","name":"Q{}scenario-id","slot":"1"},{"N":"str","val":"-"}]},{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"a"}]}]},{"N":"arith","op":"+","calc":"i+i","C":[{"N":"fn","name":"count","C":[{"N":"let","line":"59","var":"Q{http:\/\/saxon.sf.net\/generated-variable}current-288843903","as":"1","slot":"2","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"a"},{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}scenario","slot":"0"},{"N":"axis","name":"descendant","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"and","op":"and","C":[{"N":"follows","op":">>","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current-288843903","slot":"2"},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"is","op":"is","C":[{"N":"first","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"varRef","name":"Q{}scenario","slot":"0"}]}]}]}]}]},{"N":"int","val":"1"}]}]}]}]}]}]}]},{"N":"co","id":"29","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}pending-attribute-from-reason","line":"62","module":"compiler-pending-utils.xsl","flags":"pU","as":"?NA nQ{}pending","slots":"1","C":[{"N":"arg","name":"Q{}reason-for-pending","as":"?AS"},{"N":"treat","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"65","as":"NA nQ{}pending","diag":"5|0|XTTE0780|x:pending-attribute-from-reason#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|x:pending-attribute-from-reason#1","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"0"},{"N":"att","line":"66","name":"pending","C":[{"N":"dot","type":"1AS"}]}]}]}]}]}]},{"N":"co","id":"30","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-UQName","line":"82","module":"uqname-utils.xsl","flags":"pU","as":"?AS","slots":"1","C":[{"N":"arg","name":"Q{}node","as":"1N"},{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"85","card":"?","diag":"5|0|XTTE0780|x:node-UQName#1","C":[{"N":"forEach","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}node","slot":"0"}]},{"N":"check","line":"76","card":"1","diag":"5|0|XTTE0780|x:UQName-from-QName#1","C":[{"N":"forEach","C":[{"N":"dot","line":"85","type":"1AQ"},{"N":"fn","line":"13","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Q{"},{"N":"convert","line":"76","from":"AU","to":"AS","flags":"p","diag":"0|0||x:UQName","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"dot","type":"1AQ"}]}]}]}]},{"N":"str","val":"}"}]},{"N":"check","line":"76","card":"1","diag":"0|1||x:UQName","C":[{"N":"fn","name":"local-name-from-QName","C":[{"N":"dot","type":"1AQ"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"31","binds":"1","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}check-param-max-position","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"0","line":"14","module":"compile-scenario.xsl","slots":"2","C":[{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"18","card":"0","diag":"7|0|XTTE0505|x:check-param-max-position","C":[{"N":"sequence","C":[{"N":"param","name":"Q{}call","slot":"0","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","diag":"8|0|XTTE0590|call","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|call","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"let","line":"21","var":"Q{}max-param-position","as":"?ADI","slot":"1","C":[{"N":"fn","name":"max","C":[{"N":"forEach","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"cast","flags":"ae","as":"?ADI","C":[{"N":"attVal","name":"Q{}position"}]}]}]},{"N":"choose","line":"22","C":[{"N":"vc","op":"gt","onEmpty":"0","comp":"CAVC","C":[{"N":"varRef","name":"Q{}max-param-position","slot":"1"},{"N":"fn","name":"count","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"check","line":"23","card":"0","diag":"7|0|XTTE0505|x:check-param-max-position","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"24","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"convert","line":"26","from":"AZ","to":"AS","flags":"p","diag":"3|0|XTTE0570|message","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|message","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Too large parameter position, "},{"N":"fn","name":"string","C":[{"N":"convert","from":"ADI","to":"AS","C":[{"N":"varRef","name":"Q{}max-param-position","slot":"1"}]}]},{"N":"str","val":", used in "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}call","slot":"0"}]},{"N":"str","val":"."}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]}]}]}]}]},{"N":"co","id":"14","binds":"26","C":[{"N":"function","name":"Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}param-dup-name-error-string","line":"204","module":"compile-child-scenarios-or-expects.xsl","flags":"pU","as":"?AS","slots":"2","C":[{"N":"arg","name":"Q{}owner","as":"1NE"},{"N":"let","role":"body","ns":"local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"209","var":"Q{}uqnames","as":"*AS","slot":"1","C":[{"N":"forEach","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}owner","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"0","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"check","line":"210","card":"?","diag":"5|0|XTTE0780|local:param-dup-name-error-string#1","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"5|0|XTTE0780|local:param-dup-name-error-string#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|local:param-dup-name-error-string#1","C":[{"N":"data","diag":"5|0|XTTE0780|local:param-dup-name-error-string#1","C":[{"N":"forEach","C":[{"N":"first","C":[{"N":"filter","flags":"pb","C":[{"N":"varRef","name":"Q{}uqnames","slot":"1"},{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}uqnames","slot":"1"},{"N":"int","val":"1"},{"N":"arith","op":"-","calc":"i-i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]},{"N":"dot","type":"1AS"}]}]}]},{"N":"valueOf","line":"211","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Duplicate parameter name, "},{"N":"dot","type":"1AS"},{"N":"str","val":", used in "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}owner","slot":"0"}]},{"N":"str","val":"."}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"32","binds":"33","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}document-actual-uri","line":"26","module":"uri-utils.xsl","flags":"pU","as":"1AU","slots":"1","C":[{"N":"arg","name":"Q{}doc","as":"1ND"},{"N":"tailCallLoop","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"33","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-xml-uri-with-catalog","tailCall":"foreign","bSlot":"0","C":[{"N":"check","card":"1","diag":"0|0||x:resolve-xml-uri-with-catalog","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|0||x:resolve-xml-uri-with-catalog","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:resolve-xml-uri-with-catalog","C":[{"N":"fn","name":"document-uri","C":[{"N":"varRef","name":"Q{}doc","slot":"0"}]}]}]}]}]}]}]}]},{"N":"co","id":"34","binds":"19 19 19 19 19","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}quote-with-apos","line":"60","module":"common-utils.xsl","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}input","as":"1AS"},{"N":"fn","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"65","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"0"},{"N":"fn","line":"64","name":"replace","C":[{"N":"varRef","name":"Q{}input","slot":"0"},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"1"},{"N":"fn","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"2"},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"3"}]},{"N":"str","val":""}]}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"4"}]}]}]},{"N":"co","id":"35","binds":"36","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}wrap-node-constructors-and-undeclare-default-ns","flags":"o","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}element","line":"8","module":"wrap-node-constructors-and-undeclare-default-ns.xsl","slots":"2","C":[{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"11","card":"1","diag":"7|0|XTTE0505|x:wrap-node-constructors-and-undeclare-default-ns","C":[{"N":"sequence","C":[{"N":"param","name":"Q{}wrapper-name","slot":"0","flags":"r","as":"1AS","C":[{"N":"check","role":"conversion","card":"1","diag":"8|0|XTTE0590|wrapper-name","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|wrapper-name","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|wrapper-name","C":[{"N":"data","diag":"8|0|XTTE0590|wrapper-name","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"12","name":"Q{}node-constructors","slot":"1","flags":"r","as":"1NE","C":[{"N":"treat","role":"conversion","as":"NE","diag":"8|0|XTTE0590|node-constructors","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|node-constructors","C":[{"N":"supplied","slot":"1"}]}]}]},{"N":"treat","line":"14","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}element","diag":"7|0|XTTE0505|x:wrap-node-constructors-and-undeclare-default-ns","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:element"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"0"}]},{"N":"sequence","role":"content","line":"15","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"varRef","name":"Q{}wrapper-name","slot":"0"}]},{"N":"att","line":"16","name":"namespace","flags":"l","C":[{"N":"str","val":""}]},{"N":"varRef","line":"18","name":"Q{}node-constructors","slot":"1"}]}]}]}]}]}]}]},{"N":"co","id":"37","binds":"38","C":[{"N":"globalParam","name":"Q{}is-external","as":"1AB","line":"24","module":"main.xsl","visibility":"PUBLIC","C":[{"N":"gc","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"24","op":"=","card":"N:1","comp":"CCC","C":[{"N":"data","diag":"1|0||=","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"gVarRef","name":"Q{}initial-document","bSlot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}run-as"}]}]},{"N":"str","val":"external"}]}]}]},{"N":"co","id":"39","binds":"26","C":[{"N":"function","name":"Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-select-attr","line":"192","module":"transform-options.xsl","flags":"pU","as":"1NA nQ{}select","slots":"1","C":[{"N":"arg","name":"Q{}param","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"treat","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:external:transform-options:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"195","as":"NA nQ{}select","diag":"5|0|XTTE0780|local:param-to-select-attr#1","C":[{"N":"att","name":"select","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"0","C":[{"N":"varRef","name":"Q{}param","slot":"0"}]}]}]}]}]}]},{"N":"co","id":"40","binds":"1","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}boolean-with-comparison","line":"20","module":"compile-expect.xsl","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}expect","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"23","card":"1","diag":"5|0|XTTE0780|x:boolean-with-comparison#1","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}expect","slot":"0"},{"N":"callT","line":"24","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Boolean @test must not be accompanied by @as, @href, @select, or child node."}]}]}]}]}]}]},{"N":"co","id":"41","binds":"","C":[{"N":"globalVariable","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","as":"1AU","line":"13","module":"common-utils.xsl","visibility":"PRIVATE","C":[{"N":"atomic","val":"http:\/\/www.jenitennison.com\/xslt\/xspec","type":"AU"}]}]},{"N":"co","id":"42","binds":"7","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}try-catch","flags":"o","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}try","line":"8","module":"try-catch.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"11","C":[{"N":"param","name":"Q{}instruction","slot":"0","flags":"r","as":"1NE","C":[{"N":"treat","role":"conversion","as":"NE","diag":"8|0|XTTE0590|instruction","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instruction","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"elem","line":"13","name":"xsl:try","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"sequence","line":"14","C":[{"N":"varRef","name":"Q{}instruction","slot":"0"},{"N":"elem","line":"15","name":"xsl:catch","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"elem","line":"16","name":"xsl:map","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"elem","line":"17","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'err'"}]},{"N":"elem","line":"18","name":"xsl:map","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"forEach","line":"22","C":[{"N":"literal","count":"6","C":[{"N":"str","val":"code"},{"N":"str","val":"description"},{"N":"str","val":"value"},{"N":"str","val":"module"},{"N":"str","val":"line-number"},{"N":"str","val":"column-number"}]},{"N":"elem","line":"23","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"'"},{"N":"dot","type":"1AS"},{"N":"str","val":"'"}]}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"0","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"err:"},{"N":"dot","type":"1AS"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"43","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}is-ws-only-text-node-significant","line":"47","module":"user-content-utils.xsl","flags":"pU","as":"1AB","slots":"2","C":[{"N":"arg","name":"Q{}ws-only-text-node","as":"1NT"},{"N":"arg","name":"Q{}preserve-space-qnames","as":"*AQ"},{"N":"slash","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"59","C":[{"N":"varRef","name":"Q{}ws-only-text-node","slot":"0"},{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"atomSing","card":"?","diag":"1|0||eq","C":[{"N":"slash","simple":"1","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor","nodeTest":"NE"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{http:\/\/www.w3.org\/XML\/1998\/namespace}space"}]}]}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{http:\/\/www.w3.org\/XML\/1998\/namespace}space"}]}]},{"N":"str","val":"preserve"}]}]},{"N":"gc","op":"=","card":"N:1","comp":"EQC","C":[{"N":"varRef","name":"Q{}preserve-space-qnames","slot":"1"},{"N":"fn","name":"node-name","C":[{"N":"check","card":"?","diag":"0|0||fn:node-name","C":[{"N":"axis","name":"parent","nodeTest":"NE"}]}]}]}]}]}]}]},{"N":"co","id":"44","binds":"1 3 24","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}invoke-compiled-child-scenarios-or-expects","cxt":"1NE","flags":"s","as":"*N","line":"15","module":"invoke-compiled-child-scenarios-or-expects.xsl","slots":"3","C":[{"N":"sequence","role":"body","ns":"local=urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"22","C":[{"N":"param","name":"Q{}handled-child-vardecls","slot":"0","flags":"r","as":"*NE","C":[{"N":"treat","role":"conversion","as":"NE","diag":"8|0|XTTE0590|handled-child-vardecls","C":[{"N":"supplied","slot":"0"}]}]},{"N":"let","line":"24","var":"Q{}this","as":"1NE","slot":"1","C":[{"N":"dot","type":"1NE"},{"N":"sequence","line":"25","C":[{"N":"choose","C":[{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}this","slot":"1"},{"N":"fn","name":"exists","C":[{"N":"sequence","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]}]},{"N":"treat","line":"26","as":"N","diag":"7|0|XTTE0505|x:invoke-compiled-child-scenarios-or-expects","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"27","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"$this must be a description or a scenario"}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"let","line":"35","var":"Q{}invocation-doc","as":"1ND","slot":"2","C":[{"N":"doc","line":"36","C":[{"N":"applyT","line":"38","mode":"Q{urn:x-xspec:compiler:base:invoke-compiled:invoke-compiled-child-scenarios-or-expects:local}invoke-compiled-scenarios-or-expects","bSlot":"1","C":[{"N":"except","role":"select","op":"except","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}this","slot":"1"},{"N":"axis","name":"child","nodeTest":"NE"}]},{"N":"docOrder","intra":"0","C":[{"N":"varRef","name":"Q{}handled-child-vardecls","slot":"0"}]}]}]}]},{"N":"treat","line":"43","as":"N","diag":"7|0|XTTE0505|x:invoke-compiled-child-scenarios-or-expects","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}group-invocation","flags":"t","bSlot":"2","C":[{"N":"varRef","role":"select","name":"Q{}invocation-doc","slot":"2"}]}]}]}]}]}]}]}]},{"N":"co","id":"45","binds":"46 38","C":[{"N":"globalParam","name":"Q{}measure-time","as":"1AB","line":"26","module":"main.xsl","visibility":"PUBLIC","C":[{"N":"ufCall","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"26","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","tailCall":"false","bSlot":"0","C":[{"N":"check","card":"?","diag":"0|0||x:yes-no-synonym","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"data","diag":"0|0||x:yes-no-synonym","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"gVarRef","name":"Q{}initial-document","bSlot":"1"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}measure-time"}]}]}]}]}]},{"N":"false"}]}]}]},{"N":"co","id":"47","binds":"35 48","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}report-test-attribute","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"s","as":"+N","line":"7","module":"report-test-attribute.xsl","slots":"0","C":[{"N":"callT","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"20","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}wrap-node-constructors-and-undeclare-default-ns","bSlot":"0","flags":"t","C":[{"N":"withParam","name":"Q{}wrapper-name","flags":"c","as":"1AS","C":[{"N":"fn","line":"21","name":"concat","C":[{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"str","val":"-test-wrap"}]}]},{"N":"withParam","name":"Q{}node-constructors","flags":"c","as":"+N","C":[{"N":"treat","line":"23","as":"NE","diag":"8|1|XTTE0590|node-constructors","C":[{"N":"treat","as":"N","diag":"3|0|XTTE0570|node-constructors","C":[{"N":"check","card":"1","diag":"8|1|XTTE0590|node-constructors","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|node-constructors","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"1","C":[{"N":"treat","role":"select","line":"13","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","diag":"3|0|XTTE0570|expect-test","C":[{"N":"copy","flags":"cin","sit":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","C":[{"N":"axis","role":"content","line":"14","name":"attribute","nodeTest":"NA nQ{}test"}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"49","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}pack-version","line":"34","module":"version-utils.xsl","flags":"pU","as":"1ADI","slots":"1","C":[{"N":"arg","name":"Q{}ver-components","as":"+ADI"},{"N":"choose","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"48","C":[{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"compareToInt","op":"le","val":"4","C":[{"N":"fn","name":"count","C":[{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}ver-components","slot":"0"},{"N":"int","val":"1"},{"N":"int","val":"5"}]}]}]},{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}ver-components","slot":"0"},{"N":"compareToInt","op":"ge","val":"65536","C":[{"N":"dot","type":"1ADI"}]}]}]}]},{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}ver-components","slot":"0"},{"N":"compareToInt","op":"lt","val":"0","C":[{"N":"dot","type":"1ADI"}]}]}]}]},{"N":"arith","line":"56","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","line":"49","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"first","C":[{"N":"varRef","name":"Q{}ver-components","slot":"0"}]},{"N":"int","val":"65536"}]},{"N":"first","line":"50","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"varRef","name":"Q{}ver-components","slot":"0"},{"N":"int","val":"2"}]},{"N":"int","val":"0"}]}]}]},{"N":"int","val":"65536"}]},{"N":"int","val":"65536"}]},{"N":"arith","line":"51","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"varRef","name":"Q{}ver-components","slot":"0"},{"N":"int","val":"3"}]},{"N":"int","val":"0"}]}]},{"N":"int","val":"65536"}]},{"N":"first","line":"52","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"varRef","name":"Q{}ver-components","slot":"0"},{"N":"int","val":"4"}]},{"N":"int","val":"0"}]}]}]}]},{"N":"true"},{"N":"error","message":"Conditional expression: The condition is not satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:pack-version#1","code":"XTTE0780","isTypeErr":"0"}]}]}]},{"N":"co","id":"1","binds":"30","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","cxt":"1N","flags":"s","as":"1AS","line":"100","module":"compiler-misc-utils.xsl","slots":"6","C":[{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"103","card":"1","diag":"7|0|XTTE0505|x:prefix-diag-message","C":[{"N":"sequence","C":[{"N":"param","name":"Q{}level","slot":"0","as":"1AS","C":[{"N":"str","role":"select","val":"ERROR"},{"N":"check","role":"conversion","card":"1","diag":"8|0|XTTE0590|level","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|level","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|level","C":[{"N":"data","diag":"8|0|XTTE0590|level","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"104","name":"Q{}message","slot":"1","flags":"r","as":"1AS","C":[{"N":"check","role":"conversion","card":"1","diag":"8|0|XTTE0590|message","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"let","line":"106","var":"Q{}owner-element","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*","slot":"2","C":[{"N":"first","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1N"},{"N":"axis","name":"ancestor-or-self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"}]}]},{"N":"let","line":"110","var":"Q{}full-label","as":"1AS","slot":"3","C":[{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"string-join","C":[{"N":"data","diag":"0|0||fn:string-join","C":[{"N":"slash","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}owner-element","slot":"2"},{"N":"fn","name":"reverse","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"},{"N":"and","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}like"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}pending"}]}]}]}]}]},{"N":"let","var":"Q{}labelled","as":"1NE","slot":"4","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"},{"N":"treat","line":"13","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"4"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"4"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"4"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]}]},{"N":"str","val":" "}]}]},{"N":"convert","line":"113","from":"AZ","to":"AS","flags":"p","diag":"7|0|XTTE0505|x:prefix-diag-message","C":[{"N":"cvUntyped","to":"AS","diag":"7|0|XTTE0505|x:prefix-diag-message","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"sequence","C":[{"N":"valueOf","C":[{"N":"varRef","name":"Q{}level","slot":"0"}]},{"N":"forEach","line":"115","C":[{"N":"varRef","name":"Q{}owner-element","slot":"2"},{"N":"sequence","line":"122","C":[{"N":"valueOf","C":[{"N":"fn","line":"121","name":"concat","C":[{"N":"str","val":" in "},{"N":"choose","C":[{"N":"fn","name":"prefix-from-QName","C":[{"N":"fn","name":"node-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"}]}]},{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"}]},{"N":"true"},{"N":"check","card":"1","diag":"3|0|XTTE0570|owner-element-eqname","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-UQName","tailCall":"false","bSlot":"0","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"}]}]}]}]}]},{"N":"forEach","line":"124","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}name"},{"N":"valueOf","line":"125","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":" (named "},{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"dot","type":"1NA nQ{}name"}]}]},{"N":"str","val":")"}]}]}]},{"N":"forEach","line":"131","C":[{"N":"forEach","C":[{"N":"forEach","C":[{"N":"filter","flags":"b","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"},{"N":"and","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]},{"N":"let","var":"Q{}labelled","as":"1NE","slot":"5","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"},{"N":"treat","line":"13","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"5"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"5"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"5"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]},{"N":"filter","flags":"b","C":[{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"string","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]}]},{"N":"valueOf","line":"132","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":" (labeled '"},{"N":"dot","type":"1AS"},{"N":"str","val":"')"}]}]}]}]}]},{"N":"forEach","line":"136","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}full-label","slot":"3"},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"sequence","line":"137","C":[{"N":"valueOf","C":[{"N":"str","val":" ("}]},{"N":"choose","line":"138","C":[{"N":"fn","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}owner-element","slot":"2"},{"N":"and","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]}]},{"N":"valueOf","line":"139","C":[{"N":"str","val":"under "}]}]},{"N":"valueOf","line":"141","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"'"},{"N":"dot","type":"1AS"},{"N":"str","val":"')"}]}]}]}]},{"N":"valueOf","line":"144","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":": "},{"N":"varRef","name":"Q{}message","slot":"1"}]}]}]}]}]}]},{"N":"str","val":""}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"50","binds":"41 41","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-name","line":"75","module":"compiler-misc-utils.xsl","flags":"pU","as":"1AS","slots":"4","C":[{"N":"arg","name":"Q{}local-name","as":"1AS"},{"N":"arg","name":"Q{}context-element","as":"1NE"},{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"79","var":"Q{}context-node-name","as":"1AQ","slot":"2","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|context-node-name","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}context-element","slot":"1"}]}]},{"N":"fn","line":"96","name":"string-join","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"choose","line":"83","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"2"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"0"}]},{"N":"fn","line":"84","name":"prefix-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"2"}]},{"N":"true"},{"N":"let","line":"90","var":"Q{}xspec-prefixes","as":"+AS","slot":"3","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|xspec-prefixes","C":[{"N":"filter","flags":"","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}context-element","slot":"1"}]},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}context-element","slot":"1"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"1"}]}]}]},{"N":"check","line":"91","card":"?","diag":"3|0|XTTE0570|prefix","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|prefix","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|prefix","C":[{"N":"data","diag":"3|0|XTTE0570|prefix","C":[{"N":"first","C":[{"N":"fn","name":"sort","C":[{"N":"varRef","name":"Q{}xspec-prefixes","slot":"3"}]}]}]}]}]}]}]}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"varRef","name":"Q{}local-name","slot":"0"}]},{"N":"str","val":":"}]}]}]}]},{"N":"co","id":"51","binds":"38","C":[{"N":"globalVariable","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg670689666","as":"1AS","line":"103","module":"check-combined-doc.xsl","visibility":"PRIVATE","C":[{"N":"fn","ns":"local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"103","name":"concat","C":[{"N":"str","val":"Enabling @static is supported only when \/"},{"N":"fn","name":"name","C":[{"N":"check","card":"?","diag":"0|0||fn:name","C":[{"N":"slash","simple":"1","C":[{"N":"gVarRef","name":"Q{}initial-document","bSlot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]}]}]},{"N":"str","val":" has @run-as='external'."}]}]}]},{"N":"co","id":"52","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}parse-preserve-space","line":"31","module":"user-content-utils.xsl","flags":"pU","as":"*AQ","slots":"1","C":[{"N":"arg","name":"Q{}description","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"forEach","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"38","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"tokenize","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||fn:tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:tokenize","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}description","slot":"0"},{"N":"attVal","name":"Q{}preserve-space"}]}]}]},{"N":"str","val":"\\s+"},{"N":"str","val":""}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"fn","name":"resolve-QName","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}description","slot":"0"}]}]}]}]},{"N":"co","id":"53","binds":"36 37 36 54 37 36 7 7 55 7 7 7 7 37 4 37 56 7 7 36 7 7 21 41 41 41 48 36 57 44 57 36 36 36 0 36","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}main","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}stylesheet","line":"22","module":"main.xsl","slots":"5","C":[{"N":"let","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"53","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1AS","slot":"0","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"0"}]},{"N":"let","line":"26","var":"Q{}is-schematron","as":"1AB","slot":"1","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}original-xspec"}]},{"N":"treat","line":"29","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}stylesheet","diag":"7|0|XTTE0505|x:main","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:stylesheet"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"35"}]},{"N":"sequence","role":"content","line":"30","C":[{"N":"att","name":"exclude-result-prefixes","flags":"l","C":[{"N":"str","val":"#all"}]},{"N":"att","line":"31","name":"version","flags":"l","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"common-utils.xsl","var":"Q{}decimal-string","as":"1AS","slot":"2","C":[{"N":"fn","name":"string","C":[{"N":"treat","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"main.xsl","as":"AD","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"check","card":"1","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"cvUntyped","to":"AD","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"data","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"slash","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"first","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compiler-misc-utils.xsl","line":"41","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"NE"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xslt-version"}]}]}]}]},{"N":"axis","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compiler-misc-utils.xsl","line":"41","name":"attribute","nodeTest":"NA nQ{}xslt-version"}]},{"N":"dec","val":"3"}]}]}]}]}]}]}]},{"N":"choose","line":"38","C":[{"N":"fn","name":"contains","C":[{"N":"varRef","name":"Q{}decimal-string","slot":"2"},{"N":"str","val":"."}]},{"N":"varRef","name":"Q{}decimal-string","slot":"2"},{"N":"true"},{"N":"fn","name":"concat","C":[{"N":"varRef","name":"Q{}decimal-string","slot":"2"},{"N":"str","val":".0"}]}]}]}]},{"N":"valueOf","line":"34","flags":"l","C":[{"N":"str","val":"\n   "}]},{"N":"choose","line":"36","C":[{"N":"fn","name":"not","C":[{"N":"gVarRef","name":"Q{}is-external","bSlot":"1"}]},{"N":"sequence","line":"37","C":[{"N":"comment","flags":"l","C":[{"N":"str","val":" the tested stylesheet "}]},{"N":"compElem","line":"38","flags":"l","C":[{"N":"str","role":"name","val":"xsl:import"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"2"}]},{"N":"att","role":"content","line":"39","name":"href","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}stylesheet"}]}]}]}]}]},{"N":"choose","line":"43","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}helper"}]},{"N":"sequence","line":"44","C":[{"N":"comment","flags":"l","C":[{"N":"str","val":" user-provided library module(s) "}]},{"N":"callT","line":"45","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-helpers","bSlot":"3"}]}]},{"N":"comment","line":"48","flags":"l","C":[{"N":"str","val":" XSpec library modules providing tools "}]},{"N":"forEach","line":"52","C":[{"N":"sequence","C":[{"N":"choose","C":[{"N":"fn","name":"doc-available","C":[{"N":"str","val":"..\/..\/common\/runtime-utils.xsl"}]},{"N":"str","val":"..\/..\/common\/runtime-utils.xsl"},{"N":"true"},{"N":"str","val":"..\/common\/runtime-utils.xsl"}]},{"N":"filter","flags":"ib","C":[{"N":"str","val":"..\/..\/schematron\/select-node.xsl"},{"N":"varRef","name":"Q{}is-schematron","slot":"1"}]}]},{"N":"compElem","line":"53","flags":"l","C":[{"N":"str","role":"name","val":"xsl:include"},{"N":"varRef","role":"namespace","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"0"},{"N":"att","role":"content","line":"54","name":"href","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"fn","name":"resolve-uri","C":[{"N":"dot","type":"1AS"}]}]}]}]}]},{"N":"choose","line":"58","C":[{"N":"gVarRef","name":"Q{}is-external","bSlot":"4"},{"N":"compElem","line":"59","flags":"l","C":[{"N":"str","role":"name","val":"xsl:global-context-item"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"5"}]},{"N":"att","role":"content","line":"60","name":"use","flags":"l","C":[{"N":"str","val":"absent"}]}]}]},{"N":"elem","line":"65","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"6","C":[{"N":"str","val":"x:stylesheet-uri"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"7","C":[{"N":"str","val":"xs:anyURI"}]}]},{"N":"valueOf","line":"66","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}stylesheet"}]}]}]}]},{"N":"let","line":"71","var":"Q{}xspec-master-uri","as":"1AU","slot":"3","C":[{"N":"cast","flags":"a","as":"1AU","C":[{"N":"atomSing","diag":"2|0||cast as","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}original-xspec"},{"N":"gVarRef","name":"Q{}initial-document-actual-uri","bSlot":"8"}]}]}]}]},{"N":"sequence","line":"72","C":[{"N":"elem","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"9","C":[{"N":"str","val":"x:xspec-uri"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"10","C":[{"N":"str","val":"xs:anyURI"}]}]},{"N":"valueOf","line":"73","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"varRef","name":"Q{}xspec-master-uri","slot":"3"}]}]}]}]},{"N":"elem","line":"78","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"11","C":[{"N":"str","val":"x:is-external"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"12","C":[{"N":"str","val":"xs:boolean"}]}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"convert","from":"AB","to":"AS","C":[{"N":"gVarRef","name":"Q{}is-external","bSlot":"13"}]},{"N":"str","val":"()"}]}]}]}]},{"N":"let","line":"81","var":"Q{}global-vardecls","as":"*NE","slot":"4","C":[{"N":"axis","name":"child","nodeTest":"NE u[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param,NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable]"},{"N":"sequence","line":"82","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","bSlot":"14","C":[{"N":"varRef","role":"select","name":"Q{}global-vardecls","slot":"4"}]},{"N":"choose","line":"84","C":[{"N":"gVarRef","name":"Q{}is-external","bSlot":"15"},{"N":"choose","line":"91","C":[{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"},{"N":"vc","op":"eq","comp":"EQC","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-EQName-ignoring-default-ns","tailCall":"false","bSlot":"16","C":[{"N":"check","card":"1","diag":"0|0||x:resolve-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:resolve-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:resolve-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"}]},{"N":"qName","pre":"x","uri":"http:\/\/www.jenitennison.com\/xslt\/xspec","loc":"saxon-config"}]}]}]},{"N":"elem","line":"92","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"17","C":[{"N":"str","val":"x:saxon-config"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"str","val":"empty-sequence()"}]}]}]}]}]},{"N":"comment","line":"97","flags":"l","C":[{"N":"str","val":" the main template to run the suite "}]},{"N":"compElem","line":"98","flags":"l","C":[{"N":"str","role":"name","val":"xsl:template"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"33"}]},{"N":"sequence","role":"content","line":"99","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"18","C":[{"N":"str","val":"x:main"}]}]},{"N":"att","line":"100","name":"as","flags":"l","C":[{"N":"str","val":"empty-sequence()"}]},{"N":"compElem","line":"102","flags":"l","C":[{"N":"str","role":"name","val":"xsl:context-item"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"19"}]},{"N":"att","role":"content","line":"103","name":"use","flags":"l","C":[{"N":"str","val":"absent"}]}]},{"N":"valueOf","line":"106","flags":"l","C":[{"N":"str","val":"\n      "}]},{"N":"comment","line":"106","flags":"l","C":[{"N":"str","val":" info message "}]},{"N":"elem","line":"108","name":"xsl:message","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"109","C":[{"N":"elem","name":"xsl:text","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"valueOf","line":"110","flags":"l","C":[{"N":"str","val":"Testing with "}]}]},{"N":"elem","line":"112","name":"xsl:value-of","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"system-property('"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"20","C":[{"N":"str","val":"xsl:product-name"}]},{"N":"str","val":"')"}]}]}]},{"N":"elem","line":"113","name":"xsl:text","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"valueOf","line":"114","flags":"l","C":[{"N":"str","val":" "}]}]},{"N":"elem","line":"116","name":"xsl:value-of","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"system-property('"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"21","C":[{"N":"str","val":"xsl:product-version"}]},{"N":"str","val":"')"}]}]}]}]}]},{"N":"comment","line":"119","flags":"l","C":[{"N":"str","val":" set up the result document (the report) "}]},{"N":"compElem","line":"122","flags":"l","C":[{"N":"str","role":"name","val":"xsl:result-document"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"32"}]},{"N":"sequence","role":"content","line":"123","C":[{"N":"choose","C":[{"N":"gVarRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg935520971","bSlot":"22"},{"N":"sequence","line":"132","C":[{"N":"namespace","flags":"l","C":[{"N":"str","role":"name","val":"workaround-for-saxon-bug-4093"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"23"}]}]},{"N":"att","line":"135","name":"format","flags":"l","C":[{"N":"str","val":"workaround-for-saxon-bug-4093:xml-report-serialization-parameters"}]}]},{"N":"true"},{"N":"att","line":"141","name":"format","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Q{{"},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"24"}]},{"N":"str","val":"}}xml-report-serialization-parameters"}]}]}]},{"N":"compElem","line":"145","flags":"l","C":[{"N":"str","role":"name","val":"xsl:element"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"31"}]},{"N":"sequence","role":"content","line":"146","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"report"}]},{"N":"att","line":"147","name":"namespace","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"25"}]}]},{"N":"applyT","line":"162","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"26","C":[{"N":"sequence","role":"select","line":"150","C":[{"N":"att","name":"xspec","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"varRef","name":"Q{}xspec-master-uri","slot":"3"}]}]},{"N":"axis","line":"153","name":"attribute","nodeTest":"NA nQ{}stylesheet"},{"N":"choose","line":"158","C":[{"N":"varRef","name":"Q{}is-schematron","slot":"1"},{"N":"axis","line":"159","name":"attribute","nodeTest":"NA nQ{}schematron"}]}]}]},{"N":"compElem","line":"165","flags":"l","C":[{"N":"str","role":"name","val":"xsl:attribute"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"27"}]},{"N":"sequence","role":"content","line":"166","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"date"}]},{"N":"att","line":"167","name":"namespace","flags":"l","C":[{"N":"str","val":""}]},{"N":"att","line":"168","name":"select","flags":"l","C":[{"N":"str","val":"current-dateTime()"}]}]}]},{"N":"callT","line":"171","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}timestamp","bSlot":"28","C":[{"N":"withParam","name":"Q{}event","flags":"c","as":"1AS","C":[{"N":"str","val":"start"}]}]},{"N":"valueOf","line":"176","flags":"l","C":[{"N":"str","val":"\n            "}]},{"N":"comment","line":"176","flags":"l","C":[{"N":"str","val":" invoke each compiled top-level x:scenario "}]},{"N":"callT","line":"177","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}invoke-compiled-child-scenarios-or-expects","bSlot":"29","C":[{"N":"withParam","name":"Q{}handled-child-vardecls","flags":"c","as":"*NE","C":[{"N":"varRef","line":"178","name":"Q{}global-vardecls","slot":"4"}]}]},{"N":"callT","line":"181","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}timestamp","bSlot":"30","C":[{"N":"withParam","name":"Q{}event","flags":"c","as":"1AS","C":[{"N":"str","val":"end"}]}]}]}]}]}]}]}]},{"N":"callT","line":"189","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-child-scenarios-or-expects","bSlot":"34"}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"16","binds":"7 7 36 4 19 19 7 7 7 7 7 7 7 7 7 7 36 36 7 7 7 7 7 7 7 40 7 7 26 7 58 7 7 7 26 7 7 48 7 36 48 47 7 7 7 7 26 36 36","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-expect","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","line":"15","module":"compile-expect.xsl","slots":"11","C":[{"N":"check","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"18","card":"1","diag":"7|0|XTTE0505|x:compile-expect","C":[{"N":"sequence","C":[{"N":"param","name":"Q{}call","slot":"0","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","diag":"8|0|XTTE0590|call","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|call","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"param","line":"19","name":"Q{}context","slot":"1","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","diag":"8|0|XTTE0590|context","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|context","C":[{"N":"supplied","slot":"1"}]}]}]},{"N":"param","line":"20","name":"Q{}reason-for-pending","slot":"2","flags":"r","as":"?AS","C":[{"N":"check","role":"conversion","card":"?","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"data","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"param","line":"23","name":"Q{}param-uqnames","slot":"3","flags":"r","as":"*AS","C":[{"N":"convert","role":"conversion","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|param-uqnames","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|param-uqnames","C":[{"N":"data","diag":"8|0|XTTE0590|param-uqnames","C":[{"N":"supplied","slot":"3"}]}]}]}]},{"N":"treat","line":"25","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-expect","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:template"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"48"}]},{"N":"sequence","role":"content","line":"26","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"0","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"x:"},{"N":"attVal","name":"Q{}id"}]}]}]},{"N":"att","line":"27","name":"as","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"element("},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"1","C":[{"N":"str","val":"x:test"}]}]},{"N":"str","val":")"}]}]},{"N":"compElem","line":"29","flags":"l","C":[{"N":"str","role":"name","val":"xsl:context-item"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"2"}]},{"N":"att","role":"content","line":"30","name":"use","flags":"l","C":[{"N":"str","val":"absent"}]}]},{"N":"forEach","line":"33","C":[{"N":"varRef","name":"Q{}param-uqnames","slot":"3"},{"N":"elem","line":"34","name":"xsl:param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"dot","type":"1AS"}]},{"N":"att","name":"as","flags":"l","C":[{"N":"str","val":"item()*"}]},{"N":"att","name":"required","flags":"l","C":[{"N":"str","val":"yes"}]}]}]}]},{"N":"elem","line":"37","name":"xsl:message","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"38","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"2"}]},{"N":"sequence","line":"39","C":[{"N":"valueOf","flags":"l","C":[{"N":"str","val":"PENDING: "}]},{"N":"forEach","line":"40","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"normalize-space","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"2"}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"valueOf","line":"41","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"("},{"N":"dot","type":"1AS"},{"N":"str","val":") "}]}]}]}]}]},{"N":"valueOf","line":"44","flags":"l","C":[{"N":"fn","name":"normalize-space","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"0|0||fn:normalize-space","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:normalize-space","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}labelled","as":"1NE","slot":"4","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"data","module":"compiler-misc-utils.xsl","line":"13","diag":"0|0||fn:normalize-space","C":[{"N":"treat","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"4"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"4"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"4"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"choose","line":"47","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"2"}]},{"N":"let","line":"48","var":"Q{}xslt-version","as":"1AD","slot":"5","C":[{"N":"treat","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compiler-misc-utils.xsl","line":"41","as":"AD","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"check","card":"1","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"cvUntyped","to":"AD","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"data","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"slash","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compile-expect.xsl","line":"48","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"NE"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xslt-version"}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xslt-version"}]},{"N":"dec","val":"3"}]}]}]}]}]}]},{"N":"let","line":"57","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1AB","slot":"6","flags":"l","C":[{"N":"compareToInt","op":"eq","val":"1","C":[{"N":"varRef","name":"Q{}xslt-version","slot":"5"}]},{"N":"sequence","line":"51","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","bSlot":"3","C":[{"N":"dot","role":"select","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"withParam","name":"Q{}comment","as":"1AS","C":[{"N":"str","val":"expected result"}]}]},{"N":"let","line":"57","var":"Q{}deep-equal-flags","as":"1AS","slot":"7","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"4"},{"N":"filter","flags":"ib","C":[{"N":"str","val":"1"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"6"}]}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"5"}]},{"N":"sequence","line":"59","C":[{"N":"choose","C":[{"N":"fn","line":"60","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}test"}]},{"N":"sequence","line":"61","C":[{"N":"comment","flags":"l","C":[{"N":"str","val":" wrap $x:result into a document node if possible "}]},{"N":"elem","line":"66","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"6","C":[{"N":"str","val":"impl:test-items"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"str","val":"item()*"}]},{"N":"elem","line":"67","name":"xsl:choose","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"74","C":[{"N":"elem","name":"xsl:when","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"exists($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"7","C":[{"N":"str","val":"x:result"}]},{"N":"str","val":") and "},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"8","C":[{"N":"str","val":"x:wrappable-sequence"}]},{"N":"str","val":"($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"9","C":[{"N":"str","val":"x:result"}]},{"N":"str","val":")"}]}]},{"N":"elem","line":"75","name":"xsl:sequence","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"10","C":[{"N":"str","val":"x:wrap-nodes"}]},{"N":"str","val":"($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"11","C":[{"N":"str","val":"x:result"}]},{"N":"str","val":")"}]}]}]}]}]},{"N":"elem","line":"77","name":"xsl:otherwise","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"elem","line":"78","name":"xsl:sequence","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"12","C":[{"N":"str","val":"x:result"}]}]}]}]}]}]}]}]}]},{"N":"comment","line":"83","flags":"l","C":[{"N":"str","val":" evaluate the predicate with $x:result (or its wrapper document node) as context item if it is a single item; if not, evaluate the predicate without context item "}]},{"N":"elem","line":"84","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"13","C":[{"N":"str","val":"impl:test-result"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"str","val":"item()*"}]},{"N":"elem","line":"85","name":"xsl:choose","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"86","C":[{"N":"elem","name":"xsl:when","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"count($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"14","C":[{"N":"str","val":"impl:test-items"}]},{"N":"str","val":") eq 1"}]}]},{"N":"elem","line":"87","name":"xsl:for-each","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"15","C":[{"N":"str","val":"impl:test-items"}]}]}]},{"N":"compElem","line":"88","flags":"l","C":[{"N":"str","role":"name","val":"xsl:sequence"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"16"}]},{"N":"sequence","role":"content","line":"91","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}element","as":"1NE","slot":"8","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"8"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"8"}]}]}]}]}]},{"N":"att","line":"93","name":"select","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}test"}]}]},{"N":"att","line":"94","name":"version","flags":"l","C":[{"N":"convert","from":"AD","to":"AS","C":[{"N":"varRef","name":"Q{}xslt-version","slot":"5"}]}]}]}]}]}]}]}]},{"N":"elem","line":"98","name":"xsl:otherwise","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"compElem","line":"99","flags":"l","C":[{"N":"str","role":"name","val":"xsl:sequence"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"17"}]},{"N":"sequence","role":"content","line":"102","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}element","as":"1NE","slot":"9","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"9"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"9"}]}]}]}]}]},{"N":"att","line":"104","name":"select","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}test"}]}]},{"N":"att","line":"105","name":"version","flags":"l","C":[{"N":"convert","from":"AD","to":"AS","C":[{"N":"varRef","name":"Q{}xslt-version","slot":"5"}]}]}]}]}]}]}]}]}]},{"N":"elem","line":"113","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"18","C":[{"N":"str","val":"impl:boolean-test"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"19","C":[{"N":"str","val":"xs:boolean"}]}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"20","C":[{"N":"str","val":"impl:test-result"}]},{"N":"str","val":" instance of "},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"21","C":[{"N":"str","val":"xs:boolean"}]}]}]}]}]},{"N":"comment","line":"115","flags":"l","C":[{"N":"str","val":" did the test pass? "}]},{"N":"elem","line":"116","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"22","C":[{"N":"str","val":"impl:successful"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"23","C":[{"N":"str","val":"xs:boolean"}]}]},{"N":"elem","line":"117","name":"xsl:choose","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"118","C":[{"N":"elem","name":"xsl:when","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"24","C":[{"N":"str","val":"impl:boolean-test"}]}]}]},{"N":"choose","line":"119","C":[{"N":"slash","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compile-expect.xsl","line":"16","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compile-expect.xsl","line":"120","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}as"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}href"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}select"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"N d[N u[NE,NP,NT,NC],NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label]"}]}]}]},{"N":"elem","line":"121","name":"xsl:message","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"terminate","flags":"l","C":[{"N":"str","val":"yes"}]},{"N":"valueOf","line":"122","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}boolean-with-comparison","tailCall":"false","bSlot":"25","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]}]}]},{"N":"true"},{"N":"elem","line":"128","name":"xsl:sequence","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"26","C":[{"N":"str","val":"impl:test-result"}]},{"N":"str","val":" => boolean()"}]}]}]}]}]}]},{"N":"elem","line":"132","name":"xsl:otherwise","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"choose","line":"133","C":[{"N":"slash","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compile-expect.xsl","line":"16","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compile-expect.xsl","line":"134","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}as"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}href"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}select"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"N d[N u[NE,NP,NT,NC],NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label]"}]}]}]},{"N":"elem","line":"135","name":"xsl:sequence","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"27","C":[{"N":"str","val":"deq:deep-equal"}]},{"N":"str","val":"($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"28","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"str","val":", $"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"29","C":[{"N":"str","val":"impl:test-result"}]},{"N":"str","val":", "},{"N":"varRef","name":"Q{}deep-equal-flags","slot":"7"},{"N":"str","val":")"}]}]}]},{"N":"true"},{"N":"elem","line":"138","name":"xsl:message","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"terminate","flags":"l","C":[{"N":"str","val":"yes"}]},{"N":"valueOf","line":"139","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}non-boolean-without-comparison","tailCall":"false","bSlot":"30","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"elem","line":"150","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"31","C":[{"N":"str","val":"impl:successful"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"32","C":[{"N":"str","val":"xs:boolean"}]}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"33","C":[{"N":"str","val":"deq:deep-equal"}]},{"N":"str","val":"($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"34","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"str","val":", $"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"35","C":[{"N":"str","val":"x:result"}]},{"N":"str","val":", "},{"N":"varRef","name":"Q{}deep-equal-flags","slot":"7"},{"N":"str","val":")"}]}]}]}]}]},{"N":"elem","line":"154","name":"xsl:if","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"not($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"36","C":[{"N":"str","val":"impl:successful"}]},{"N":"str","val":")"}]}]},{"N":"elem","line":"155","name":"xsl:message","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"valueOf","line":"156","flags":"l","C":[{"N":"str","val":"      FAILED"}]}]}]}]}]}]}]}]}]}]},{"N":"compElem","line":"162","flags":"l","C":[{"N":"str","role":"name","val":"xsl:element"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"47"}]},{"N":"sequence","role":"content","line":"163","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"test"}]},{"N":"att","line":"164","name":"namespace","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]}]},{"N":"applyT","line":"170","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"37","C":[{"N":"check","role":"select","line":"167","card":"+","diag":"3|0|XTTE0570|test-element-attributes","C":[{"N":"sequence","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"},{"N":"treat","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compiler-pending-utils.xsl","line":"65","as":"NA nQ{}pending","diag":"5|0|XTTE0780|x:pending-attribute-from-reason#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|x:pending-attribute-from-reason#1","C":[{"N":"forEach","C":[{"N":"varRef","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compile-expect.xsl","line":"168","name":"Q{}reason-for-pending","slot":"2"},{"N":"att","line":"66","name":"pending","C":[{"N":"dot","type":"1AS"}]}]}]}]}]}]}]},{"N":"choose","line":"172","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"2"}]},{"N":"compElem","line":"174","flags":"l","C":[{"N":"str","role":"name","val":"xsl:attribute"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"39"}]},{"N":"sequence","role":"content","line":"175","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"successful"}]},{"N":"att","line":"176","name":"namespace","flags":"l","C":[{"N":"str","val":""}]},{"N":"att","line":"177","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"38","C":[{"N":"str","val":"impl:successful"}]}]}]}]}]}]},{"N":"applyT","line":"181","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"40","C":[{"N":"let","role":"select","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}labelled","as":"1NE","slot":"10","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"treat","module":"compiler-misc-utils.xsl","line":"13","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"10"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"10"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"10"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]},{"N":"choose","line":"184","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"2"}]},{"N":"sequence","line":"185","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}test"}]},{"N":"sequence","line":"186","C":[{"N":"callT","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}report-test-attribute","bSlot":"41"},{"N":"elem","line":"188","name":"xsl:if","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"not($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"42","C":[{"N":"str","val":"impl:boolean-test"}]},{"N":"str","val":")"}]}]},{"N":"elem","line":"189","name":"xsl:call-template","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"43","C":[{"N":"str","val":"rep:report-sequence"}]}]},{"N":"elem","line":"190","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"sequence"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"44","C":[{"N":"str","val":"impl:test-result"}]}]}]}]}]},{"N":"elem","line":"191","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"report-name"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"str","val":"'result'"}]}]}]}]}]}]}]}]}]},{"N":"elem","line":"196","name":"xsl:call-template","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"45","C":[{"N":"str","val":"rep:report-sequence"}]}]},{"N":"elem","line":"197","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"sequence"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"46","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]}]}]}]},{"N":"elem","line":"198","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"report-name"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"'"},{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"str","val":"'"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"59","binds":"","C":[{"N":"globalVariable","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xs-namespace","as":"1AU","line":"27","module":"namespace-utils.xsl","visibility":"PRIVATE","C":[{"N":"atomic","val":"http:\/\/www.w3.org\/2001\/XMLSchema","type":"AU"}]}]},{"N":"co","id":"60","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}copy-of-namespaces","line":"39","module":"namespace-utils.xsl","flags":"pU","as":"*NN","slots":"1","C":[{"N":"arg","name":"Q{}element","as":"1NE"},{"N":"forEach","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"0"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"0"}]}]}]}]}]}]},{"N":"co","id":"15","binds":"1 1 1 1 1 1 31 1 41 41 41 41 41 41 41 41 7 7 36 48 48 57 35 48 61 4 1 61 7 4 37 62 63 7 26 7 7 7 7 63 64 64 26 26 63 65 63 64 64 26 63 26 64 64 26 1 7 7 44 57 36 36 0","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-scenario","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"+NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","line":"15","module":"compile-scenario.xsl","slots":"27","C":[{"N":"sequence","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"18","C":[{"N":"param","name":"Q{}apply","slot":"0","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply","diag":"8|0|XTTE0590|apply","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|apply","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"param","line":"19","name":"Q{}call","slot":"1","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","diag":"8|0|XTTE0590|call","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|call","C":[{"N":"supplied","slot":"1"}]}]}]},{"N":"param","line":"20","name":"Q{}context","slot":"2","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","diag":"8|0|XTTE0590|context","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|context","C":[{"N":"supplied","slot":"2"}]}]}]},{"N":"param","line":"21","name":"Q{}reason-for-pending","slot":"3","flags":"r","as":"?AS","C":[{"N":"check","role":"conversion","card":"?","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"data","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"supplied","slot":"3"}]}]}]}]}]},{"N":"param","line":"22","name":"Q{}run-sut-now","slot":"4","flags":"r","as":"1AB","C":[{"N":"treat","role":"conversion","as":"AB","diag":"8|0|XTTE0590|run-sut-now","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|run-sut-now","C":[{"N":"cvUntyped","to":"AB","diag":"8|0|XTTE0590|run-sut-now","C":[{"N":"data","diag":"8|0|XTTE0590|run-sut-now","C":[{"N":"supplied","slot":"4"}]}]}]}]}]},{"N":"let","line":"27","var":"Q{}local-preceding-vardecls","as":"*NE","slot":"5","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE u[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param,NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable]"},{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"following-sibling","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"following-sibling","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]}]}]},{"N":"filter","flags":"ib","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"varRef","name":"Q{}run-sut-now","slot":"4"}]}]},{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"},{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"following-sibling","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"varRef","name":"Q{}run-sut-now","slot":"4"}]}]}]},{"N":"sequence","line":"31","C":[{"N":"choose","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}href"}]}]},{"N":"fn","name":"exists","C":[{"N":"except","op":"except","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]}]},{"N":"treat","line":"32","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"33","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"convert","line":"35","from":"AZ","to":"AS","flags":"p","diag":"3|0|XTTE0570|message","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|message","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Can't set the context document using both the href attribute and the content of the "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]},{"N":"str","val":" element"}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"choose","line":"40","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}template"}]}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}function"}]}]}]},{"N":"treat","line":"41","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"42","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"1","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Can't call a function and a template at the same time"}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"choose","line":"49","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}apply","slot":"0"}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]}]},{"N":"treat","line":"50","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"51","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"2","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"convert","line":"53","from":"AZ","to":"AS","flags":"p","diag":"3|0|XTTE0570|message","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|message","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Can't use "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}apply","slot":"0"}]},{"N":"str","val":" and set a context at the same time"}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"choose","line":"58","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}apply","slot":"0"}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}call","slot":"1"}]}]},{"N":"treat","line":"59","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"60","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"3","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"convert","line":"62","from":"AZ","to":"AS","flags":"p","diag":"3|0|XTTE0570|message","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|message","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Can't use "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}apply","slot":"0"}]},{"N":"str","val":" and "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}call","slot":"1"}]},{"N":"str","val":" at the same time"}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"choose","line":"67","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]},{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}function"}]}]}]},{"N":"treat","line":"68","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"69","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"4","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Can't set a context and call a function at the same time"}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"choose","line":"76","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}call","slot":"1"}]}]},{"N":"treat","line":"77","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"78","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"5","C":[{"N":"withParam","name":"Q{}level","flags":"c","as":"1AS","C":[{"N":"str","val":"WARNING"}]},{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"convert","line":"81","from":"AZ","to":"AS","flags":"p","diag":"3|0|XTTE0570|message","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|message","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]},{"N":"str","val":"\/"},{"N":"fn","name":"name","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"first","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"str","val":" will have no effect on "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}call","slot":"1"}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"choose","line":"86","C":[{"N":"varRef","name":"Q{}run-sut-now","slot":"4"},{"N":"callT","line":"87","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}check-param-max-position","bSlot":"6"}]},{"N":"choose","line":"89","C":[{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]},{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}call","slot":"1"}]}]},{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}apply","slot":"0"}]}]},{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]}]},{"N":"treat","line":"90","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"91","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"7","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"convert","line":"95","from":"AZ","to":"AS","flags":"p","diag":"3|0|XTTE0570|message","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|message","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"There are "},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}context-element","as":"1NE","slot":"6","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"let","module":"compiler-misc-utils.xsl","line":"79","var":"Q{}context-node-name","as":"1AQ","slot":"7","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|context-node-name","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}context-element","slot":"6"}]}]},{"N":"fn","line":"96","name":"string-join","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"choose","line":"83","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"7"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"8"}]},{"N":"fn","line":"84","name":"prefix-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"7"}]},{"N":"true"},{"N":"let","line":"90","var":"Q{}xspec-prefixes","as":"+AS","slot":"8","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|xspec-prefixes","C":[{"N":"filter","flags":"","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}context-element","slot":"6"}]},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}context-element","slot":"6"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"9"}]}]}]},{"N":"check","line":"91","card":"?","diag":"3|0|XTTE0570|prefix","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|prefix","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|prefix","C":[{"N":"data","diag":"3|0|XTTE0570|prefix","C":[{"N":"first","C":[{"N":"fn","name":"sort","C":[{"N":"varRef","name":"Q{}xspec-prefixes","slot":"8"}]}]}]}]}]}]}]}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"str","val":"expect"}]},{"N":"str","val":":"}]}]}]},{"N":"str","val":" but no "},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}context-element","as":"1NE","slot":"9","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"let","module":"compiler-misc-utils.xsl","line":"79","var":"Q{}context-node-name","as":"1AQ","slot":"10","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|context-node-name","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}context-element","slot":"9"}]}]},{"N":"fn","line":"96","name":"string-join","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"choose","line":"83","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"10"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"10"}]},{"N":"fn","line":"84","name":"prefix-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"10"}]},{"N":"true"},{"N":"let","line":"90","var":"Q{}xspec-prefixes","as":"+AS","slot":"11","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|xspec-prefixes","C":[{"N":"filter","flags":"","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}context-element","slot":"9"}]},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}context-element","slot":"9"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"11"}]}]}]},{"N":"check","line":"91","card":"?","diag":"3|0|XTTE0570|prefix","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|prefix","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|prefix","C":[{"N":"data","diag":"3|0|XTTE0570|prefix","C":[{"N":"first","C":[{"N":"fn","name":"sort","C":[{"N":"varRef","name":"Q{}xspec-prefixes","slot":"11"}]}]}]}]}]}]}]}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"str","val":"call"}]},{"N":"str","val":":"}]}]}]},{"N":"str","val":", "},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}context-element","as":"1NE","slot":"12","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"let","module":"compiler-misc-utils.xsl","line":"79","var":"Q{}context-node-name","as":"1AQ","slot":"13","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|context-node-name","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}context-element","slot":"12"}]}]},{"N":"fn","line":"96","name":"string-join","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"choose","line":"83","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"13"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"12"}]},{"N":"fn","line":"84","name":"prefix-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"13"}]},{"N":"true"},{"N":"let","line":"90","var":"Q{}xspec-prefixes","as":"+AS","slot":"14","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|xspec-prefixes","C":[{"N":"filter","flags":"","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}context-element","slot":"12"}]},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}context-element","slot":"12"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"13"}]}]}]},{"N":"check","line":"91","card":"?","diag":"3|0|XTTE0570|prefix","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|prefix","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|prefix","C":[{"N":"data","diag":"3|0|XTTE0570|prefix","C":[{"N":"first","C":[{"N":"fn","name":"sort","C":[{"N":"varRef","name":"Q{}xspec-prefixes","slot":"14"}]}]}]}]}]}]}]}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"str","val":"apply"}]},{"N":"str","val":":"}]}]}]},{"N":"str","val":" or "},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}context-element","as":"1NE","slot":"15","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"let","module":"compiler-misc-utils.xsl","line":"79","var":"Q{}context-node-name","as":"1AQ","slot":"16","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|context-node-name","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}context-element","slot":"15"}]}]},{"N":"fn","line":"96","name":"string-join","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"choose","line":"83","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"16"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"14"}]},{"N":"fn","line":"84","name":"prefix-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"16"}]},{"N":"true"},{"N":"let","line":"90","var":"Q{}xspec-prefixes","as":"+AS","slot":"17","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|xspec-prefixes","C":[{"N":"filter","flags":"","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}context-element","slot":"15"}]},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}context-element","slot":"15"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"15"}]}]}]},{"N":"check","line":"91","card":"?","diag":"3|0|XTTE0570|prefix","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|prefix","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|prefix","C":[{"N":"data","diag":"3|0|XTTE0570|prefix","C":[{"N":"first","C":[{"N":"fn","name":"sort","C":[{"N":"varRef","name":"Q{}xspec-prefixes","slot":"17"}]}]}]}]}]}]}]}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"str","val":"context"}]},{"N":"str","val":":"}]}]}]},{"N":"str","val":" has been given"}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"treat","line":"101","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:template"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"61"}]},{"N":"sequence","role":"content","line":"102","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"16","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"x:"},{"N":"attVal","name":"Q{}id"}]}]}]},{"N":"att","line":"103","name":"as","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"element("},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"17","C":[{"N":"str","val":"x:scenario"}]}]},{"N":"str","val":")"}]}]},{"N":"compElem","line":"109","flags":"l","C":[{"N":"str","role":"name","val":"xsl:context-item"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"18"}]},{"N":"att","role":"content","line":"110","name":"use","flags":"l","C":[{"N":"str","val":"absent"}]}]},{"N":"forEach","line":"113","C":[{"N":"fn","name":"accumulator-before","C":[{"N":"str","val":"stacked-vardecls-distinct-uqnames"}]},{"N":"elem","line":"114","name":"xsl:param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"dot","type":"1AS"}]},{"N":"att","name":"as","flags":"l","C":[{"N":"str","val":"item()*"}]},{"N":"att","name":"required","flags":"l","C":[{"N":"str","val":"yes"}]}]}]}]},{"N":"elem","line":"117","name":"xsl:message","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"118","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"3"}]},{"N":"sequence","line":"119","C":[{"N":"valueOf","flags":"l","C":[{"N":"str","val":"PENDING: "}]},{"N":"forEach","line":"120","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"normalize-space","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"3"}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"valueOf","line":"121","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"("},{"N":"dot","type":"1AS"},{"N":"str","val":") "}]}]}]}]}]},{"N":"choose","line":"124","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"valueOf","line":"125","flags":"Sl","C":[{"N":"str","val":".."}]}]},{"N":"valueOf","line":"127","flags":"l","C":[{"N":"fn","name":"normalize-space","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"0|0||fn:normalize-space","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:normalize-space","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}labelled","as":"1NE","slot":"18","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"data","module":"compiler-misc-utils.xsl","line":"13","diag":"0|0||fn:normalize-space","C":[{"N":"treat","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"18"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"18"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"18"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"compElem","line":"131","flags":"l","C":[{"N":"str","role":"name","val":"xsl:element"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"60"}]},{"N":"sequence","role":"content","line":"132","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]},{"N":"att","line":"133","name":"namespace","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]},{"N":"applyT","line":"140","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"19","C":[{"N":"sequence","role":"select","line":"136","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}id"},{"N":"att","line":"137","name":"xspec","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}original-xspec"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xspec"}]}]}]}]}]},{"N":"treat","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compiler-pending-utils.xsl","line":"65","as":"NA nQ{}pending","diag":"5|0|XTTE0780|x:pending-attribute-from-reason#1","C":[{"N":"check","card":"?","diag":"5|0|XTTE0780|x:pending-attribute-from-reason#1","C":[{"N":"forEach","C":[{"N":"varRef","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compile-scenario.xsl","line":"138","name":"Q{}reason-for-pending","slot":"3"},{"N":"att","line":"66","name":"pending","C":[{"N":"dot","type":"1AS"}]}]}]}]}]}]},{"N":"applyT","line":"142","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"20","C":[{"N":"let","role":"select","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}labelled","as":"1NE","slot":"19","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"treat","module":"compiler-misc-utils.xsl","line":"13","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"19"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"19"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"19"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]},{"N":"callT","line":"144","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}timestamp","bSlot":"21","C":[{"N":"withParam","name":"Q{}event","flags":"c","as":"1AS","C":[{"N":"str","val":"start"}]}]},{"N":"forEach","line":"150","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"docOrder","intra":"0","C":[{"N":"varRef","name":"Q{}local-preceding-vardecls","slot":"5"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]},{"N":"choose","line":"151","C":[{"N":"or","line":"152","op":"or","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]}]},{"N":"sequence","line":"156","C":[{"N":"callT","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}wrap-node-constructors-and-undeclare-default-ns","bSlot":"22","C":[{"N":"withParam","name":"Q{}wrapper-name","flags":"c","as":"1AS","C":[{"N":"str","val":"input-wrap"}]},{"N":"withParam","name":"Q{}node-constructors","flags":"c","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}element","C":[{"N":"treat","line":"159","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}element","diag":"3|0|XTTE0570|node-constructors","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|node-constructors","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"23","C":[{"N":"dot","role":"select","type":"1NE"}]}]}]}]}]},{"N":"choose","line":"163","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]},{"N":"varRef","name":"Q{}run-sut-now","slot":"4"}]},{"N":"callT","line":"166","name":"Q{urn:x-xspec:compiler:xslt:compile:compile-scenario:local}set-up-context","bSlot":"24"}]}]},{"N":"fn","line":"170","name":"exists","C":[{"N":"among","op":"among","C":[{"N":"dot","type":"1NE"},{"N":"varRef","name":"Q{}local-preceding-vardecls","slot":"5"}]}]},{"N":"applyT","line":"174","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","bSlot":"25","C":[{"N":"dot","role":"select","type":"1NE"}]},{"N":"true"},{"N":"message","line":"178","C":[{"N":"callT","role":"select","line":"179","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"26","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Unhandled"}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"choose","line":"187","C":[{"N":"varRef","name":"Q{}run-sut-now","slot":"4"},{"N":"sequence","line":"188","C":[{"N":"choose","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]}]},{"N":"callT","line":"192","name":"Q{urn:x-xspec:compiler:xslt:compile:compile-scenario:local}set-up-context","bSlot":"27"}]},{"N":"elem","line":"195","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"28","C":[{"N":"str","val":"x:result"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"str","val":"item()*"}]},{"N":"applyT","line":"198","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","bSlot":"29","C":[{"N":"slash","role":"select","simple":"1","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"varRef","name":"Q{}apply","slot":"0"},{"N":"varRef","name":"Q{}context","slot":"2"}]}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"choose","line":"201","C":[{"N":"gVarRef","line":"202","name":"Q{}is-external","bSlot":"30"},{"N":"sequence","line":"204","C":[{"N":"callT","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}transform-options","bSlot":"31"},{"N":"let","line":"207","var":"Q{}enter-sut","as":"+NE","slot":"20","C":[{"N":"treat","line":"208","as":"NE","diag":"3|0|XTTE0570|enter-sut","C":[{"N":"callT","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}enter-sut","bSlot":"32","C":[{"N":"withParam","name":"Q{}instruction","flags":"c","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}sequence","C":[{"N":"elem","line":"211","name":"xsl:sequence","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"transform($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"33","C":[{"N":"str","val":"impl:transform-options"}]},{"N":"str","val":")?output"}]}]}]}]}]}]},{"N":"choose","line":"217","C":[{"N":"and","line":"218","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}template"}]}]},{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]}]},{"N":"elem","line":"219","name":"xsl:for-each","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"34","C":[{"N":"check","card":"1","diag":"0|0||x:variable-UQName","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]}]}]}]},{"N":"elem","line":"220","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"35","C":[{"N":"str","val":"impl:transform-options"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"map("},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"36","C":[{"N":"str","val":"xs:string"}]},{"N":"str","val":", item()*)"}]}]},{"N":"att","line":"221","name":"select","flags":"l","C":[{"N":"convert","line":"222","from":"AZ","to":"AS","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"37","C":[{"N":"str","val":"map:put"}]},{"N":"str","val":"($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"38","C":[{"N":"str","val":"impl:transform-options"}]},{"N":"str","val":", 'global-context-item', .)"}]}]}]}]}]}]},{"N":"varRef","line":"225","name":"Q{}enter-sut","slot":"20"}]}]},{"N":"true"},{"N":"varRef","line":"229","name":"Q{}enter-sut","slot":"20"}]}]}]},{"N":"fn","line":"234","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}template"}]}]},{"N":"let","line":"236","var":"Q{}template-call","as":"1NE","slot":"21","C":[{"N":"treat","line":"237","as":"NE","diag":"3|0|XTTE0570|template-call","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|template-call","C":[{"N":"callT","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}enter-sut","bSlot":"39","C":[{"N":"withParam","name":"Q{}instruction","flags":"c","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template","C":[{"N":"elem","line":"240","name":"xsl:call-template","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"40","C":[{"N":"check","card":"1","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}template"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]}]},{"N":"str","val":" "}]}]},{"N":"forEach","line":"241","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"elem","line":"242","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"244","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}element","as":"1NE","slot":"22","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"22"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"22"}]}]}]}]}]},{"N":"att","line":"247","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"41","C":[{"N":"check","card":"1","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"att","line":"249","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"42","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"axis","line":"251","name":"attribute","nodeTest":"NA nQ{}tunnel"},{"N":"axis","line":"251","name":"attribute","nodeTest":"NA nQ{}as"}]}]}]}]}]}]}]}]}]},{"N":"choose","line":"259","C":[{"N":"fn","line":"260","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]},{"N":"elem","line":"262","name":"xsl:for-each","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"43","C":[{"N":"check","card":"1","diag":"0|0||x:variable-UQName","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]}]}]}]},{"N":"varRef","line":"263","name":"Q{}template-call","slot":"21"}]}]},{"N":"true"},{"N":"varRef","line":"267","name":"Q{}template-call","slot":"21"}]}]},{"N":"fn","line":"272","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}function"}]}]},{"N":"callT","line":"274","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}enter-sut","bSlot":"44","C":[{"N":"withParam","name":"Q{}instruction","flags":"c","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}sequence","C":[{"N":"elem","line":"276","name":"xsl:sequence","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"sequence","line":"279","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}element","as":"1NE","slot":"23","C":[{"N":"check","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","card":"1","diag":"0|0||x:copy-of-namespaces","C":[{"N":"varRef","name":"Q{}call","slot":"1"}]},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"23"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"23"}]}]}]}]}]},{"N":"att","line":"281","name":"select","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}function-call-text","tailCall":"false","bSlot":"45","C":[{"N":"check","card":"1","diag":"0|0||x:function-call-text","C":[{"N":"varRef","name":"Q{}call","slot":"1"}]}]}]}]}]}]}]}]}]},{"N":"fn","line":"287","name":"exists","C":[{"N":"varRef","name":"Q{}apply","slot":"0"}]},{"N":"callT","line":"291","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}enter-sut","bSlot":"46","C":[{"N":"withParam","name":"Q{}instruction","flags":"c","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}apply-templates","C":[{"N":"elem","line":"293","name":"xsl:apply-templates","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"sequence","line":"296","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}element","as":"1NE","slot":"24","C":[{"N":"check","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","card":"1","diag":"0|0||x:copy-of-namespaces","C":[{"N":"varRef","name":"Q{}apply","slot":"0"}]},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"24"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"24"}]}]}]}]}]},{"N":"slash","line":"298","simple":"1","C":[{"N":"varRef","name":"Q{}apply","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}select"}]},{"N":"choose","line":"300","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}apply","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}mode"}]}]},{"N":"att","line":"302","name":"mode","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}apply","slot":"0"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"47","C":[{"N":"check","card":"1","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}mode"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}apply"}]}]},{"N":"str","val":" "}]}]}]},{"N":"forEach","line":"305","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}apply","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"elem","line":"306","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"308","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}element","as":"1NE","slot":"25","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"25"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"25"}]}]}]}]}]},{"N":"att","line":"311","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"48","C":[{"N":"check","card":"1","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"att","line":"313","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"49","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"axis","line":"315","name":"attribute","nodeTest":"NA nQ{}tunnel"},{"N":"axis","line":"315","name":"attribute","nodeTest":"NA nQ{}as"}]}]}]}]}]}]}]},{"N":"fn","line":"323","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]},{"N":"callT","line":"325","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}enter-sut","bSlot":"50","C":[{"N":"withParam","name":"Q{}instruction","flags":"c","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}apply-templates","C":[{"N":"elem","line":"327","name":"xsl:apply-templates","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"51","C":[{"N":"check","card":"1","diag":"0|0||x:variable-UQName","C":[{"N":"varRef","name":"Q{}context","slot":"2"}]}]}]}]},{"N":"choose","line":"328","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}mode"}]}]},{"N":"att","line":"330","name":"mode","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"52","C":[{"N":"check","card":"1","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}mode"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]}]},{"N":"str","val":" "}]}]}]},{"N":"forEach","line":"333","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"2"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"elem","line":"334","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"336","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}element","as":"1NE","slot":"26","C":[{"N":"dot","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"26"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"26"}]}]}]}]}]},{"N":"att","line":"339","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"53","C":[{"N":"check","card":"1","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"att","line":"341","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"54","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"axis","line":"343","name":"attribute","nodeTest":"NA nQ{}tunnel"},{"N":"axis","line":"343","name":"attribute","nodeTest":"NA nQ{}as"}]}]}]}]}]}]}]},{"N":"true"},{"N":"message","line":"353","C":[{"N":"callT","role":"select","line":"354","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"55","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"cannot happen."}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]},{"N":"elem","line":"362","name":"xsl:call-template","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"56","C":[{"N":"str","val":"rep:report-sequence"}]}]},{"N":"elem","line":"363","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"sequence"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"57","C":[{"N":"str","val":"x:result"}]}]}]}]}]},{"N":"elem","line":"364","name":"xsl:with-param","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"report-name"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"str","val":"'result'"}]}]}]}]}]},{"N":"comment","line":"366","flags":"l","C":[{"N":"str","val":" invoke each compiled x:expect "}]}]}]},{"N":"callT","line":"369","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}invoke-compiled-child-scenarios-or-expects","bSlot":"58","C":[{"N":"withParam","name":"Q{}handled-child-vardecls","flags":"c","as":"*NE","C":[{"N":"varRef","line":"370","name":"Q{}local-preceding-vardecls","slot":"5"}]}]},{"N":"callT","line":"373","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}timestamp","bSlot":"59","C":[{"N":"withParam","name":"Q{}event","flags":"c","as":"1AS","C":[{"N":"str","val":"end"}]}]}]}]}]}]}]},{"N":"treat","line":"381","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}template","diag":"7|0|XTTE0505|x:compile-scenario","C":[{"N":"callT","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-child-scenarios-or-expects","bSlot":"62","flags":"t"}]}]}]}]}]}]},{"N":"co","id":"66","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","line":"12","module":"yes-no-utils.xsl","flags":"pU","as":"1AB","slots":"1","C":[{"N":"arg","name":"Q{}input","as":"1AS"},{"N":"choose","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"16","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"yes"},{"N":"str","val":"true"},{"N":"str","val":"1"}]},{"N":"varRef","name":"Q{}input","slot":"0"}]},{"N":"true"},{"N":"gc","line":"19","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"no"},{"N":"str","val":"false"},{"N":"str","val":"0"}]},{"N":"varRef","name":"Q{}input","slot":"0"}]},{"N":"false"},{"N":"true"},{"N":"error","line":"15","message":"Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:yes-no-synonym#1","code":"XTTE0780","isTypeErr":"0"}]}]}]},{"N":"co","id":"67","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}label","line":"8","module":"compiler-misc-utils.xsl","flags":"pU","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","slots":"1","C":[{"N":"arg","name":"Q{}labelled","as":"1NE"},{"N":"treat","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"13","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"0"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"46","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","line":"28","module":"yes-no-utils.xsl","flags":"pU","as":"1AB","slots":"3","C":[{"N":"arg","name":"Q{}input","as":"?AS"},{"N":"arg","name":"Q{}default","as":"1AB"},{"N":"choose","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"38","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}input","slot":"0"}]},{"N":"let","var":"Q{}input","as":"1AS","slot":"2","C":[{"N":"check","card":"1","diag":"0|0||x:yes-no-synonym","C":[{"N":"varRef","name":"Q{}input","slot":"0"}]},{"N":"choose","line":"16","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"yes"},{"N":"str","val":"true"},{"N":"str","val":"1"}]},{"N":"varRef","name":"Q{}input","slot":"2"}]},{"N":"true"},{"N":"gc","line":"19","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"no"},{"N":"str","val":"false"},{"N":"str","val":"0"}]},{"N":"varRef","name":"Q{}input","slot":"2"}]},{"N":"false"},{"N":"true"},{"N":"error","line":"15","message":"Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:yes-no-synonym#1","code":"XTTE0780","isTypeErr":"0"}]}]},{"N":"true"},{"N":"varRef","name":"Q{}default","slot":"1"}]}]}]},{"N":"co","id":"68","binds":"","C":[{"N":"function","name":"Q{urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local}param-dup-position-error-string","line":"216","module":"compile-child-scenarios-or-expects.xsl","flags":"pU","as":"?AS","slots":"2","C":[{"N":"arg","name":"Q{}owner","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"},{"N":"let","role":"body","ns":"local=urn:x-xspec:compiler:base:compile:compile-child-scenarios-or-expects:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"220","var":"Q{}positions","as":"*ADI","slot":"1","C":[{"N":"forEach","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}owner","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"cast","flags":"ae","as":"?ADI","C":[{"N":"attVal","name":"Q{}position"}]}]},{"N":"check","line":"221","card":"?","diag":"5|0|XTTE0780|local:param-dup-position-error-string#1","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"5|0|XTTE0780|local:param-dup-position-error-string#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|local:param-dup-position-error-string#1","C":[{"N":"data","diag":"5|0|XTTE0780|local:param-dup-position-error-string#1","C":[{"N":"forEach","C":[{"N":"first","C":[{"N":"filter","flags":"pb","C":[{"N":"varRef","name":"Q{}positions","slot":"1"},{"N":"gc","op":"=","card":"N:1","comp":"CAVC","C":[{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}positions","slot":"1"},{"N":"int","val":"1"},{"N":"arith","op":"-","calc":"i-i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]},{"N":"dot","type":"1ADI"}]}]}]},{"N":"valueOf","line":"222","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Duplicate parameter position, "},{"N":"convert","from":"ADI","to":"AS","C":[{"N":"dot","type":"1ADI"}]},{"N":"str","val":", used in "},{"N":"fn","name":"name","C":[{"N":"varRef","name":"Q{}owner","slot":"0"}]},{"N":"str","val":"."}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"69","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName","line":"9","module":"uqname-utils.xsl","flags":"pU","as":"1AS","slots":"2","C":[{"N":"arg","name":"Q{}namespace-uri","as":"1AS"},{"N":"arg","name":"Q{}local-name","as":"1AS"},{"N":"fn","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"13","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Q{"},{"N":"varRef","name":"Q{}namespace-uri","slot":"0"}]},{"N":"str","val":"}"}]},{"N":"varRef","name":"Q{}local-name","slot":"1"}]}]}]},{"N":"co","id":"13","binds":"70 25 70 25 71 72","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}check-combined-doc","onNo":"SS","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"3","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable","flags":"s","as":"0","line":"36","module":"check-combined-doc.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"37","card":"0","diag":"7|0|XTTE0505|match=\"x:variable\" mode=\"x:check-combined-doc\"","C":[{"N":"sequence","C":[{"N":"callT","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-reserved-vardecl-name","bSlot":"0"},{"N":"callT","line":"38","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-conflicting-vardecl","bSlot":"1","flags":"t"}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"2","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","flags":"s","as":"0","line":"15","module":"check-combined-doc.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"16","card":"0","diag":"7|0|XTTE0505|match=\"x:param\" mode=\"x:check-combined-doc\"","C":[{"N":"sequence","C":[{"N":"callT","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-reserved-vardecl-name","bSlot":"2"},{"N":"choose","line":"20","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]},{"N":"callT","line":"21","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-conflicting-vardecl","bSlot":"3"}]},{"N":"choose","line":"26","C":[{"N":"fn","line":"27","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"callT","line":"28","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-static-description-param-run-as-import","bSlot":"4","flags":"t"},{"N":"fn","line":"30","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"callT","line":"31","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-scenario-param-run-as-import","bSlot":"5","flags":"t"}]}]}]}]}]}]},{"N":"co","id":"36","binds":"","C":[{"N":"globalVariable","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","as":"1AU","line":"33","module":"namespace-utils.xsl","visibility":"PRIVATE","C":[{"N":"atomic","val":"http:\/\/www.w3.org\/1999\/XSL\/Transform","type":"AU"}]}]},{"N":"co","id":"73","binds":"23","C":[{"N":"function","name":"Q{urn:x-xspec:compiler:base:util:compiler-eqname-utils:local}resolve-UQName","line":"86","module":"compiler-eqname-utils.xsl","flags":"pU","as":"1AQ","slots":"1","C":[{"N":"arg","name":"Q{}uqname","as":"1AS"},{"N":"check","role":"body","ns":"local=urn:x-xspec:compiler:base:util:compiler-eqname-utils:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"101","card":"1","diag":"5|0|XTTE0780|local:resolve-UQName#1","C":[{"N":"analyzeString","C":[{"N":"varRef","role":"select","name":"Q{}uqname","slot":"0"},{"N":"convert","role":"regex","line":"90","from":"AZ","to":"AS","flags":"p","diag":"3|0|XTTE0570|regex","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|regex","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"sequence","C":[{"N":"valueOf","C":[{"N":"str","val":"\n            \n            ^\n               Q\\{\n                  ([^\\{\\}]*)                                   \n               \\}\n               "}]},{"N":"valueOf","line":"96","C":[{"N":"gVarRef","name":"Q{urn:x-xspec:compiler:base:util:compiler-eqname-utils:local}capture-NCName","bSlot":"0"}]},{"N":"valueOf","C":[{"N":"str","val":" \n            $\n         "}]}]}]}]}]},{"N":"str","val":""}]}]}]}]},{"N":"str","role":"flags","val":"x"},{"N":"fn","role":"matching","line":"103","name":"QName","C":[{"N":"fn","name":"regex-group","C":[{"N":"int","val":"1"}]},{"N":"fn","name":"regex-group","C":[{"N":"int","val":"2"}]}]}]}]}]}]},{"N":"co","id":"7","binds":"74 75 76 41 59 36","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","line":"19","module":"uqname-utils.xsl","flags":"pU","as":"1AS","slots":"2","C":[{"N":"arg","name":"Q{}lexical-qname","as":"1AS"},{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"22","var":"Q{}prefix","as":"1AS","slot":"1","C":[{"N":"fn","name":"substring-before","C":[{"N":"varRef","name":"Q{}lexical-qname","slot":"0"},{"N":"str","val":":"}]},{"N":"fn","line":"13","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Q{"},{"N":"treat","line":"27","as":"AS","diag":"3|0||namespace","C":[{"N":"check","card":"1","diag":"3|0||namespace","C":[{"N":"choose","C":[{"N":"compareToString","op":"eq","val":"config","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"str","val":"http:\/\/saxon.sf.net\/ns\/configuration"},{"N":"compareToString","line":"30","op":"eq","val":"deq","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"convert","line":"31","from":"AU","to":"AS","flags":"p","diag":"3|0|XTTE0570|namespace","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|namespace","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}deq-namespace","bSlot":"0"}]}]},{"N":"compareToString","line":"33","op":"eq","val":"err","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"str","val":"http:\/\/www.w3.org\/2005\/xqt-errors"},{"N":"compareToString","line":"36","op":"eq","val":"impl","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"str","val":"urn:x-xspec:compile:impl"},{"N":"compareToString","line":"39","op":"eq","val":"map","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"str","val":"http:\/\/www.w3.org\/2005\/xpath-functions\/map"},{"N":"compareToString","line":"42","op":"eq","val":"output","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"str","val":"http:\/\/www.w3.org\/2010\/xslt-xquery-serialization"},{"N":"compareToString","line":"45","op":"eq","val":"rep","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"convert","line":"46","from":"AU","to":"AS","flags":"p","diag":"3|0|XTTE0570|namespace","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|namespace","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}rep-namespace","bSlot":"1"}]}]},{"N":"compareToString","line":"48","op":"eq","val":"saxon","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"convert","line":"49","from":"AU","to":"AS","flags":"p","diag":"3|0|XTTE0570|namespace","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|namespace","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}saxon-namespace","bSlot":"2"}]}]},{"N":"compareToString","line":"51","op":"eq","val":"svrl","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"str","val":"http:\/\/purl.oclc.org\/dsdl\/svrl"},{"N":"compareToString","line":"54","op":"eq","val":"x","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"convert","line":"55","from":"AU","to":"AS","flags":"p","diag":"3|0|XTTE0570|namespace","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|namespace","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"3"}]}]},{"N":"compareToString","line":"57","op":"eq","val":"xs","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"convert","line":"58","from":"AU","to":"AS","flags":"p","diag":"3|0|XTTE0570|namespace","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|namespace","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xs-namespace","bSlot":"4"}]}]},{"N":"compareToString","line":"60","op":"eq","val":"xsl","C":[{"N":"varRef","name":"Q{}prefix","slot":"1"}]},{"N":"convert","line":"61","from":"AU","to":"AS","flags":"p","diag":"3|0|XTTE0570|namespace","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|namespace","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"5"}]}]},{"N":"true"},{"N":"error","line":"26","message":"Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the value of variable $namespace","code":"XTTE0570","isTypeErr":"0"}]}]}]}]},{"N":"str","val":"}"}]},{"N":"fn","line":"23","name":"substring-after","C":[{"N":"varRef","name":"Q{}lexical-qname","slot":"0"},{"N":"str","val":":"}]}]}]}]}]},{"N":"co","id":"77","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}extract-version","line":"69","module":"version-utils.xsl","flags":"pU","as":"*ADI","slots":"1","C":[{"N":"arg","name":"Q{}input","as":"1AS"},{"N":"analyzeString","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"83","C":[{"N":"varRef","role":"select","name":"Q{}input","slot":"0"},{"N":"str","role":"regex","val":"\n\t\t\t([0-9]+)\t\t\n\t\t\t\\.\n\t\t\t([0-9]+)\t\t\n\t\t\t(?:\n\t\t\t\t\\.\n\t\t\t\t([0-9]+)\t\n\t\t\t\t\\.\n\t\t\t\t([0-9]+)\t\n\t\t\t)?\n\t\t"},{"N":"str","role":"flags","val":"x"},{"N":"forEach","role":"matching","line":"90","C":[{"N":"forEach","C":[{"N":"range","from":"1","to":"4"},{"N":"first","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"regex-group","C":[{"N":"dot","type":"1ADI"}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"int","val":"0"}]}]}]},{"N":"cast","flags":"a","as":"1ADI","C":[{"N":"dot","type":"1A"}]}]}]}]}]},{"N":"co","id":"78","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}trim","line":"27","module":"trim.xsl","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}input","as":"1AS"},{"N":"fn","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"12","name":"replace","C":[{"N":"fn","line":"33","name":"replace","C":[{"N":"varRef","name":"Q{}input","slot":"0"},{"N":"str","val":"\\s+$"},{"N":"str","val":""},{"N":"str","val":""}]},{"N":"str","val":"^\\s+"},{"N":"str","val":""},{"N":"str","val":""}]}]}]},{"N":"co","id":"79","binds":"80 8 81 53 1","C":[{"N":"mode","onNo":"FF","flags":"dF","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"0","rank":"0","minImp":"0","slots":"0","matches":"ND","flags":"s","as":"+N","line":"82","module":"main.xsl","C":[{"N":"p.nodeTest","role":"match","test":"ND"},{"N":"check","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"83","card":"+","diag":"7|0|XTTE0505|match=\"document-node()\"","C":[{"N":"sequence","C":[{"N":"callT","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}perform-initial-check","bSlot":"0"},{"N":"forEach","line":"95","C":[{"N":"slash","line":"91","simple":"1","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}combine","tailCall":"false","bSlot":"1","C":[{"N":"check","line":"86","card":"+","diag":"3|0|XTTE0570|specs","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-import","tailCall":"false","bSlot":"2","C":[{"N":"check","card":"1","diag":"0|0||x:resolve-import","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]}]}]}]},{"N":"axis","line":"95","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"callT","line":"96","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}main","bSlot":"3"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"21","rank":"1","minImp":"0","slots":"0","matches":"NA nQ{}xspec","flags":"s","as":"1NA nQ{}original-xspec","line":"57","module":"gather-specs.xsl","C":[{"N":"p.withUpper","role":"match","axis":"parent","upFirst":"false","C":[{"N":"p.nodeTest","test":"NA nQ{}xspec"},{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"58","card":"1","diag":"7|0|XTTE0505|match=\"x:scenario\/@xspec\"","C":[{"N":"sequence","C":[{"N":"treat","as":"NA nQ{}original-xspec","diag":"7|0|XTTE0505|match=\"x:scenario\/@xspec\"","C":[{"N":"forEach","C":[{"N":"slash","simple":"2","C":[{"N":"axis","name":"parent","nodeTest":"NE"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}original-xspec"}]},{"N":"message","line":"59","C":[{"N":"callT","role":"select","line":"60","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"4","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"62","from":"AZ","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"valueOf","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Already has @"},{"N":"fn","name":"name","C":[{"N":"dot","type":"1NA nQ{}original-xspec"}]}]}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"treat","line":"68","as":"NA nQ{}original-xspec","diag":"7|0|XTTE0505|match=\"x:scenario\/@xspec\"","C":[{"N":"att","name":"original-xspec","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"dot","type":"1NA nQ{}xspec","flags":"a"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"58","binds":"1","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}non-boolean-without-comparison","line":"32","module":"compile-expect.xsl","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}expect","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"35","card":"1","diag":"5|0|XTTE0780|x:non-boolean-without-comparison#1","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}expect","slot":"0"},{"N":"callT","line":"36","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Non-boolean @test must be accompanied by @as, @href, @select, or child node."}]}]}]}]}]}]},{"N":"co","id":"82","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}element-additional-namespace-nodes","line":"52","module":"compiler-misc-utils.xsl","flags":"pU","as":"*NN","slots":"3","C":[{"N":"arg","name":"Q{}element","as":"1NE"},{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"59","var":"Q{}element-name-prefix","as":"1AS","slot":"1","C":[{"N":"fn","name":"string","C":[{"N":"fn","name":"prefix-from-QName","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}element","slot":"0"}]}]}]},{"N":"sort","line":"62","C":[{"N":"filter","role":"select","flags":"b","C":[{"N":"let","var":"Q{}element","as":"1NE","slot":"2","C":[{"N":"varRef","name":"Q{}element","slot":"0"},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"2"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"2"}]}]}]}]}]},{"N":"vc","op":"ne","comp":"CCC","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NN"}]},{"N":"varRef","name":"Q{}element-name-prefix","slot":"1"}]}]},{"N":"sortKey","line":"63","comp":"CCC","C":[{"N":"fn","role":"select","name":"name","C":[{"N":"dot","type":"1NN"}]},{"N":"str","role":"order","val":"ascending"},{"N":"str","role":"lang","val":""},{"N":"str","role":"caseOrder","val":"#default"},{"N":"str","role":"stable","val":"yes"},{"N":"str","role":"collation","val":"http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint"}]}]}]}]}]},{"N":"co","id":"48","binds":"82 36 36 36 36 36 36","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","onNo":"FF","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"31","rank":"0","minImp":"0","slots":"0","matches":"NE","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}element","line":"13","module":"node-constructor.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE"},{"N":"treat","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"14","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}element","diag":"7|0|XTTE0505|match=\"element()\" mode=\"x:node-constructor\"","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:element"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"1"}]},{"N":"sequence","role":"content","line":"15","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE","flags":"a"}]}]},{"N":"att","line":"16","name":"namespace","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NE","flags":"a"}]}]}]},{"N":"applyT","line":"23","flags":"c","bSlot":"-1","C":[{"N":"sequence","role":"select","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}element-additional-namespace-nodes","tailCall":"false","bSlot":"0","C":[{"N":"dot","type":"1NE","flags":"a"}]},{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"37","rank":"1","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}text","line":"92","module":"node-constructor.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text"},{"N":"treat","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"94","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}text","diag":"7|0|XTTE0505|match=\"x:text\" mode=\"x:node-constructor\"","C":[{"N":"check","card":"1","diag":"7|0|XTTE0505|match=\"x:text\" mode=\"x:node-constructor\"","C":[{"N":"applyT","flags":"cti","bSlot":"-1","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"33","rank":"0","minImp":"0","slots":"3","matches":"NA","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}attribute","line":"34","module":"node-constructor.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA"},{"N":"let","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"35","var":"Q{}maybe-avt","as":"1AB","slot":"0","C":[{"N":"let","var":"Q{}node","as":"1N","slot":"1","C":[{"N":"dot","type":"1NA","flags":"a"},{"N":"fn","module":"user-content-utils.xsl","line":"23","name":"exists","C":[{"N":"intersect","op":"intersect","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"N"}]}]},{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"1"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]}]}]},{"N":"treat","line":"37","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}attribute","diag":"7|0|XTTE0505|match=\"attribute()\" mode=\"x:node-constructor\"","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:attribute"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"2"}]},{"N":"sequence","role":"content","line":"38","C":[{"N":"choose","C":[{"N":"varRef","name":"Q{}maybe-avt","slot":"0"},{"N":"let","line":"41","var":"Q{}element","as":"1NE","slot":"2","C":[{"N":"check","card":"1","diag":"0|0||x:copy-of-namespaces","C":[{"N":"axis","name":"parent","nodeTest":"NE"}]},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"2"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"2"}]}]}]}]}]}]},{"N":"att","line":"44","name":"name","flags":"l","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NA","flags":"a"}]}]},{"N":"att","line":"45","name":"namespace","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]},{"N":"choose","line":"47","C":[{"N":"varRef","line":"48","name":"Q{}maybe-avt","slot":"0"},{"N":"sequence","line":"49","C":[{"N":"att","name":"select","flags":"l","C":[{"N":"str","val":"'', ''"}]},{"N":"att","line":"50","name":"separator","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]}]},{"N":"true"},{"N":"valueOf","line":"54","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"34","rank":"0","minImp":"0","slots":"3","matches":"NT","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}text","line":"60","module":"node-constructor.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NT"},{"N":"treat","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"61","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}text","diag":"7|0|XTTE0505|match=\"text()\" mode=\"x:node-constructor\"","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:text"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"3"}]},{"N":"sequence","role":"content","line":"62","C":[{"N":"choose","C":[{"N":"let","var":"Q{}node","as":"1N","slot":"0","C":[{"N":"dot","type":"1NT","flags":"a"},{"N":"fn","module":"user-content-utils.xsl","line":"23","name":"exists","C":[{"N":"intersect","op":"intersect","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"N"}]}]},{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]}]}]},{"N":"sequence","line":"63","C":[{"N":"choose","C":[{"N":"slash","C":[{"N":"slash","simple":"2","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}expand-text"}]},{"N":"let","var":"Q{}input","as":"1AS","slot":"1","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"data","diag":"0|0||x:yes-no-synonym","C":[{"N":"dot","type":"1NA nQ{}expand-text"}]}]}]},{"N":"choose","module":"yes-no-utils.xsl","line":"16","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"yes"},{"N":"str","val":"true"},{"N":"str","val":"1"}]},{"N":"varRef","name":"Q{}input","slot":"1"}]},{"N":"true"},{"N":"gc","line":"19","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"no"},{"N":"str","val":"false"},{"N":"str","val":"0"}]},{"N":"varRef","name":"Q{}input","slot":"1"}]},{"N":"false"},{"N":"true"},{"N":"error","line":"15","message":"Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:yes-no-synonym#1","code":"XTTE0780","isTypeErr":"0"}]}]}]},{"N":"let","line":"66","var":"Q{}element","as":"1NE","slot":"2","C":[{"N":"check","card":"1","diag":"0|0||x:copy-of-namespaces","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text"}]},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"2"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"2"}]}]}]}]}]}]},{"N":"slash","line":"69","simple":"2","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}expand-text"}]}]}]},{"N":"dot","line":"72","type":"1NT","flags":"a"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"36","rank":"0","minImp":"0","slots":"0","matches":"NC","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}comment","line":"85","module":"node-constructor.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NC"},{"N":"treat","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"86","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}comment","diag":"7|0|XTTE0505|match=\"comment()\" mode=\"x:node-constructor\"","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:comment"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"4"}]},{"N":"valueOf","role":"content","line":"87","flags":"l","C":[{"N":"data","C":[{"N":"dot","type":"1NC","flags":"a"}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"35","rank":"0","minImp":"0","slots":"0","matches":"NP","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}processing-instruction","line":"77","module":"node-constructor.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NP"},{"N":"treat","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"78","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}processing-instruction","diag":"7|0|XTTE0505|match=\"processing-instruction()\" mode=\"x:node-constructor\"","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:processing-instruction"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"5"}]},{"N":"sequence","role":"content","line":"79","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NP","flags":"a"}]}]},{"N":"valueOf","line":"81","flags":"l","C":[{"N":"data","C":[{"N":"dot","type":"1NP","flags":"a"}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"32","rank":"0","minImp":"0","slots":"0","matches":"NN","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}namespace","line":"27","module":"node-constructor.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NN"},{"N":"treat","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"28","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}namespace","diag":"7|0|XTTE0505|match=\"namespace-node()\" mode=\"x:node-constructor\"","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:namespace"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"6"}]},{"N":"sequence","role":"content","line":"29","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NN","flags":"a"}]}]},{"N":"valueOf","line":"30","flags":"l","C":[{"N":"data","C":[{"N":"dot","type":"1NN","flags":"a"}]}]}]}]}]}]}]}]},{"N":"co","id":"64","binds":"56","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","line":"62","module":"compiler-eqname-utils.xsl","flags":"pU","as":"1AS","slots":"2","C":[{"N":"arg","name":"Q{}eqname","as":"1AS"},{"N":"arg","name":"Q{}element","as":"1NE"},{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"76","card":"1","diag":"5|0|XTTE0780|x:UQName-from-QName#1","C":[{"N":"forEach","C":[{"N":"ufCall","ns":"local=urn:x-xspec:compiler:base:util:compiler-eqname-utils:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compiler-eqname-utils.xsl","line":"69","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-EQName-ignoring-default-ns","tailCall":"false","bSlot":"0","C":[{"N":"varRef","name":"Q{}eqname","slot":"0"},{"N":"varRef","name":"Q{}element","slot":"1"}]},{"N":"fn","line":"13","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Q{"},{"N":"convert","line":"76","from":"AU","to":"AS","flags":"p","diag":"0|0||x:UQName","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"dot","type":"1AQ"}]}]}]}]},{"N":"str","val":"}"}]},{"N":"check","line":"76","card":"1","diag":"0|1||x:UQName","C":[{"N":"fn","name":"local-name-from-QName","C":[{"N":"dot","type":"1AQ"}]}]}]}]}]}]}]},{"N":"co","id":"22","binds":"77","C":[{"N":"globalVariable","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}saxon-version","as":"?ADI","line":"15","module":"version-utils.xsl","slots":"2","visibility":"PRIVATE","C":[{"N":"choose","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"16","C":[{"N":"compareToString","op":"eq","val":"SAXON","C":[{"N":"fn","name":"system-property","C":[{"N":"str","val":"xsl:product-name"}]}]},{"N":"let","line":"20","var":"Q{}ver-components","as":"+ADI","slot":"1","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|ver-components","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}extract-version","tailCall":"false","bSlot":"0","C":[{"N":"fn","name":"system-property","C":[{"N":"str","val":"xsl:product-version"}]}]}]},{"N":"choose","line":"48","C":[{"N":"and","op":"and","C":[{"N":"and","op":"and","C":[{"N":"compareToInt","op":"le","val":"4","C":[{"N":"fn","name":"count","C":[{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}ver-components","slot":"1"},{"N":"int","val":"1"},{"N":"int","val":"5"}]}]}]},{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}ver-components","slot":"1"},{"N":"compareToInt","op":"ge","val":"65536","C":[{"N":"dot","type":"1ADI"}]}]}]}]},{"N":"fn","name":"empty","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}ver-components","slot":"1"},{"N":"compareToInt","op":"lt","val":"0","C":[{"N":"dot","type":"1ADI"}]}]}]}]},{"N":"arith","line":"56","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","line":"49","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"first","C":[{"N":"varRef","name":"Q{}ver-components","slot":"1"}]},{"N":"int","val":"65536"}]},{"N":"first","line":"50","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"varRef","name":"Q{}ver-components","slot":"1"},{"N":"int","val":"2"}]},{"N":"int","val":"0"}]}]}]},{"N":"int","val":"65536"}]},{"N":"int","val":"65536"}]},{"N":"arith","line":"51","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"varRef","name":"Q{}ver-components","slot":"1"},{"N":"int","val":"3"}]},{"N":"int","val":"0"}]}]},{"N":"int","val":"65536"}]},{"N":"first","line":"52","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"varRef","name":"Q{}ver-components","slot":"1"},{"N":"int","val":"4"}]},{"N":"int","val":"0"}]}]}]}]},{"N":"true"},{"N":"error","message":"Conditional expression: The condition is not satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:pack-version#1","code":"XTTE0780","isTypeErr":"0"}]}]}]}]}]},{"N":"co","id":"81","binds":"83 84","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-import","line":"13","module":"resolve-import.xsl","flags":"pU","as":"*N","slots":"1","C":[{"N":"arg","name":"Q{}initial-description","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"treat","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"21","as":"N","diag":"5|0|XTTE0780|x:resolve-import#1","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}gather-specs","bSlot":"0","C":[{"N":"ufCall","role":"select","line":"18","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}gather-descriptions","tailCall":"false","bSlot":"1","C":[{"N":"varRef","name":"Q{}initial-description","slot":"0"}]}]}]}]}]},{"N":"co","id":"19","binds":"","C":[{"N":"globalVariable","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","as":"1AS","line":"18","module":"common-utils.xsl","visibility":"PRIVATE","C":[{"N":"str","val":"'"}]}]},{"N":"co","id":"85","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}left-trim","line":"9","module":"trim.xsl","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}input","as":"1AS"},{"N":"fn","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"12","name":"replace","C":[{"N":"varRef","name":"Q{}input","slot":"0"},{"N":"str","val":"^\\s+"},{"N":"str","val":""},{"N":"str","val":""}]}]}]},{"N":"co","id":"38","binds":"","C":[{"N":"globalVariable","name":"Q{}initial-document","as":"1ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]","line":"37","module":"main.xsl","visibility":"PRIVATE","C":[{"N":"treat","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"37","as":"ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]","diag":"3|0|XTTE0570|initial-document","C":[{"N":"dot","type":"1ND","flags":"a"}]}]}]},{"N":"co","id":"12","binds":"38","C":[{"N":"globalVariable","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg1850680894","as":"*NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","line":"37","module":"combine.xsl","visibility":"PRIVATE","C":[{"N":"slash","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"37","simple":"1","C":[{"N":"gVarRef","name":"Q{}initial-document","bSlot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]}]}]},{"N":"co","id":"83","binds":"32 78 78 78 78 78 86","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}gather-specs","onNo":"SC","flags":"F","patternSlots":"1","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"19","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}import","flags":"s","as":"0","line":"40","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}import"},{"N":"empty","role":"action"}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"18","rank":"0","minImp":"0","slots":"1","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","flags":"s","as":"*N","line":"32","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"treat","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"33","as":"N","diag":"7|0|XTTE0505|match=\"x:description\" mode=\"x:gather-specs\"","C":[{"N":"applyT","flags":"cti","bSlot":"-1","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"},{"N":"withParam","name":"Q{}xslt-version","flags":"t","as":"1AD","C":[{"N":"treat","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"compiler-misc-utils.xsl","line":"41","as":"AD","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"check","card":"1","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"cvUntyped","to":"AD","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"data","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"slash","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"gather-specs.xsl","line":"34","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","flags":"a"},{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"NE"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xslt-version"}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xslt-version"}]},{"N":"dec","val":"3"}]}]}]}]}]}]}]},{"N":"withParam","name":"Q{}preserve-space","flags":"t","as":"*AQ","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"35","var":"Q{}description","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","slot":"0","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","flags":"a"},{"N":"forEach","module":"user-content-utils.xsl","line":"38","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"tokenize","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||fn:tokenize","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:tokenize","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}description","slot":"0"},{"N":"attVal","name":"Q{}preserve-space"}]}]}]},{"N":"str","val":"\\s+"},{"N":"str","val":""}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"fn","name":"resolve-QName","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}description","slot":"0"}]}]}]}]},{"N":"withParam","name":"Q{}xspec-module-uri","flags":"t","as":"1AU","C":[{"N":"ufCall","line":"36","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}document-actual-uri","tailCall":"false","bSlot":"0","C":[{"N":"root"}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"20","rank":"0","minImp":"0","slots":"2","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","line":"42","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"43","card":"1","diag":"7|0|XTTE0505|match=\"x:scenario\" mode=\"x:gather-specs\"","C":[{"N":"sequence","C":[{"N":"param","name":"Q{}xslt-version","slot":"0","flags":"tr","as":"1AD","C":[{"N":"treat","role":"conversion","as":"AD","diag":"8|0|XTTE0590|xslt-version","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|xslt-version","C":[{"N":"cvUntyped","to":"AD","diag":"8|0|XTTE0590|xslt-version","C":[{"N":"data","diag":"8|0|XTTE0590|xslt-version","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"44","name":"Q{}xspec-module-uri","slot":"1","flags":"tr","as":"1AU","C":[{"N":"treat","role":"conversion","as":"AU","diag":"8|0|XTTE0590|xspec-module-uri","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|xspec-module-uri","C":[{"N":"cvUntyped","to":"AU","diag":"8|0|XTTE0590|xspec-module-uri","C":[{"N":"data","diag":"8|0|XTTE0590|xspec-module-uri","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"treat","line":"46","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","diag":"7|0|XTTE0505|match=\"x:scenario\" mode=\"x:gather-specs\"","C":[{"N":"copy","flags":"cin","sit":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","C":[{"N":"sequence","role":"content","line":"49","C":[{"N":"att","name":"xslt-version","flags":"l","C":[{"N":"convert","from":"AD","to":"AS","C":[{"N":"varRef","name":"Q{}xslt-version","slot":"0"}]}]},{"N":"att","line":"51","name":"xspec","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"varRef","name":"Q{}xspec-module-uri","slot":"1"}]}]},{"N":"applyT","line":"53","flags":"c","bSlot":"-1","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"23","part":"1","rank":"1","minImp":"0","slots":"0","matches":"NA","flags":"s","as":"1NA","line":"82","module":"gather-specs.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.venn","op":"union","C":[{"N":"p.nodeTest","test":"NA nQ{}query-at"},{"N":"p.nodeTest","test":"NA nQ{}stylesheet"}]},{"N":"axis","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"82","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}helper"}]},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"84","card":"1","diag":"7|0|XTTE0505|match=\"@href | (@query-at | @stylesheet)[parent::x:helper]\" mode=\"x:gather-specs\"","C":[{"N":"compAtt","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NA","flags":"a"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"resolve-uri","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||fn:resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:resolve-uri","C":[{"N":"data","diag":"0|0||fn:resolve-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]},{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|1||fn:resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||fn:resolve-uri","C":[{"N":"cast","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"uri-utils.xsl","line":"50","flags":"a","as":"1AU","C":[{"N":"fn","name":"replace","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|0||fn:replace","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:replace","C":[{"N":"fn","name":"base-uri","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"gather-specs.xsl","line":"84","type":"1NA","flags":"a"}]}]}]},{"N":"str","val":"^(file:)([^\/])"},{"N":"str","val":"$1\/$2"},{"N":"str","val":""}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"24","rank":"0","minImp":"0","slots":"0","matches":"NA nQ{}as","flags":"s","as":"1NA","line":"88","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}as"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"89","card":"1","diag":"7|0|XTTE0505|match=\"@as | @function | @mode | @name | @template\" mode=\"x:gather-specs\"","C":[{"N":"compAtt","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NA","flags":"a"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]},{"N":"ufCall","role":"select","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}trim","tailCall":"false","bSlot":"1","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:trim","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:trim","C":[{"N":"data","diag":"0|0||x:trim","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"23","rank":"0","minImp":"0","slots":"0","matches":"NA nQ{}href","flags":"s","as":"1NA","line":"82","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}href"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"84","card":"1","diag":"7|0|XTTE0505|match=\"@href | (@query-at | @stylesheet)[parent::x:helper]\" mode=\"x:gather-specs\"","C":[{"N":"compAtt","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NA","flags":"a"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"resolve-uri","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||fn:resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:resolve-uri","C":[{"N":"data","diag":"0|0||fn:resolve-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]},{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|1||fn:resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||fn:resolve-uri","C":[{"N":"cast","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"uri-utils.xsl","line":"50","flags":"a","as":"1AU","C":[{"N":"fn","name":"replace","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|0||fn:replace","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:replace","C":[{"N":"fn","name":"base-uri","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"gather-specs.xsl","line":"84","type":"1NA","flags":"a"}]}]}]},{"N":"str","val":"^(file:)([^\/])"},{"N":"str","val":"$1\/$2"},{"N":"str","val":""}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"24","part":"1","rank":"0","minImp":"0","slots":"0","matches":"NA nQ{}function","flags":"s","as":"1NA","line":"88","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}function"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"89","card":"1","diag":"7|0|XTTE0505|match=\"@as | @function | @mode | @name | @template\" mode=\"x:gather-specs\"","C":[{"N":"compAtt","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NA","flags":"a"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]},{"N":"ufCall","role":"select","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}trim","tailCall":"false","bSlot":"2","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:trim","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:trim","C":[{"N":"data","diag":"0|0||x:trim","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"24","part":"4","rank":"0","minImp":"0","slots":"0","matches":"NA nQ{}template","flags":"s","as":"1NA","line":"88","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}template"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"89","card":"1","diag":"7|0|XTTE0505|match=\"@as | @function | @mode | @name | @template\" mode=\"x:gather-specs\"","C":[{"N":"compAtt","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NA","flags":"a"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]},{"N":"ufCall","role":"select","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}trim","tailCall":"false","bSlot":"3","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:trim","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:trim","C":[{"N":"data","diag":"0|0||x:trim","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"24","part":"3","rank":"0","minImp":"0","slots":"0","matches":"NA nQ{}name","flags":"s","as":"1NA","line":"88","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}name"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"89","card":"1","diag":"7|0|XTTE0505|match=\"@as | @function | @mode | @name | @template\" mode=\"x:gather-specs\"","C":[{"N":"compAtt","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NA","flags":"a"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]},{"N":"ufCall","role":"select","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}trim","tailCall":"false","bSlot":"4","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:trim","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:trim","C":[{"N":"data","diag":"0|0||x:trim","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"24","part":"2","rank":"0","minImp":"0","slots":"0","matches":"NA nQ{}mode","flags":"s","as":"1NA","line":"88","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{}mode"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"89","card":"1","diag":"7|0|XTTE0505|match=\"@as | @function | @mode | @name | @template\" mode=\"x:gather-specs\"","C":[{"N":"compAtt","C":[{"N":"fn","role":"name","name":"local-name","C":[{"N":"dot","type":"1NA","flags":"a"}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"dot","type":"1NA","flags":"a"}]}]},{"N":"ufCall","role":"select","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}trim","tailCall":"false","bSlot":"5","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:trim","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:trim","C":[{"N":"data","diag":"0|0||x:trim","C":[{"N":"dot","type":"1NA","flags":"a"}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"22","rank":"1","minImp":"0","slots":"0","matches":"NT","flags":"s","as":"?NT","line":"71","module":"gather-specs.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NT"},{"N":"fn","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"71","name":"not","C":[{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"string","C":[{"N":"dot","type":"1NT"}]}]}]}]},{"N":"choose","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"72","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"dot","line":"75","type":"1NT","flags":"a"}]}]},{"N":"templateRule","prec":"0","prio":"1.0","seq":"17","rank":"2","minImp":"0","slots":"1","matches":"N","flags":"s","as":"?N","line":"27","module":"gather-specs.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"N u[NE,NP,NT,NC]"},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"27","var":"Q{}node","as":"1N","slot":"0","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1N u[NE,NP,NT,NC]"},{"N":"fn","module":"user-content-utils.xsl","line":"23","name":"exists","C":[{"N":"intersect","op":"intersect","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"N"}]}]},{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]},{"N":"docOrder","intra":"1","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]}]}]}]},{"N":"treat","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"28","as":"N","diag":"7|0|XTTE0505|match=\"node()[x:is-user-content(.)]\" mode=\"x:gather-specs\"","C":[{"N":"check","card":"?","diag":"7|0|XTTE0505|match=\"node()[x:is-user-content(.)]\" mode=\"x:gather-specs\"","C":[{"N":"applyT","mode":"Q{urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local}gather-user-content","flags":"t","bSlot":"6","C":[{"N":"dot","role":"select","type":"1N u[NE,NP,NT,NC]","flags":"a"}]}]}]}]}]}]},{"N":"co","id":"61","binds":"4 7 26 36","C":[{"N":"template","name":"Q{urn:x-xspec:compiler:xslt:compile:compile-scenario:local}set-up-context","flags":"o","as":"+NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}variable","line":"388","module":"compile-scenario.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:compile:compile-scenario:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"391","C":[{"N":"param","name":"Q{}context","slot":"0","flags":"tr","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","diag":"8|0|XTTE0590|context","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|context","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"treat","line":"394","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}variable","diag":"7|0|XTTE0505|local:set-up-context","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","bSlot":"0","C":[{"N":"varRef","role":"select","name":"Q{}context","slot":"0"}]}]},{"N":"treat","line":"397","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}variable","diag":"7|0|XTTE0505|local:set-up-context","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:variable"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"3"}]},{"N":"sequence","role":"content","line":"398","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"1","C":[{"N":"str","val":"x:context"}]}]},{"N":"att","line":"399","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"2","C":[{"N":"varRef","name":"Q{}context","slot":"0"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"4","binds":"6 87 26 7","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","onNo":"FF","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"-0.5","seq":"12","rank":"0","minImp":"0","slots":"3","matches":"NE","flags":"s","as":"+N","line":"21","module":"declare-variable.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE"},{"N":"sequence","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"22","C":[{"N":"param","name":"Q{}comment","slot":"0","as":"?AS","C":[{"N":"empty","role":"select"},{"N":"check","role":"conversion","card":"?","diag":"8|0|XTTE0590|comment","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|comment","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|comment","C":[{"N":"data","diag":"8|0|XTTE0590|comment","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"let","line":"24","var":"Q{}reason-for-pending","as":"?AS","slot":"1","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}reason-for-pending","tailCall":"false","bSlot":"0","C":[{"N":"dot","type":"1NE","flags":"a"}]},{"N":"let","line":"26","var":"Q{}current-element-is-global","as":"1AB","slot":"2","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"callT","line":"29","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","bSlot":"1","flags":"t","C":[{"N":"withParam","name":"Q{}reason-for-pending","flags":"c","as":"?AS","C":[{"N":"varRef","line":"30","name":"Q{}reason-for-pending","slot":"1"}]},{"N":"withParam","name":"Q{}comment","flags":"c","as":"?AS","C":[{"N":"varRef","line":"31","name":"Q{}comment","slot":"0"}]},{"N":"withParam","name":"Q{}uqname","flags":"c","as":"1AS","C":[{"N":"ufCall","line":"34","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"2","C":[{"N":"dot","type":"1NE","flags":"a"}]}]},{"N":"withParam","name":"Q{}exclude","flags":"c","as":"*NE","C":[{"N":"union","line":"37","op":"|","C":[{"N":"slash","simple":"1","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"slash","simple":"1","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]}]}]},{"N":"withParam","name":"Q{}as-global","flags":"c","as":"1AB","C":[{"N":"varRef","line":"40","name":"Q{}current-element-is-global","slot":"2"}]},{"N":"withParam","name":"Q{}as-param","flags":"c","as":"1AB","C":[{"N":"and","line":"44","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"varRef","name":"Q{}current-element-is-global","slot":"2"}]}]},{"N":"withParam","name":"Q{}temp-doc-uqname","flags":"c","as":"?AS","C":[{"N":"choose","line":"49","C":[{"N":"and","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"1"}]},{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}href"}]}]}]},{"N":"ufCall","line":"51","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"3","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"impl:"},{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE","flags":"a"}]}]},{"N":"str","val":"-"}]},{"N":"fn","name":"generate-id","C":[{"N":"dot","type":"1NE","flags":"a"}]}]},{"N":"str","val":"-doc"}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"57","binds":"45 41 7 36 48 36","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}timestamp","flags":"o","as":"?NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}element","line":"11","module":"timestamp.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"14","C":[{"N":"param","name":"Q{}event","slot":"0","flags":"r","as":"1AS","C":[{"N":"check","role":"conversion","card":"1","diag":"8|0|XTTE0590|event","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|event","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|event","C":[{"N":"data","diag":"8|0|XTTE0590|event","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"choose","line":"16","C":[{"N":"gVarRef","name":"Q{}measure-time","bSlot":"0"},{"N":"treat","line":"18","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}element","diag":"7|0|XTTE0505|x:timestamp","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:element"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"5"}]},{"N":"sequence","role":"content","line":"19","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"timestamp"}]},{"N":"att","line":"20","name":"namespace","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"1"}]}]},{"N":"compElem","line":"23","flags":"l","C":[{"N":"str","role":"name","val":"xsl:attribute"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"3"}]},{"N":"sequence","role":"content","line":"24","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"str","val":"at"}]},{"N":"att","line":"25","name":"namespace","flags":"l","C":[{"N":"str","val":""}]},{"N":"att","line":"26","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"2","C":[{"N":"str","val":"saxon:timestamp"}]},{"N":"str","val":"()"}]}]}]}]},{"N":"applyT","line":"33","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"4","C":[{"N":"treat","role":"select","line":"31","as":"NA nQ{}event","diag":"3|0|XTTE0570|event-attribute","C":[{"N":"att","name":"event","C":[{"N":"varRef","name":"Q{}event","slot":"0"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"33","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-xml-uri-with-catalog","line":"10","module":"uri-utils.xsl","flags":"pU","as":"1AU","slots":"1","C":[{"N":"arg","name":"Q{}xml-uri","as":"1AS"},{"N":"cast","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"50","flags":"a","as":"1AU","C":[{"N":"fn","name":"replace","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|0||fn:replace","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:replace","C":[{"N":"fn","name":"base-uri","C":[{"N":"fn","line":"19","name":"doc","C":[{"N":"varRef","name":"Q{}xml-uri","slot":"0"}]}]}]}]},{"N":"str","val":"^(file:)([^\/])"},{"N":"str","val":"$1\/$2"},{"N":"str","val":""}]}]}]}]},{"N":"co","id":"88","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}base-uri","line":"39","module":"uri-utils.xsl","flags":"pU","as":"1AU","slots":"1","C":[{"N":"arg","name":"Q{}node","as":"1N"},{"N":"cast","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"50","flags":"a","as":"1AU","C":[{"N":"fn","name":"replace","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|0||fn:replace","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:replace","C":[{"N":"fn","name":"base-uri","C":[{"N":"varRef","name":"Q{}node","slot":"0"}]}]}]},{"N":"str","val":"^(file:)([^\/])"},{"N":"str","val":"$1\/$2"},{"N":"str","val":""}]}]}]}]},{"N":"co","id":"55","binds":"32 38","C":[{"N":"globalVariable","name":"Q{}initial-document-actual-uri","as":"1AU","line":"40","module":"main.xsl","visibility":"PRIVATE","C":[{"N":"ufCall","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"40","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}document-actual-uri","tailCall":"false","bSlot":"0","C":[{"N":"gVarRef","name":"Q{}initial-document","bSlot":"1"}]}]}]},{"N":"co","id":"65","binds":"64 26","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}function-call-text","line":"35","module":"compile-scenario.xsl","flags":"pU","as":"1NT","slots":"1","C":[{"N":"arg","name":"Q{}call","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"},{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"39","card":"1","diag":"5|0|XTTE0780|x:function-call-text#1","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"valueOf","line":"52","C":[{"N":"fn","line":"53","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"sequence","C":[{"N":"valueOf","C":[{"N":"fn","line":"42","name":"concat","C":[{"N":"choose","C":[{"N":"fn","name":"contains","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||fn:contains","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:contains","C":[{"N":"attVal","name":"Q{}function"}]}]},{"N":"str","val":":"}]},{"N":"ufCall","line":"43","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"0","C":[{"N":"check","card":"1","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}function"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call"}]},{"N":"true"},{"N":"check","line":"47","card":"1","diag":"3|0|XTTE0570|function-uqname","C":[{"N":"slash","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}function"},{"N":"fn","name":"string","C":[{"N":"dot","type":"1NA nQ{}function"}]}]}]}]},{"N":"str","val":"("}]}]},{"N":"forEach","line":"54","C":[{"N":"sort","C":[{"N":"axis","role":"select","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"sortKey","line":"55","comp":"DecSC","C":[{"N":"cast","role":"select","flags":"ae","as":"?ADI","C":[{"N":"attVal","name":"Q{}position"}]},{"N":"str","role":"order","val":"ascending"},{"N":"str","role":"lang","val":""},{"N":"str","role":"caseOrder","val":"#default"},{"N":"str","role":"stable","val":"yes"},{"N":"str","role":"collation","val":"http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint"}]}]},{"N":"sequence","line":"57","C":[{"N":"valueOf","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"choose","line":"58","C":[{"N":"isLast","test":"0"},{"N":"valueOf","line":"59","C":[{"N":"str","val":", "}]}]}]}]},{"N":"valueOf","line":"62","flags":"S","C":[{"N":"str","val":")"}]}]}]}]}]},{"N":"str","val":""}]}]}]}]}]}]},{"N":"co","id":"10","binds":"28 28","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}assign-id","onNo":"SC","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"1","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"1NE","line":"13","module":"assign-id.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"copy","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"14","flags":"cin","sit":"1NE","C":[{"N":"sequence","role":"content","line":"15","C":[{"N":"att","name":"id","flags":"l","C":[{"N":"fn","line":"16","name":"string-join","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}generate-id","bSlot":"0","C":[{"N":"dot","role":"select","type":"1NE","flags":"a"}]}]}]}]},{"N":"str","val":""}]}]},{"N":"applyT","line":"18","flags":"c","bSlot":"-1","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"1","part":"1","rank":"0","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect","flags":"s","as":"1NE","line":"13","module":"assign-id.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"copy","role":"action","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"14","flags":"cin","sit":"1NE","C":[{"N":"sequence","role":"content","line":"15","C":[{"N":"att","name":"id","flags":"l","C":[{"N":"fn","line":"16","name":"string-join","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"applyT","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}generate-id","bSlot":"1","C":[{"N":"dot","role":"select","type":"1NE","flags":"a"}]}]}]}]},{"N":"str","val":""}]}]},{"N":"applyT","line":"18","flags":"c","bSlot":"-1","C":[{"N":"sequence","role":"select","C":[{"N":"axis","name":"attribute","nodeTest":"NA"},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]}]}]}]},{"N":"co","id":"75","binds":"","C":[{"N":"globalVariable","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}rep-namespace","as":"1AU","line":"16","module":"namespace-utils.xsl","visibility":"PRIVATE","C":[{"N":"atomic","val":"urn:x-xspec:common:report-sequence","type":"AU"}]}]},{"N":"co","id":"89","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}decimal-string","line":"28","module":"common-utils.xsl","flags":"pU","as":"1AS","slots":"2","C":[{"N":"arg","name":"Q{}decimal","as":"1AD"},{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"31","var":"Q{}decimal-string","as":"1AS","slot":"1","C":[{"N":"fn","name":"string","C":[{"N":"varRef","name":"Q{}decimal","slot":"0"}]},{"N":"choose","line":"38","C":[{"N":"fn","name":"contains","C":[{"N":"varRef","name":"Q{}decimal-string","slot":"1"},{"N":"str","val":"."}]},{"N":"varRef","name":"Q{}decimal-string","slot":"1"},{"N":"true"},{"N":"fn","name":"concat","C":[{"N":"varRef","name":"Q{}decimal-string","slot":"1"},{"N":"str","val":".0"}]}]}]}]}]},{"N":"co","id":"90","binds":"","C":[{"N":"function","name":"Q{urn:x-xspec:compiler:base:resolve-import:gather:gather-descriptions:local}distinct-nodes-stable","line":"59","module":"gather-descriptions.xsl","flags":"pU","as":"*N","slots":"1","C":[{"N":"arg","name":"Q{}nodes","as":"*N"},{"N":"filter","role":"body","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-descriptions:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"62","flags":"pb","C":[{"N":"varRef","name":"Q{}nodes","slot":"0"},{"N":"fn","name":"empty","C":[{"N":"among","op":"among","C":[{"N":"dot","type":"1N"},{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}nodes","slot":"0"},{"N":"int","val":"1"},{"N":"arith","op":"-","calc":"i-i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]}]}]}]}]}]},{"N":"co","id":"6","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}reason-for-pending","line":"14","module":"compiler-pending-utils.xsl","flags":"pU","as":"?AS","slots":"2","C":[{"N":"arg","name":"Q{}context-element","as":"1NE"},{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"18","card":"?","diag":"5|0|XTTE0780|x:reason-for-pending#1","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}context-element","slot":"0"},{"N":"choose","line":"19","C":[{"N":"fn","line":"20","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE"},{"N":"axis","name":"ancestor-or-self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}focus"}]}]}]},{"N":"empty"},{"N":"true"},{"N":"first","line":"51","C":[{"N":"sequence","C":[{"N":"slash","line":"30","C":[{"N":"slash","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE"},{"N":"axis","name":"ancestor-or-self","nodeTest":"NE"}]},{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}pending"}]},{"N":"fn","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"self","nodeTest":"NE u[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect,NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario]"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}pending"}]}]}]}]}]}]},{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}pending"}]},{"N":"let","var":"Q{}labelled","as":"1NE","slot":"1","C":[{"N":"dot","type":"1NE"},{"N":"treat","module":"compiler-misc-utils.xsl","line":"13","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"1"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"1"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]},{"N":"true"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}pending"}]}]},{"N":"fn","name":"string","C":[{"N":"dot","type":"1N"}]}]},{"N":"choose","line":"35","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE"},{"N":"axis","name":"ancestor-or-self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]},{"N":"slash","line":"40","C":[{"N":"slash","simple":"1","C":[{"N":"slash","C":[{"N":"fn","name":"root","C":[{"N":"dot","type":"1NE"}]},{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"descendant-or-self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}focus"}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}focus"}]},{"N":"fn","name":"string","C":[{"N":"dot","type":"1NA nQ{}focus"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"62","binds":"7 7 26 26 46 91 46 91 7 7 7 7 7 7 76 7 46 91 46 91 92 39 92 26 26 92","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}transform-options","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}variable","line":"13","module":"transform-options.xsl","slots":"4","C":[{"N":"check","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:external:transform-options:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"16","card":"1","diag":"7|0|XTTE0505|x:transform-options","C":[{"N":"sequence","C":[{"N":"param","name":"Q{}call","slot":"0","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}call","diag":"8|0|XTTE0590|call","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|call","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"param","line":"17","name":"Q{}context","slot":"1","flags":"tr","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","C":[{"N":"treat","role":"conversion","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context","diag":"8|0|XTTE0590|context","C":[{"N":"check","card":"?","diag":"8|0|XTTE0590|context","C":[{"N":"supplied","slot":"1"}]}]}]},{"N":"elem","line":"19","name":"xsl:variable","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"0","C":[{"N":"str","val":"impl:transform-options"}]}]},{"N":"att","name":"as","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"map("},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"1","C":[{"N":"str","val":"xs:string"}]},{"N":"str","val":", item()*)"}]}]},{"N":"elem","line":"20","name":"xsl:map","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"25","C":[{"N":"elem","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'delivery-format'"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"str","val":"'raw'"}]}]}]},{"N":"elem","line":"29","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'stylesheet-location'"}]},{"N":"valueOf","line":"30","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}stylesheet"}]}]}]},{"N":"str","val":" "}]}]}]}]},{"N":"condCont","line":"44","C":[{"N":"let","var":"Q{}stylesheet-cumulative-params","as":"*NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","slot":"2","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"slash","simple":"2","C":[{"N":"slash","simple":"1","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"fn","name":"accumulator-before","C":[{"N":"str","val":"stacked-vardecls"}]},{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"let","line":"55","var":"Q{}stylesheet-effective-params","as":"*NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","slot":"3","C":[{"N":"filter","flags":"pb","C":[{"N":"varRef","name":"Q{}stylesheet-cumulative-params","slot":"2"},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"forEach","C":[{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}stylesheet-cumulative-params","slot":"2"},{"N":"arith","op":"+","calc":"i+i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"2","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"3","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]}]},{"N":"sequence","line":"57","C":[{"N":"elem","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'static-params'"}]},{"N":"condCont","line":"59","C":[{"N":"elem","name":"xsl:map","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"forEach","line":"63","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}stylesheet-effective-params","slot":"3"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","tailCall":"false","bSlot":"4","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"attVal","name":"Q{}static"}]}]},{"N":"false"}]}]},{"N":"ufCall","name":"Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry","tailCall":"false","bSlot":"5","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]}]}]}]},{"N":"elem","line":"68","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'stylesheet-params'"}]},{"N":"condCont","line":"70","C":[{"N":"elem","name":"xsl:map","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"forEach","line":"74","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}stylesheet-effective-params","slot":"3"},{"N":"fn","name":"not","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","tailCall":"false","bSlot":"6","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"attVal","name":"Q{}static"}]}]},{"N":"false"}]}]}]},{"N":"ufCall","name":"Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry","tailCall":"false","bSlot":"7","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]}]}]}]}]}]}]}]},{"N":"elem","line":"80","name":"xsl:if","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"8","C":[{"N":"str","val":"x:saxon-config"}]},{"N":"str","val":" => exists()"}]}]},{"N":"elem","line":"82","name":"xsl:choose","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","line":"83","C":[{"N":"elem","name":"xsl:when","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"9","C":[{"N":"str","val":"x:saxon-config"}]},{"N":"str","val":" instance of element("},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"10","C":[{"N":"str","val":"config:configuration"}]},{"N":"str","val":")"}]}]}]},{"N":"elem","line":"84","name":"xsl:when","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"att","name":"test","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"11","C":[{"N":"str","val":"x:saxon-config"}]},{"N":"str","val":" instance of document-node(element("},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"12","C":[{"N":"str","val":"config:configuration"}]},{"N":"str","val":"))"}]}]}]},{"N":"elem","line":"85","name":"xsl:otherwise","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"elem","line":"86","name":"xsl:message","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"terminate","flags":"l","C":[{"N":"str","val":"yes"}]},{"N":"valueOf","line":"89","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"ERROR: $"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"13","C":[{"N":"str","val":"x:saxon-config"}]},{"N":"str","val":" does not appear to be a Saxon configuration"}]}]}]}]}]}]}]},{"N":"elem","line":"95","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'cache'"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"str","val":"false()"}]}]}]},{"N":"elem","line":"97","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'vendor-options'"}]},{"N":"elem","line":"98","name":"xsl:map","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"elem","line":"100","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"QName('"},{"N":"convert","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}saxon-namespace","bSlot":"14"}]},{"N":"str","val":"', 'configuration')"}]}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"15","C":[{"N":"str","val":"x:saxon-config"}]}]}]}]}]}]}]}]}]}]},{"N":"forEach","line":"108","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}template"}]}]},{"N":"varRef","name":"Q{}context","slot":"1"}]}]},{"N":"condCont","line":"110","C":[{"N":"sequence","C":[{"N":"elem","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'template-params'"}]},{"N":"condCont","line":"112","C":[{"N":"elem","name":"xsl:map","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"forEach","line":"116","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"fn","name":"not","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","tailCall":"false","bSlot":"16","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"attVal","name":"Q{}tunnel"}]}]},{"N":"false"}]}]}]},{"N":"ufCall","name":"Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry","tailCall":"false","bSlot":"17","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]}]}]}]},{"N":"elem","line":"120","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'tunnel-params'"}]},{"N":"condCont","line":"122","C":[{"N":"elem","name":"xsl:map","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"forEach","line":"126","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","tailCall":"false","bSlot":"18","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"attVal","name":"Q{}tunnel"}]}]},{"N":"false"}]}]},{"N":"ufCall","name":"Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry","tailCall":"false","bSlot":"19","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]}]}]}]}]}]}]},{"N":"choose","line":"136","C":[{"N":"fn","line":"137","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}template"}]}]},{"N":"elem","line":"139","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'initial-template'"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}QName-expression-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"20","C":[{"N":"check","card":"1","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"attVal","name":"Q{}template"}]}]}]}]},{"N":"check","card":"1","diag":"0|1||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"varRef","name":"Q{}call","slot":"0"}]}]}]}]}]},{"N":"fn","line":"143","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}function"}]}]},{"N":"sequence","line":"144","C":[{"N":"elem","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'function-params'"}]},{"N":"att","line":"145","name":"select","flags":"l","C":[{"N":"fn","line":"146","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"mergeAdj","C":[{"N":"sequence","C":[{"N":"valueOf","flags":"S","C":[{"N":"str","val":"["}]},{"N":"valueOf","line":"147","C":[{"N":"fn","line":"148","name":"string-join","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"forEach","C":[{"N":"sort","C":[{"N":"slash","role":"select","simple":"1","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"sortKey","line":"149","comp":"DecSC","C":[{"N":"cast","role":"select","flags":"ae","as":"?ADI","C":[{"N":"attVal","name":"Q{}position"}]},{"N":"str","role":"order","val":"ascending"},{"N":"str","role":"lang","val":""},{"N":"str","role":"caseOrder","val":"#default"},{"N":"str","role":"stable","val":"yes"},{"N":"str","role":"collation","val":"http:\/\/www.w3.org\/2005\/xpath-functions\/collation\/codepoint"}]}]},{"N":"ufCall","line":"150","name":"Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-select-attr","tailCall":"false","bSlot":"21","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]}]},{"N":"str","val":", "}]}]},{"N":"valueOf","line":"153","flags":"S","C":[{"N":"str","val":"]"}]}]}]}]}]},{"N":"str","val":""}]}]}]}]},{"N":"elem","line":"157","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'initial-function'"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}QName-expression-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"22","C":[{"N":"check","card":"1","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}call","slot":"0"},{"N":"attVal","name":"Q{}function"}]}]}]}]},{"N":"check","card":"1","diag":"0|1||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"varRef","name":"Q{}call","slot":"0"}]}]}]}]}]}]},{"N":"fn","line":"160","name":"exists","C":[{"N":"varRef","name":"Q{}context","slot":"1"}]},{"N":"sequence","line":"163","C":[{"N":"elem","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"if ($"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"23","C":[{"N":"check","card":"1","diag":"0|0||x:variable-UQName","C":[{"N":"varRef","name":"Q{}context","slot":"1"}]}]},{"N":"str","val":" instance of node()) then 'source-node' else 'initial-match-selection'"}]}]},{"N":"att","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"24","C":[{"N":"check","card":"1","diag":"0|0||x:variable-UQName","C":[{"N":"varRef","name":"Q{}context","slot":"1"}]}]}]}]}]}]},{"N":"choose","line":"164","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}context","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}mode"}]}]},{"N":"elem","line":"166","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","flags":"l","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"str","val":"'initial-mode'"}]},{"N":"att","name":"select","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}QName-expression-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"25","C":[{"N":"check","card":"1","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}context","slot":"1"},{"N":"attVal","name":"Q{}mode"}]}]}]}]},{"N":"check","card":"1","diag":"0|1||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"varRef","name":"Q{}context","slot":"1"}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"56","binds":"73","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-EQName-ignoring-default-ns","line":"17","module":"compiler-eqname-utils.xsl","flags":"pU","as":"1AQ","slots":"3","C":[{"N":"arg","name":"Q{}eqname","as":"1AS"},{"N":"arg","name":"Q{}element","as":"1NE"},{"N":"tailCallLoop","role":"body","ns":"local=urn:x-xspec:compiler:base:util:compiler-eqname-utils:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"21","C":[{"N":"choose","C":[{"N":"fn","line":"22","name":"starts-with","C":[{"N":"varRef","name":"Q{}eqname","slot":"0"},{"N":"str","val":"Q{"}]},{"N":"ufCall","line":"23","name":"Q{urn:x-xspec:compiler:base:util:compiler-eqname-utils:local}resolve-UQName","tailCall":"foreign","bSlot":"0","C":[{"N":"varRef","name":"Q{}eqname","slot":"0"}]},{"N":"true"},{"N":"let","line":"30","var":"Q{}qname-taking-default-ns","as":"1AQ","slot":"2","C":[{"N":"fn","name":"resolve-QName","C":[{"N":"varRef","name":"Q{}eqname","slot":"0"},{"N":"varRef","name":"Q{}element","slot":"1"}]},{"N":"choose","line":"38","C":[{"N":"fn","name":"prefix-from-QName","C":[{"N":"varRef","name":"Q{}qname-taking-default-ns","slot":"2"}]},{"N":"varRef","name":"Q{}qname-taking-default-ns","slot":"2"},{"N":"true"},{"N":"fn","name":"QName","C":[{"N":"str","val":""},{"N":"check","card":"1","diag":"0|1||fn:QName","C":[{"N":"fn","name":"local-name-from-QName","C":[{"N":"varRef","name":"Q{}qname-taking-default-ns","slot":"2"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"93","binds":"1","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}perform-initial-check-for-lang","cxt":"1ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]","flags":"s","as":"0","line":"7","module":"perform-initial-check.xsl","slots":"0","C":[{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"10","card":"0","diag":"7|0|XTTE0505|x:perform-initial-check-for-lang","C":[{"N":"forEach","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"fn","name":"empty","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}stylesheet"}]}]},{"N":"message","line":"11","C":[{"N":"callT","role":"select","line":"12","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Missing @stylesheet."}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]}]},{"N":"co","id":"87","binds":"19 19 19 19 19 48 36 36 36","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}declare-variable","cxt":"1NE","flags":"s","as":"+NE","line":"14","module":"declare-variable.xsl","slots":"10","C":[{"N":"sequence","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"17","C":[{"N":"param","name":"Q{}reason-for-pending","slot":"0","flags":"r","as":"?AS","C":[{"N":"check","role":"conversion","card":"?","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"data","diag":"8|0|XTTE0590|reason-for-pending","C":[{"N":"supplied","slot":"0"}]}]}]}]}]},{"N":"param","line":"18","name":"Q{}comment","slot":"1","as":"?AS","C":[{"N":"empty","role":"select"},{"N":"check","role":"conversion","card":"?","diag":"8|0|XTTE0590|comment","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|comment","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|comment","C":[{"N":"data","diag":"8|0|XTTE0590|comment","C":[{"N":"supplied","slot":"1"}]}]}]}]}]},{"N":"param","line":"19","name":"Q{}uqname","slot":"2","flags":"r","as":"1AS","C":[{"N":"check","role":"conversion","card":"1","diag":"8|0|XTTE0590|uqname","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|uqname","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|uqname","C":[{"N":"data","diag":"8|0|XTTE0590|uqname","C":[{"N":"supplied","slot":"2"}]}]}]}]}]},{"N":"param","line":"20","name":"Q{}exclude","slot":"3","flags":"r","as":"*NE","C":[{"N":"treat","role":"conversion","as":"NE","diag":"8|0|XTTE0590|exclude","C":[{"N":"supplied","slot":"3"}]}]},{"N":"param","line":"23","name":"Q{}as-global","slot":"4","flags":"i","as":"1AB","C":[{"N":"treat","role":"conversion","as":"AB","diag":"8|0|XTTE0590|as-global","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|as-global","C":[{"N":"cvUntyped","to":"AB","diag":"8|0|XTTE0590|as-global","C":[{"N":"data","diag":"8|0|XTTE0590|as-global","C":[{"N":"supplied","slot":"4"}]}]}]}]}]},{"N":"param","line":"25","name":"Q{}as-param","slot":"5","flags":"r","as":"1AB","C":[{"N":"treat","role":"conversion","as":"AB","diag":"8|0|XTTE0590|as-param","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|as-param","C":[{"N":"cvUntyped","to":"AB","diag":"8|0|XTTE0590|as-param","C":[{"N":"data","diag":"8|0|XTTE0590|as-param","C":[{"N":"supplied","slot":"5"}]}]}]}]}]},{"N":"param","line":"26","name":"Q{}temp-doc-uqname","slot":"6","flags":"r","as":"?AS","C":[{"N":"check","role":"conversion","card":"?","diag":"8|0|XTTE0590|temp-doc-uqname","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|temp-doc-uqname","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|temp-doc-uqname","C":[{"N":"data","diag":"8|0|XTTE0590|temp-doc-uqname","C":[{"N":"supplied","slot":"6"}]}]}]}]}]},{"N":"choose","line":"28","C":[{"N":"varRef","name":"Q{}temp-doc-uqname","slot":"6"},{"N":"compElem","line":"29","C":[{"N":"str","role":"name","val":"xsl:variable"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"7"}]},{"N":"sequence","role":"content","line":"30","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"varRef","name":"Q{}temp-doc-uqname","slot":"6"}]},{"N":"att","line":"31","name":"as","flags":"l","C":[{"N":"str","val":"document-node()"}]},{"N":"choose","line":"33","C":[{"N":"fn","line":"34","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}href"}]},{"N":"att","line":"35","name":"select","flags":"l","C":[{"N":"convert","line":"36","from":"AZ","to":"AS","C":[{"N":"cast","module":"common-utils.xsl","line":"65","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"doc("},{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"0"},{"N":"fn","module":"declare-variable.xsl","line":"36","name":"replace","C":[{"N":"check","card":"1","diag":"0|0||x:quote-with-apos","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|0||x:quote-with-apos","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:quote-with-apos","C":[{"N":"fn","name":"resolve-uri","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||fn:resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||fn:resolve-uri","C":[{"N":"attVal","name":"Q{}href"}]}]},{"N":"check","card":"1","diag":"0|1||fn:resolve-uri","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|1||fn:resolve-uri","C":[{"N":"cvUntyped","to":"AS","diag":"0|1||fn:resolve-uri","C":[{"N":"fn","name":"base-uri","C":[{"N":"dot","type":"1NE"}]}]}]}]}]}]}]}]},{"N":"gVarRef","module":"common-utils.xsl","line":"64","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"1"},{"N":"fn","module":"common-utils.xsl","line":"64","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"2"},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"3"}]},{"N":"str","val":""}]}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"4"}]},{"N":"str","val":")"}]}]}]}]},{"N":"true"},{"N":"compElem","line":"41","flags":"l","C":[{"N":"str","role":"name","val":"xsl:document"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"6"}]},{"N":"applyT","role":"content","line":"42","mode":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-constructor","bSlot":"5","C":[{"N":"except","role":"select","op":"except","C":[{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"},{"N":"docOrder","intra":"0","C":[{"N":"varRef","name":"Q{}exclude","slot":"3"}]}]}]}]}]}]}]}]},{"N":"compElem","line":"50","C":[{"N":"fn","role":"name","name":"concat","C":[{"N":"str","val":"xsl:"},{"N":"choose","C":[{"N":"varRef","name":"Q{}as-param","slot":"5"},{"N":"str","val":"param"},{"N":"true"},{"N":"str","val":"variable"}]}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"8"}]},{"N":"sequence","role":"content","line":"53","C":[{"N":"choose","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}as"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}select"}]}]},{"N":"let","line":"54","var":"Q{}element","as":"1NE","slot":"7","C":[{"N":"dot","type":"1NE"},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"7"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"7"}]}]}]}]}]}]},{"N":"att","line":"57","name":"name","flags":"l","C":[{"N":"varRef","name":"Q{}uqname","slot":"2"}]},{"N":"axis","line":"58","name":"attribute","nodeTest":"NA nQ{}as"},{"N":"choose","line":"60","C":[{"N":"fn","line":"61","name":"exists","C":[{"N":"varRef","name":"Q{}reason-for-pending","slot":"0"}]},{"N":"att","line":"65","name":"as","flags":"l","C":[{"N":"str","val":"item()*"}]},{"N":"varRef","line":"68","name":"Q{}temp-doc-uqname","slot":"6"},{"N":"att","line":"71","name":"select","flags":"l","C":[{"N":"convert","line":"72","from":"AZ","to":"AS","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"fn","name":"string","C":[{"N":"varRef","name":"Q{}temp-doc-uqname","slot":"6"}]},{"N":"str","val":" ! ( "},{"N":"let","line":"70","var":"Q{http:\/\/saxon.sf.net\/generated-variable}current-591357612","as":"1","slot":"8","C":[{"N":"dot","type":"1NE"},{"N":"let","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1AB","slot":"9","flags":"l","C":[{"N":"fn","name":"exists","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}current-591357612","slot":"8"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}href"}]}]},{"N":"check","card":"1","diag":"3|0|XTTE0570|selection","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|selection","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|selection","C":[{"N":"data","diag":"3|0|XTTE0570|selection","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}select"},{"N":"filter","flags":"ib","C":[{"N":"str","val":"."},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"9"}]},{"N":"str","val":"node()"}]}]}]}]}]}]}]}]},{"N":"str","val":" )"}]}]}]}]},{"N":"and","line":"76","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}as"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}select"}]}]},{"N":"att","line":"85","name":"select","flags":"l","C":[{"N":"str","val":"()"}]},{"N":"true"},{"N":"axis","line":"89","name":"attribute","nodeTest":"NA nQ{}select"}]},{"N":"choose","line":"93","C":[{"N":"varRef","name":"Q{}comment","slot":"1"},{"N":"comment","line":"94","flags":"l","C":[{"N":"varRef","name":"Q{}comment","slot":"1"}]}]}]}]}]}]}]},{"N":"co","id":"94","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}distinct-strings-stable","line":"22","module":"compiler-misc-utils.xsl","flags":"pU","as":"*AS","slots":"1","C":[{"N":"arg","name":"Q{}strings","as":"*AS"},{"N":"filter","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"25","flags":"pb","C":[{"N":"varRef","name":"Q{}strings","slot":"0"},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}strings","slot":"0"},{"N":"int","val":"1"},{"N":"arith","op":"-","calc":"i-i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]},{"N":"dot","type":"1AS"}]}]}]}]}]},{"N":"co","id":"70","binds":"56 41 37 1","C":[{"N":"template","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-reserved-vardecl-name","cxt":"1NE","flags":"s","as":"0","line":"46","module":"check-combined-doc.xsl","slots":"3","C":[{"N":"choose","role":"body","ns":"local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"50","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}name"}]},{"N":"let","line":"52","var":"Q{}qname","as":"1AQ","slot":"0","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-EQName-ignoring-default-ns","tailCall":"false","bSlot":"0","C":[{"N":"check","card":"1","diag":"0|0||x:resolve-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:resolve-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:resolve-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"dot","type":"1NE"}]},{"N":"choose","line":"54","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}qname","slot":"0"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"1"}]},{"N":"let","line":"68","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","as":"1AB","slot":"1","flags":"l","C":[{"N":"and","op":"and","C":[{"N":"gVarRef","name":"Q{}is-external","bSlot":"2"},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"local-name-from-QName","C":[{"N":"varRef","name":"Q{}qname","slot":"0"}]},{"N":"str","val":"saxon-config"}]}]},{"N":"let","line":"59","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1AB","slot":"2","flags":"l","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"local-name-from-QName","C":[{"N":"varRef","name":"Q{}qname","slot":"0"}]},{"N":"str","val":"enable-schematron-text-location"}]},{"N":"choose","line":"55","C":[{"N":"fn","line":"59","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"and","op":"and","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"2"}]}]}]},{"N":"empty"},{"N":"fn","line":"68","name":"exists","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"},{"N":"varRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v1","slot":"1"}]}]},{"N":"empty"},{"N":"true"},{"N":"check","line":"81","card":"0","diag":"7|0|XTTE0505|local:detect-reserved-vardecl-name","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"82","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"3","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"84","from":"AZ","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"valueOf","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Name "},{"N":"fn","name":"string","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}name"}]}]},{"N":"str","val":" must not use the XSpec namespace."}]}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"80","binds":"95 96 1 1 93","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}perform-initial-check","cxt":"1ND","flags":"s","as":"0","line":"8","module":"perform-initial-check.xsl","slots":"1","C":[{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"11","var":"Q{}deprecation-warning","as":"?AS","slot":"0","C":[{"N":"choose","line":"12","C":[{"N":"gVarRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg1537912396","bSlot":"0"},{"N":"str","val":"Saxon version 9.7 or less is not supported."},{"N":"gVarRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg1101451553","bSlot":"1"},{"N":"str","val":"Saxon version 9.8 is not recommended. Consider migrating to Saxon 9.9."}]},{"N":"check","line":"21","card":"0","diag":"7|0|XTTE0505|x:perform-initial-check","C":[{"N":"sequence","C":[{"N":"check","card":"0","diag":"7|0|XTTE0505|x:perform-initial-check","C":[{"N":"message","C":[{"N":"choose","role":"select","line":"22","C":[{"N":"varRef","line":"23","name":"Q{}deprecation-warning","slot":"0"},{"N":"callT","line":"24","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"2","C":[{"N":"withParam","name":"Q{}level","flags":"c","as":"1AS","C":[{"N":"str","val":"WARNING"}]},{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"check","line":"26","card":"1","diag":"8|0|XTTE0590|message","C":[{"N":"varRef","name":"Q{}deprecation-warning","slot":"0"}]}]}]},{"N":"true"},{"N":"valueOf","line":"31","C":[{"N":"str","val":" "}]}]},{"N":"str","role":"terminate","val":"no"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]},{"N":"check","line":"37","card":"0","diag":"7|0|XTTE0505|x:perform-initial-check","C":[{"N":"sequence","C":[{"N":"choose","C":[{"N":"vc","op":"ne","onEmpty":"1","comp":"EQC","C":[{"N":"fn","name":"node-name","C":[{"N":"check","card":"?","diag":"0|0||fn:node-name","C":[{"N":"axis","name":"child","nodeTest":"NE"}]}]},{"N":"qName","pre":"x","uri":"http:\/\/www.jenitennison.com\/xslt\/xspec","loc":"description"}]},{"N":"check","line":"38","card":"0","diag":"7|0|XTTE0505|x:perform-initial-check","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"39","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"3","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"41","from":"AZ","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"valueOf","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"Source document is not XSpec. \/"},{"N":"str","val":"x:description"},{"N":"str","val":" is missing. Supplied source has \/"},{"N":"fn","name":"name","C":[{"N":"check","card":"?","diag":"0|0||fn:name","C":[{"N":"axis","name":"child","nodeTest":"NE"}]}]},{"N":"str","val":" instead."}]}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"callT","line":"47","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}perform-initial-check-for-lang","bSlot":"4","flags":"t"}]}]}]}]}]}]}]},{"N":"co","id":"26","binds":"64 7","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","line":"64","module":"declare-variable.xsl","flags":"pU","as":"1AS","slots":"1","C":[{"N":"arg","name":"Q{}source-element","as":"1NE"},{"N":"check","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"68","card":"1","diag":"5|0|XTTE0780|x:variable-UQName#1","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}source-element","slot":"0"},{"N":"choose","line":"69","C":[{"N":"fn","line":"70","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}name"}]},{"N":"ufCall","line":"71","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}UQName-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"0","C":[{"N":"check","card":"1","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:UQName-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"dot","type":"1NE"}]},{"N":"true"},{"N":"ufCall","line":"76","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"1","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"impl:"},{"N":"fn","name":"local-name","C":[{"N":"dot","type":"1NE"}]}]},{"N":"str","val":"-"}]},{"N":"fn","name":"generate-id","C":[{"N":"dot","type":"1NE"}]}]}]}]}]}]}]}]},{"N":"co","id":"96","binds":"22","C":[{"N":"globalVariable","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg1101451553","as":"1AB","line":"16","module":"perform-initial-check.xsl","visibility":"PRIVATE","C":[{"N":"vc","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"16","op":"lt","onEmpty":"0","comp":"CAVC","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}saxon-version","bSlot":"0"},{"N":"arith","module":"version-utils.xsl","line":"56","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","line":"54","op":"+","calc":"i+i","C":[{"N":"int","val":"589824"},{"N":"first","line":"50","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"2","C":[{"N":"int","val":"9"},{"N":"int","val":"9"}]},{"N":"int","val":"2"}]},{"N":"int","val":"0"}]}]}]},{"N":"int","val":"65536"}]},{"N":"int","val":"65536"}]},{"N":"arith","line":"51","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"2","C":[{"N":"int","val":"9"},{"N":"int","val":"9"}]},{"N":"int","val":"3"}]},{"N":"int","val":"0"}]}]},{"N":"int","val":"65536"}]},{"N":"first","line":"52","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"2","C":[{"N":"int","val":"9"},{"N":"int","val":"9"}]},{"N":"int","val":"4"}]},{"N":"int","val":"0"}]}]}]}]}]}]}]},{"N":"co","id":"97","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xslt-version","line":"33","module":"compiler-misc-utils.xsl","flags":"pU","as":"1AD","slots":"1","C":[{"N":"arg","name":"Q{}context","as":"1NE"},{"N":"treat","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"41","as":"AD","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"check","card":"1","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"cvUntyped","to":"AD","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"data","diag":"5|0|XTTE0780|x:xslt-version#1","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}context","slot":"0"},{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"NE"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xslt-version"}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}xslt-version"}]},{"N":"dec","val":"3"}]}]}]}]}]}]}]}]},{"N":"co","id":"86","binds":"1 41 41 41 41 41 41","C":[{"N":"mode","name":"Q{urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local}gather-user-content","onNo":"SC","flags":"F","patternSlots":"0","C":[{"N":"templateRule","prec":"0","prio":"0.0","seq":"25","rank":"1","minImp":"0","slots":"3","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}space","flags":"s","as":"0","line":"112","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}space"},{"N":"check","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"113","card":"0","diag":"7|0|XTTE0505|match=\"x:space\" mode=\"local:gather-user-content\"","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"114","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"0","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"118","from":"AZ","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"valueOf","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}space","flags":"a"}]},{"N":"str","val":" is obsolete. Use "},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}context-element","as":"1NE","slot":"0","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}space","flags":"a"},{"N":"let","module":"compiler-misc-utils.xsl","line":"79","var":"Q{}context-node-name","as":"1AQ","slot":"1","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|context-node-name","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}context-element","slot":"0"}]}]},{"N":"fn","line":"96","name":"string-join","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"choose","line":"83","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"1"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"1"}]},{"N":"fn","line":"84","name":"prefix-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"1"}]},{"N":"true"},{"N":"let","line":"90","var":"Q{}xspec-prefixes","as":"+AS","slot":"2","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|xspec-prefixes","C":[{"N":"filter","flags":"","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}context-element","slot":"0"}]},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}context-element","slot":"0"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"2"}]}]}]},{"N":"check","line":"91","card":"?","diag":"3|0|XTTE0570|prefix","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|prefix","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|prefix","C":[{"N":"data","diag":"3|0|XTTE0570|prefix","C":[{"N":"first","C":[{"N":"fn","name":"sort","C":[{"N":"varRef","name":"Q{}xspec-prefixes","slot":"2"}]}]}]}]}]}]}]}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"str","val":"text"}]},{"N":"str","val":":"}]}]}]},{"N":"str","val":" instead."}]}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"27","rank":"1","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text","flags":"s","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text","line":"126","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text"},{"N":"treat","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"128","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text","diag":"7|0|XTTE0505|match=\"x:text\" mode=\"local:gather-user-content\"","C":[{"N":"check","card":"?","diag":"7|0|XTTE0505|match=\"x:text\" mode=\"local:gather-user-content\"","C":[{"N":"applyT","flags":"cti","bSlot":"-1","C":[{"N":"axis","role":"select","name":"child","nodeTest":"N"}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"26","rank":"1","minImp":"0","slots":"0","matches":"NA nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expand-text","flags":"s","as":"0","line":"124","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NA nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expand-text"},{"N":"empty","role":"action"}]},{"N":"templateRule","prec":"0","prio":"-0.5","seq":"28","rank":"0","minImp":"0","slots":"9","matches":"NT","flags":"s","as":"?NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text","line":"131","module":"gather-specs.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NT"},{"N":"sequence","role":"action","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"132","C":[{"N":"param","name":"Q{}preserve-space","slot":"0","flags":"tr","as":"*AQ","C":[{"N":"treat","role":"conversion","as":"AQ","diag":"8|0|XTTE0590|preserve-space","C":[{"N":"cvUntyped","to":"AQ","C":[{"N":"data","diag":"8|0|XTTE0590|preserve-space","C":[{"N":"supplied","slot":"0"}]}]}]}]},{"N":"choose","line":"135","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"normalize-space","C":[{"N":"fn","name":"string","C":[{"N":"dot","type":"1NT","flags":"a"}]}]},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}preserve-space-qnames","as":"*AQ","slot":"1","C":[{"N":"varRef","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","name":"Q{}preserve-space","slot":"0"},{"N":"slash","module":"user-content-utils.xsl","line":"59","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"gather-specs.xsl","line":"135","type":"1NT","flags":"a"},{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text"}]},{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"atomSing","card":"?","diag":"1|0||eq","C":[{"N":"slash","simple":"1","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"ancestor","nodeTest":"NE"},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{http:\/\/www.w3.org\/XML\/1998\/namespace}space"}]}]}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{http:\/\/www.w3.org\/XML\/1998\/namespace}space"}]}]},{"N":"str","val":"preserve"}]}]},{"N":"gc","op":"=","card":"N:1","comp":"EQC","C":[{"N":"varRef","name":"Q{}preserve-space-qnames","slot":"1"},{"N":"fn","name":"node-name","C":[{"N":"check","card":"?","diag":"0|0||fn:node-name","C":[{"N":"axis","name":"parent","nodeTest":"NE"}]}]}]}]}]}]}]},{"N":"treat","line":"145","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}text","diag":"7|0|XTTE0505|match=\"text()\" mode=\"local:gather-user-content\"","C":[{"N":"compElem","C":[{"N":"let","role":"name","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}context-element","as":"1NE","slot":"5","C":[{"N":"check","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","card":"1","diag":"0|1||x:xspec-name","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NT","flags":"a"},{"N":"axis","name":"ancestor","nodeTest":"NE"}]},{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"let","var":"Q{}element","as":"1NE","slot":"6","C":[{"N":"dot","type":"1NE"},{"N":"data","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","module":"namespace-utils.xsl","line":"42","diag":"1|0||=","C":[{"N":"forEach","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"6"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"6"}]}]}]}]}]}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"3"}]}]}]}]},{"N":"let","module":"compiler-misc-utils.xsl","line":"79","var":"Q{}context-node-name","as":"1AQ","slot":"7","C":[{"N":"check","card":"1","diag":"3|0|XTTE0570|context-node-name","C":[{"N":"fn","name":"node-name","C":[{"N":"varRef","name":"Q{}context-element","slot":"5"}]}]},{"N":"fn","line":"96","name":"string-join","C":[{"N":"sequence","C":[{"N":"filter","flags":"b","C":[{"N":"choose","line":"83","C":[{"N":"vc","op":"eq","onEmpty":"0","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"7"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"4"}]},{"N":"fn","line":"84","name":"prefix-from-QName","C":[{"N":"varRef","name":"Q{}context-node-name","slot":"7"}]},{"N":"true"},{"N":"let","line":"90","var":"Q{}xspec-prefixes","as":"+AS","slot":"8","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|xspec-prefixes","C":[{"N":"filter","flags":"","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}context-element","slot":"5"}]},{"N":"vc","op":"eq","comp":"CCC","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}context-element","slot":"5"}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"5"}]}]}]},{"N":"check","line":"91","card":"?","diag":"3|0|XTTE0570|prefix","C":[{"N":"convert","from":"A","to":"AS","flags":"p","diag":"3|0|XTTE0570|prefix","C":[{"N":"cvUntyped","to":"AS","diag":"3|0|XTTE0570|prefix","C":[{"N":"data","diag":"3|0|XTTE0570|prefix","C":[{"N":"first","C":[{"N":"fn","name":"sort","C":[{"N":"varRef","name":"Q{}xspec-prefixes","slot":"8"}]}]}]}]}]}]}]}]},{"N":"fn","name":"boolean","C":[{"N":"dot","type":"1AS"}]}]},{"N":"str","val":"text"}]},{"N":"str","val":":"}]}]}]},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xspec-namespace","bSlot":"6"}]},{"N":"let","role":"content","line":"153","var":"Q{}expand-text","as":"?NA","slot":"2","C":[{"N":"check","card":"?","diag":"3|0|XTTE0570|expand-text","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NT","flags":"a"},{"N":"axis","name":"ancestor","nodeTest":"NE"}]},{"N":"fn","name":"exists","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"}]},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}expand-text"},{"N":"true"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expand-text"}]}]}]}]},{"N":"axis","name":"attribute","nodeTest":"NA"}]},{"N":"fn","name":"exists","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}*"}]},{"N":"axis","name":"self","nodeTest":"NA nQ{}expand-text"},{"N":"true"},{"N":"axis","name":"self","nodeTest":"NA nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expand-text"}]}]}]}]},{"N":"sequence","line":"154","C":[{"N":"choose","C":[{"N":"fn","name":"exists","C":[{"N":"varRef","name":"Q{}expand-text","slot":"2"}]},{"N":"sequence","line":"155","C":[{"N":"choose","C":[{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","var":"Q{}input","as":"1AS","slot":"3","C":[{"N":"check","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","card":"1","diag":"0|0||x:yes-no-synonym","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"data","diag":"0|0||x:yes-no-synonym","C":[{"N":"varRef","name":"Q{}expand-text","slot":"2"}]}]}]}]},{"N":"choose","module":"yes-no-utils.xsl","line":"16","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"yes"},{"N":"str","val":"true"},{"N":"str","val":"1"}]},{"N":"varRef","name":"Q{}input","slot":"3"}]},{"N":"true"},{"N":"gc","line":"19","op":"=","card":"N:1","comp":"CCC","C":[{"N":"literal","count":"3","C":[{"N":"str","val":"no"},{"N":"str","val":"false"},{"N":"str","val":"0"}]},{"N":"varRef","name":"Q{}input","slot":"3"}]},{"N":"false"},{"N":"true"},{"N":"error","line":"15","message":"Conditional expression: None of the conditions is satisfied, so an empty sequence is returned, but this is not allowed as the result of a call to x:yes-no-synonym#1","code":"XTTE0780","isTypeErr":"0"}]}]},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"158","var":"Q{}element","as":"1NE","slot":"4","C":[{"N":"check","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-specs:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","card":"1","diag":"0|0||x:copy-of-namespaces","C":[{"N":"axis","name":"parent","nodeTest":"NE"}]},{"N":"forEach","module":"namespace-utils.xsl","line":"42","C":[{"N":"filter","flags":"b","C":[{"N":"fn","name":"in-scope-prefixes","C":[{"N":"varRef","name":"Q{}element","slot":"4"}]},{"N":"compareToString","op":"ne","val":"xml","C":[{"N":"dot","type":"1AS"}]}]},{"N":"namespace","line":"43","flags":"l","C":[{"N":"dot","role":"name","type":"1AS"},{"N":"convert","role":"select","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri-for-prefix","C":[{"N":"dot","type":"1AS"},{"N":"varRef","name":"Q{}element","slot":"4"}]}]}]}]}]}]},{"N":"att","line":"161","name":"expand-text","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"data","C":[{"N":"varRef","name":"Q{}expand-text","slot":"2"}]}]}]}]}]},{"N":"dot","line":"164","type":"1NT","flags":"a"}]}]}]}]}]}]}]}]}]},{"N":"co","id":"72","binds":"37 1 30","C":[{"N":"template","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-scenario-param-run-as-import","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","flags":"s","as":"0","line":"111","module":"check-combined-doc.xsl","slots":"0","C":[{"N":"choose","role":"body","ns":"local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"115","C":[{"N":"fn","name":"not","C":[{"N":"gVarRef","name":"Q{}is-external","bSlot":"0"}]},{"N":"check","line":"116","card":"0","diag":"7|0|XTTE0505|local:detect-scenario-param-run-as-import","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"117","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"1","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"121","from":"AZ","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"valueOf","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"name","C":[{"N":"check","card":"?","diag":"0|0||fn:name","C":[{"N":"axis","name":"parent","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]},{"N":"str","val":" has "},{"N":"fn","name":"name","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]},{"N":"str","val":", which is supported only when \/"},{"N":"fn","name":"string","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}node-UQName","tailCall":"false","bSlot":"2","C":[{"N":"check","card":"1","diag":"0|0||x:node-UQName","C":[{"N":"slash","simple":"1","C":[{"N":"root"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]}]}]}]},{"N":"str","val":" has @run-as='external'."}]}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]}]},{"N":"co","id":"76","binds":"","C":[{"N":"globalVariable","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}saxon-namespace","as":"1AU","line":"21","module":"namespace-utils.xsl","visibility":"PRIVATE","C":[{"N":"atomic","val":"http:\/\/saxon.sf.net\/","type":"AU"}]}]},{"N":"co","id":"98","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}has-comparison","line":"13","module":"compile-expect.xsl","flags":"pU","as":"1AB","slots":"1","C":[{"N":"arg","name":"Q{}expect","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"},{"N":"slash","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"16","C":[{"N":"varRef","name":"Q{}expect","slot":"0"},{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"or","op":"or","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}as"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}href"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}select"}]}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"child","nodeTest":"N d[N u[NE,NP,NT,NC],NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label]"}]}]}]}]}]},{"N":"co","id":"71","binds":"37 46 1 51","C":[{"N":"template","name":"Q{urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local}detect-static-description-param-run-as-import","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param","flags":"s","as":"0","line":"95","module":"check-combined-doc.xsl","slots":"0","C":[{"N":"choose","role":"body","ns":"local=urn:x-xspec:compiler:base:combine:mode:check-combined-doc:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"99","C":[{"N":"choose","C":[{"N":"fn","name":"not","C":[{"N":"gVarRef","name":"Q{}is-external","bSlot":"0"}]},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","tailCall":"false","bSlot":"1","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"attVal","name":"Q{}static"}]}]},{"N":"false"}]},{"N":"true"},{"N":"false"}]},{"N":"check","line":"100","card":"0","diag":"7|0|XTTE0505|local:detect-static-description-param-run-as-import","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"101","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"2","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"103","from":"AZ","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"valueOf","flags":"l","C":[{"N":"gVarRef","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg670689666","bSlot":"3"}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]}]}]},{"N":"co","id":"54","binds":"36 36","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}compile-helpers","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","flags":"s","as":"*NE","line":"7","module":"compile-helpers.xsl","slots":"0","C":[{"N":"forEach","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"10","C":[{"N":"filter","flags":"b","C":[{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}helper"},{"N":"fn","name":"exists","C":[{"N":"sequence","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}package-name"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}stylesheet"}]}]}]},{"N":"choose","line":"11","C":[{"N":"fn","line":"12","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}package-name"}]},{"N":"compElem","line":"13","C":[{"N":"str","role":"name","val":"xsl:use-package"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"0"}]},{"N":"sequence","role":"content","line":"14","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}package-name"}]}]},{"N":"axis","line":"15","name":"attribute","nodeTest":"NA nQ{}package-version"}]}]},{"N":"fn","line":"18","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}stylesheet"}]},{"N":"compElem","line":"19","C":[{"N":"str","role":"name","val":"xsl:import"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"1"}]},{"N":"att","role":"content","line":"20","name":"href","flags":"l","C":[{"N":"convert","from":"AZ","to":"AS","C":[{"N":"attVal","name":"Q{}stylesheet"}]}]}]}]}]}]}]},{"N":"co","id":"92","binds":"56 19 19 19 19 19","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}QName-expression-from-EQName-ignoring-default-ns","line":"48","module":"compiler-eqname-utils.xsl","flags":"pU","as":"1AS","slots":"4","C":[{"N":"arg","name":"Q{}eqname","as":"1AS"},{"N":"arg","name":"Q{}element","as":"1NE"},{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"53","var":"Q{}qname","as":"1AQ","slot":"2","C":[{"N":"ufCall","ns":"local=urn:x-xspec:compiler:base:util:compiler-eqname-utils:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}resolve-EQName-ignoring-default-ns","tailCall":"false","bSlot":"0","C":[{"N":"varRef","name":"Q{}eqname","slot":"0"},{"N":"varRef","name":"Q{}element","slot":"1"}]},{"N":"let","module":"common-utils.xsl","line":"65","var":"Q{}quoted-uri","as":"1AS","slot":"3","C":[{"N":"fn","name":"concat","C":[{"N":"fn","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"1"},{"N":"fn","line":"51","name":"replace","C":[{"N":"convert","from":"AU","to":"AS","flags":"p","diag":"0|0||x:quote-with-apos","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:quote-with-apos","C":[{"N":"fn","name":"namespace-uri-from-QName","C":[{"N":"varRef","name":"Q{}qname","slot":"2"}]}]}]},{"N":"gVarRef","line":"64","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"2"},{"N":"fn","line":"64","name":"concat","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"3"},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"4"}]},{"N":"str","val":""}]}]},{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}apos","bSlot":"5"}]},{"N":"convert","line":"53","from":"AZ","to":"AS","flags":"p","diag":"5|0|XTTE0780|x:QName-expression#1","C":[{"N":"cvUntyped","to":"AS","diag":"5|0|XTTE0780|x:QName-expression#1","C":[{"N":"cast","flags":"a","as":"1AZ","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"QName("},{"N":"varRef","name":"Q{}quoted-uri","slot":"3"},{"N":"str","val":", '"},{"N":"convert","from":"AQ","to":"AS","C":[{"N":"varRef","name":"Q{}qname","slot":"2"}]},{"N":"str","val":"')"}]}]}]}]}]}]}]}]},{"N":"co","id":"9","binds":"46 1 1 1","C":[{"N":"mode","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}unshare-scenarios","onNo":"SC","flags":"F","patternSlots":"1","C":[{"N":"templateRule","prec":"0","prio":"0.5","seq":"7","part":"1","rank":"1","minImp":"0","slots":"0","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"0","line":"16","module":"unshare-scenarios.xsl","C":[{"N":"p.withPredicate","role":"match","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"ufCall","ns":"local=urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"16","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","tailCall":"false","bSlot":"0","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"attVal","name":"Q{}shared"}]}]},{"N":"false"}]}]},{"N":"empty","role":"action"}]},{"N":"templateRule","prec":"0","prio":"0.0","seq":"8","rank":"0","minImp":"0","slots":"2","matches":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}like","flags":"s","as":"+NE","line":"19","module":"unshare-scenarios.xsl","C":[{"N":"p.nodeTest","role":"match","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}like"},{"N":"let","role":"action","ns":"local=urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"21","var":"Q{}scenario","as":"*NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","slot":"0","C":[{"N":"treat","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","diag":"3|0|XTTE0570|scenario","C":[{"N":"fn","name":"key","C":[{"N":"str","val":"local:scenarios"},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"20","var":"Q{}labelled","as":"1NE","slot":"1","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}like","flags":"a"},{"N":"data","module":"compiler-misc-utils.xsl","line":"13","diag":"0|1||fn:key","C":[{"N":"treat","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"1"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"1"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"1"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"choose","line":"22","C":[{"N":"fn","line":"23","name":"empty","C":[{"N":"varRef","name":"Q{}scenario","slot":"0"}]},{"N":"treat","line":"24","as":"NE","diag":"7|0|XTTE0505|match=\"x:like\" mode=\"x:unshare-scenarios\"","C":[{"N":"check","card":"+","diag":"7|0|XTTE0505|match=\"x:like\" mode=\"x:unshare-scenarios\"","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"25","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"1","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Scenario not found."}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"fn","line":"30","name":"exists","C":[{"N":"subscript","C":[{"N":"varRef","name":"Q{}scenario","slot":"0"},{"N":"int","val":"2"}]}]},{"N":"treat","line":"31","as":"NE","diag":"7|0|XTTE0505|match=\"x:like\" mode=\"x:unshare-scenarios\"","C":[{"N":"check","card":"+","diag":"7|0|XTTE0505|match=\"x:like\" mode=\"x:unshare-scenarios\"","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"32","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"2","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1ND","C":[{"N":"convert","line":"34","from":"AZ","to":"AS","flags":"p","diag":"8|0|XTTE0590|message","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|message","C":[{"N":"data","diag":"8|0|XTTE0590|message","C":[{"N":"doc","flags":"t","C":[{"N":"valueOf","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"convert","from":"ADI","to":"AS","C":[{"N":"fn","name":"count","C":[{"N":"varRef","name":"Q{}scenario","slot":"0"}]}]},{"N":"str","val":" scenarios found with same label."}]}]}]}]}]}]}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"fn","line":"39","name":"exists","C":[{"N":"intersect","op":"intersect","C":[{"N":"docOrder","intra":"0","C":[{"N":"varRef","name":"Q{}scenario","slot":"0"}]},{"N":"fn","name":"reverse","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}like","flags":"a"},{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]}]}]},{"N":"treat","line":"40","as":"NE","diag":"7|0|XTTE0505|match=\"x:like\" mode=\"x:unshare-scenarios\"","C":[{"N":"check","card":"+","diag":"7|0|XTTE0505|match=\"x:like\" mode=\"x:unshare-scenarios\"","C":[{"N":"message","C":[{"N":"callT","role":"select","line":"41","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}prefix-diag-message","bSlot":"3","C":[{"N":"withParam","name":"Q{}message","flags":"c","as":"1AS","C":[{"N":"str","val":"Reference to ancestor scenario creates infinite loop."}]}]},{"N":"str","role":"terminate","val":"yes"},{"N":"str","role":"error","val":"Q{http:\/\/www.w3.org\/2005\/xqt-errors}XTMM9000"}]}]}]},{"N":"true"},{"N":"treat","line":"48","as":"NE","diag":"7|0|XTTE0505|match=\"x:like\" mode=\"x:unshare-scenarios\"","C":[{"N":"check","card":"+","diag":"7|0|XTTE0505|match=\"x:like\" mode=\"x:unshare-scenarios\"","C":[{"N":"applyT","flags":"ct","bSlot":"-1","C":[{"N":"conditionalSort","role":"select","C":[{"N":"fn","name":"exists","C":[{"N":"tail","start":"2","C":[{"N":"varRef","name":"Q{}scenario","slot":"0"}]}]},{"N":"docOrder","intra":"1","C":[{"N":"slash","simple":"2","C":[{"N":"varRef","name":"Q{}scenario","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE"}]}]}]}]}]}]}]}]}]},{"N":"templateRule","prec":"0","prio":"0.5","seq":"7","rank":"1","minImp":"0","slots":"0","matches":"NA nQ{}shared","flags":"s","as":"0","line":"16","module":"unshare-scenarios.xsl","C":[{"N":"p.withUpper","role":"match","axis":"parent","upFirst":"false","C":[{"N":"p.nodeTest","test":"NA nQ{}shared"},{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"empty","role":"action"}]}]}]},{"N":"co","id":"99","binds":"","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}is-user-content","line":"9","module":"user-content-utils.xsl","flags":"pU","as":"1AB","slots":"1","C":[{"N":"arg","name":"Q{}node","as":"1N"},{"N":"fn","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"23","name":"exists","C":[{"N":"intersect","op":"intersect","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor-or-self","nodeTest":"N"}]}]},{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"union","op":"|","C":[{"N":"docOrder","intra":"0","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}context"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]}]},{"N":"docOrder","intra":"0","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}expect"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]},{"N":"fn","name":"empty","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]}]}]}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]},{"N":"docOrder","intra":"0","C":[{"N":"slash","simple":"2","C":[{"N":"slash","C":[{"N":"varRef","name":"Q{}node","slot":"0"},{"N":"fn","name":"reverse","C":[{"N":"axis","name":"ancestor","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"}]}]},{"N":"axis","name":"child","nodeTest":"N u[NE,NP,NT,NC]"}]}]}]}]}]}]}]},{"N":"co","id":"84","binds":"32 32 84","C":[{"N":"function","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}gather-descriptions","line":"13","module":"gather-descriptions.xsl","flags":"pU","as":"+NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","slots":"6","C":[{"N":"arg","name":"Q{}visit","as":"+NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"tailCallLoop","role":"body","ns":"local=urn:x-xspec:compiler:base:resolve-import:gather:gather-descriptions:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"33","C":[{"N":"let","var":"Q{}visited-actual-uris","as":"+AU","slot":"1","C":[{"N":"check","card":"+","diag":"3|0|XTTE0570|visited-actual-uris","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}visit","slot":"0"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}document-actual-uri","tailCall":"false","bSlot":"0","C":[{"N":"root"}]}]}]},{"N":"let","line":"39","var":"Q{}imported-except-visit","as":"*NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description","slot":"2","C":[{"N":"filter","line":"18","flags":"b","C":[{"N":"let","var":"Q{}nodes","as":"*N","slot":"3","C":[{"N":"forEach","C":[{"N":"let","var":"Q{}nodes","as":"*N","slot":"4","C":[{"N":"forEach","C":[{"N":"let","var":"Q{}nodes","as":"*N","slot":"5","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}visit","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}import"}]},{"N":"filter","line":"62","flags":"pb","C":[{"N":"varRef","name":"Q{}nodes","slot":"5"},{"N":"fn","name":"empty","C":[{"N":"among","op":"among","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}import"},{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}nodes","slot":"5"},{"N":"int","val":"1"},{"N":"arith","op":"-","calc":"i-i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]}]}]}]}]},{"N":"treat","line":"25","as":"ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]","diag":"2|0|XPDY0050|treat as","C":[{"N":"check","card":"1","diag":"2|0|XPDY0050|treat as","C":[{"N":"fn","name":"document","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}href"}]}]}]}]},{"N":"filter","line":"62","flags":"pb","C":[{"N":"varRef","name":"Q{}nodes","slot":"4"},{"N":"fn","name":"empty","C":[{"N":"among","op":"among","C":[{"N":"dot","type":"1ND e[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description]"},{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}nodes","slot":"4"},{"N":"int","val":"1"},{"N":"arith","op":"-","calc":"i-i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]}]}]}]}]},{"N":"axis","line":"29","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"}]},{"N":"filter","line":"62","flags":"pb","C":[{"N":"varRef","name":"Q{}nodes","slot":"3"},{"N":"fn","name":"empty","C":[{"N":"among","op":"among","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"fn","name":"subsequence","C":[{"N":"varRef","name":"Q{}nodes","slot":"3"},{"N":"int","val":"1"},{"N":"arith","op":"-","calc":"i-i","C":[{"N":"fn","name":"position"},{"N":"int","val":"1"}]}]}]}]}]}]},{"N":"and","line":"39","op":"and","C":[{"N":"fn","name":"empty","C":[{"N":"among","op":"among","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}description"},{"N":"varRef","name":"Q{}visit","slot":"0"}]}]},{"N":"fn","name":"not","C":[{"N":"gc","op":"=","card":"N:1","comp":"CCC","C":[{"N":"varRef","name":"Q{}visited-actual-uris","slot":"1"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}document-actual-uri","tailCall":"false","bSlot":"1","C":[{"N":"root"}]}]}]}]}]},{"N":"choose","line":"41","C":[{"N":"fn","line":"42","name":"empty","C":[{"N":"varRef","name":"Q{}imported-except-visit","slot":"2"}]},{"N":"varRef","line":"43","name":"Q{}visit","slot":"0"},{"N":"true"},{"N":"ufCall","line":"46","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}gather-descriptions","tailCall":"self","bSlot":"2","C":[{"N":"sequence","C":[{"N":"varRef","name":"Q{}visit","slot":"0"},{"N":"varRef","name":"Q{}imported-except-visit","slot":"2"}]}]}]}]}]}]}]}]},{"N":"co","id":"20","binds":"","C":[{"N":"globalParam","name":"Q{}force-focus","as":"?AS","line":"22","module":"main.xsl","visibility":"PUBLIC","C":[{"N":"empty"}]}]},{"N":"co","id":"91","binds":"92 39","C":[{"N":"function","name":"Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-map-entry","line":"181","module":"transform-options.xsl","flags":"pU","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}map-entry","slots":"1","C":[{"N":"arg","name":"Q{}param","as":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"elem","role":"body","ns":"=http:\/\/www.w3.org\/1999\/XSL\/TransformAlias local=urn:x-xspec:compiler:xslt:external:transform-options:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"184","name":"xsl:map-entry","nsuri":"http:\/\/www.w3.org\/1999\/XSL\/Transform","namespaces":"xsl","C":[{"N":"sequence","C":[{"N":"att","name":"key","flags":"l","C":[{"N":"fn","name":"string-join","C":[{"N":"forEach","C":[{"N":"varRef","name":"Q{}param","slot":"0"},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}QName-expression-from-EQName-ignoring-default-ns","tailCall":"false","bSlot":"0","C":[{"N":"check","card":"1","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:QName-expression-from-EQName-ignoring-default-ns","C":[{"N":"attVal","name":"Q{}name"}]}]}]},{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"}]}]},{"N":"str","val":" "}]}]},{"N":"ufCall","line":"185","name":"Q{urn:x-xspec:compiler:xslt:external:transform-options:local}param-to-select-attr","tailCall":"false","bSlot":"1","C":[{"N":"varRef","name":"Q{}param","slot":"0"}]}]}]}]}]},{"N":"co","id":"5","binds":"36 7 36","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}invoke-compiled-current-scenario-or-expect","cxt":"1NE","flags":"s","as":"1NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template","line":"11","module":"invoke-compiled-current-scenario-or-expect.xsl","slots":"2","C":[{"N":"let","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"28","var":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","as":"1AS","slot":"1","flags":"l","C":[{"N":"convert","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"0"}]},{"N":"sequence","line":"18","C":[{"N":"param","name":"Q{}with-param-uqnames","slot":"0","flags":"r","as":"*AS","C":[{"N":"convert","role":"conversion","from":"A","to":"AS","flags":"p","diag":"8|0|XTTE0590|with-param-uqnames","C":[{"N":"cvUntyped","to":"AS","diag":"8|0|XTTE0590|with-param-uqnames","C":[{"N":"data","diag":"8|0|XTTE0590|with-param-uqnames","C":[{"N":"supplied","slot":"0"}]}]}]}]},{"N":"treat","line":"20","as":"NE nQ{http:\/\/www.w3.org\/1999\/XSL\/Transform}call-template","diag":"7|0|XTTE0505|x:invoke-compiled-current-scenario-or-expect","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"xsl:call-template"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}xsl-namespace","bSlot":"2"}]},{"N":"sequence","role":"content","line":"21","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}known-UQName","tailCall":"false","bSlot":"1","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"x:"},{"N":"attVal","name":"Q{}id"}]}]}]},{"N":"choose","line":"23","C":[{"N":"fn","name":"exists","C":[{"N":"axis","name":"self","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"procInst","line":"24","flags":"l","C":[{"N":"str","role":"name","val":"origin"},{"N":"fn","role":"select","name":"local-name","C":[{"N":"dot","type":"1NE"}]}]}]},{"N":"forEach","line":"27","C":[{"N":"varRef","name":"Q{}with-param-uqnames","slot":"0"},{"N":"compElem","line":"28","flags":"l","C":[{"N":"str","role":"name","val":"xsl:with-param"},{"N":"varRef","role":"namespace","name":"Q{http:\/\/saxon.sf.net\/generated-variable}v0","slot":"1"},{"N":"sequence","role":"content","line":"29","C":[{"N":"att","name":"name","flags":"l","C":[{"N":"dot","type":"1AS"}]},{"N":"att","line":"30","name":"select","flags":"l","C":[{"N":"fn","name":"concat","C":[{"N":"str","val":"$"},{"N":"dot","type":"1AS"}]}]}]}]}]}]}]}]}]}]}]}]},{"N":"co","id":"95","binds":"22","C":[{"N":"globalVariable","name":"Q{http:\/\/saxon.sf.net\/generated-variable}gg1537912396","as":"1AB","line":"13","module":"perform-initial-check.xsl","visibility":"PRIVATE","C":[{"N":"vc","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"13","op":"lt","onEmpty":"0","comp":"CAVC","C":[{"N":"gVarRef","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}saxon-version","bSlot":"0"},{"N":"arith","module":"version-utils.xsl","line":"56","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"arith","line":"54","op":"+","calc":"i+i","C":[{"N":"int","val":"589824"},{"N":"first","line":"50","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"2","C":[{"N":"int","val":"9"},{"N":"int","val":"8"}]},{"N":"int","val":"2"}]},{"N":"int","val":"0"}]}]}]},{"N":"int","val":"65536"}]},{"N":"int","val":"65536"}]},{"N":"arith","line":"51","op":"+","calc":"i+i","C":[{"N":"arith","op":"*","calc":"i*i","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"2","C":[{"N":"int","val":"9"},{"N":"int","val":"8"}]},{"N":"int","val":"3"}]},{"N":"int","val":"0"}]}]},{"N":"int","val":"65536"}]},{"N":"first","line":"52","C":[{"N":"sequence","C":[{"N":"subscript","C":[{"N":"literal","count":"2","C":[{"N":"int","val":"9"},{"N":"int","val":"8"}]},{"N":"int","val":"4"}]},{"N":"int","val":"0"}]}]}]}]}]}]}]},{"N":"co","id":"74","binds":"","C":[{"N":"globalVariable","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}deq-namespace","as":"1AU","line":"10","module":"namespace-utils.xsl","visibility":"PRIVATE","C":[{"N":"atomic","val":"urn:x-xspec:common:deep-equal","type":"AU"}]}]},{"N":"co","id":"63","binds":"46 42","C":[{"N":"template","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}enter-sut","cxt":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario","flags":"s","as":"+N","line":"10","module":"enter-sut.xsl","slots":"1","C":[{"N":"sequence","role":"body","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","line":"13","C":[{"N":"param","name":"Q{}instruction","slot":"0","flags":"r","as":"+N","C":[{"N":"treat","role":"conversion","as":"N","diag":"8|0|XTTE0590|instruction","C":[{"N":"check","card":"+","diag":"8|0|XTTE0590|instruction","C":[{"N":"supplied","slot":"0"}]}]}]},{"N":"choose","line":"15","C":[{"N":"ufCall","line":"16","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}yes-no-synonym","tailCall":"false","bSlot":"0","C":[{"N":"convert","from":"AZ","to":"AS","flags":"p","diag":"0|0||x:yes-no-synonym","C":[{"N":"cvUntyped","to":"AS","diag":"0|0||x:yes-no-synonym","C":[{"N":"slash","C":[{"N":"first","C":[{"N":"filter","flags":"b","C":[{"N":"slash","simple":"1","C":[{"N":"dot","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"axis","name":"ancestor-or-self","nodeTest":"NE"}]},{"N":"fn","name":"exists","C":[{"N":"axis","name":"attribute","nodeTest":"NA nQ{}catch"}]}]}]},{"N":"attVal","name":"Q{}catch"}]}]}]},{"N":"false"}]},{"N":"callT","line":"17","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}try-catch","bSlot":"1","flags":"t","C":[{"N":"withParam","name":"Q{}instruction","flags":"c","as":"1NE","C":[{"N":"treat","line":"18","as":"NE","diag":"8|0|XTTE0590|instruction","C":[{"N":"check","card":"1","diag":"8|0|XTTE0590|instruction","C":[{"N":"varRef","name":"Q{}instruction","slot":"0"}]}]}]}]},{"N":"true"},{"N":"varRef","line":"22","name":"Q{}instruction","slot":"0"}]}]}]}]},{"N":"overridden"},{"N":"key","name":"Q{urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local}scenarios","line":"57","module":"unshare-scenarios.xsl","slots":"1","binds":"","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"let","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"57","var":"Q{}labelled","as":"1NE","slot":"0","C":[{"N":"dot","ns":"local=urn:x-xspec:compiler:base:combine:mode:unshare-scenarios:local x=http:\/\/www.jenitennison.com\/xslt\/xspec xsl=~ xml=~","type":"1NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"data","module":"compiler-misc-utils.xsl","line":"13","diag":"4|0||xsl:key\/use","C":[{"N":"treat","as":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label","diag":"5|0|XTTE0780|x:label#1","C":[{"N":"compElem","C":[{"N":"str","role":"name","val":"label"},{"N":"convert","role":"namespace","from":"AU","to":"AS","C":[{"N":"fn","name":"namespace-uri","C":[{"N":"varRef","name":"Q{}labelled","slot":"0"}]}]},{"N":"valueOf","role":"content","line":"14","flags":"l","C":[{"N":"convert","from":"A","to":"AS","C":[{"N":"data","C":[{"N":"first","C":[{"N":"sequence","C":[{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"0"},{"N":"axis","name":"child","nodeTest":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}label"}]},{"N":"slash","simple":"1","C":[{"N":"varRef","name":"Q{}labelled","slot":"0"},{"N":"axis","name":"attribute","nodeTest":"NA nQ{}label"}]}]}]}]}]}]}]}]}]}]}]},{"N":"accumulator","name":"Q{}stacked-vardecls","line":"0","as":"*NE","streamable":"0","slots":"0","binds":"","C":[{"N":"empty","role":"init"},{"N":"pre","slots":"0","C":[{"N":"accRule","slots":"2","rank":"0","C":[{"N":"p.venn","op":"union","C":[{"N":"p.withUpper","axis":"parent","upFirst":"false","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"p.withUpper","axis":"parent","upFirst":"false","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"},{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]},{"N":"sequence","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"51","C":[{"N":"supplied","slot":"0","sType":"*NE"},{"N":"axis","name":"self","nodeTest":"NE u[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param,NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable]"}]}]}]},{"N":"post","slots":"0","C":[{"N":"accRule","slots":"2","rank":"0","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"except","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"55","op":"except","C":[{"N":"docOrder","intra":"0","C":[{"N":"supplied","slot":"0","sType":"*NE"}]},{"N":"axis","name":"child","nodeTest":"NE u[NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param,NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable]"}]}]}]}]},{"N":"accumulator","name":"Q{}stacked-vardecls-distinct-uqnames","line":"0","as":"*AS","streamable":"0","slots":"0","binds":"94 26 94 26","C":[{"N":"empty","role":"init"},{"N":"pre","slots":"0","C":[{"N":"accRule","slots":"2","rank":"0","C":[{"N":"p.venn","op":"union","C":[{"N":"p.withUpper","axis":"parent","upFirst":"false","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}param"},{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]},{"N":"p.withUpper","axis":"parent","upFirst":"false","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}variable"},{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"}]}]},{"N":"ufCall","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"66","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}distinct-strings-stable","tailCall":"false","bSlot":"0","C":[{"N":"forEach","C":[{"N":"fn","name":"accumulator-before","C":[{"N":"str","val":"stacked-vardecls"}]},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"1","C":[{"N":"dot","type":"1NE"}]}]}]}]}]},{"N":"post","slots":"0","C":[{"N":"accRule","slots":"2","rank":"0","C":[{"N":"p.nodeTest","test":"NE nQ{http:\/\/www.jenitennison.com\/xslt\/xspec}scenario"},{"N":"ufCall","ns":"x=http:\/\/www.jenitennison.com\/xslt\/xspec xs=~ xsl=~ xml=~","line":"71","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}distinct-strings-stable","tailCall":"false","bSlot":"2","C":[{"N":"forEach","C":[{"N":"fn","name":"accumulator-after","C":[{"N":"str","val":"stacked-vardecls"}]},{"N":"ufCall","name":"Q{http:\/\/www.jenitennison.com\/xslt\/xspec}variable-UQName","tailCall":"false","bSlot":"3","C":[{"N":"dot","type":"1NE"}]}]}]}]}]}]},{"N":"output","C":[{"N":"property","name":"indent","value":"yes"},{"N":"property","name":"Q{http:\/\/saxon.sf.net\/}stylesheet-version","value":"30"}]},{"N":"decimalFormat"}],"":"a464dd6f"}