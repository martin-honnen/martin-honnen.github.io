<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Exploring Javascript &lt;-->XDM conversion in Saxon-JS</title>
		<meta charset="utf-8">
		<script src="../../Saxon-JS-1.0.0/SaxonJS.min.js"></script>
		<script>		
var input1 =  {
  "cities": [
    {
      "name": "Milano",
      "pop": 5,
      "country": "Italia"
    },
    {
      "name": "Paris",
      "pop": 7,
      "country": "France"
    },
    {
      "name": "MÃ¼nchen",
      "pop": 4,
      "country": "Deutschland"
    },
    {
      "name": "Lyon",
      "pop": 2,
      "country": "France"
    },
    {
      "name": "Venezia",
      "pop": 1,
      "country": "Italia"
    }
  ]
}
		</script>
		<script>
		document.addEventListener('DOMContentLoaded',
			function() {
			  document.getElementById('input1').textContent = JSON.stringify(input1, null, '\t'); 
			  
			  var xpathExpressions = [
			  	  '.',
			  	  'serialize(.)',
			  	  '?cities',
			  	  'serialize(?cities)',
			  	  '?cities?*',
			  	  'serialize(?cities?*)'
			  ];
			  
			  var results = document.getElementById('results');
			  
			  xpathExpressions.forEach(function(xpath) {
			    var result = SaxonJS.XPath.evaluate(xpath, input1);
			    console.log(result);
			    var section = document.createElement('section');
			    var heading = document.createElement('h3');
			    var code = heading.appendChild(document.createElement('code'));
			    code.textContent = xpath;
			    section.appendChild(heading);
			    var code = section.appendChild(document.createElement('pre')).appendChild(document.createElement('code'));
			    code.textContent = JSON.stringify(result, null, '\t');
			    results.appendChild(section);
			  });	  

			},
			false
		);                                                                                                                                                                                                                      
		</script>
				
	</head>
	<body>
		<section>
			<h1>Exploring Javascript &lt;-->XDM conversion in Saxon-JS</h1>
			<section>
				<h2>Example input</h2>
				<pre><code id="input1"></code></pre>
			</section>
			<section id=results>
				<h2>Example XPath results</h2>
			</section>
		</section>
	</body>
</html>