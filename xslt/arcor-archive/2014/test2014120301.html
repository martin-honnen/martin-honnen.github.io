<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Saxon CE test</title>
    <script src="../saxonceDebug/Saxonce.nocache.js"></script>
    <script>
    function onSaxonLoad()
    {
      Saxon.setLogLevel('SEVERE');
      var errors = [];
      Saxon.setErrorHandler(function(error) { errors.push(error); });

      var xslt = Saxon.requestXML("test2014120301.xsl")
      var xsltProc = Saxon.newXSLT20Processor(xslt);
      
      xsltProc.setInitialTemplate("main");
      
      var errorCount = errors.length;
      var doc = xsltProc.transformToDocument();
      if (errorCount < errors.length) {
        var msg = errors[errors.length - 1].message;
        var pre = document.createElement('pre');
        pre.textContent = msg;
        document.body.appendChild(pre);
      }
      else {
        // use result document doc here
      }      
      
    }
    </script>
  </head>
    <body>
    <h1>Saxon CE Test</h1>
    </body>
</html>
