<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CheerpJ 3.0 Apache Fop 2.9 test</title>

    <!--<script src="https://cjrtnc.leaningtech.com/3_20231007_209/cj3loader.js"></script>-->
    <!--<script src="https://cjrtnc.leaningtech.com/3_20231007_210/cj3loader.js"></script>-->
    <!--<script src="https://cjrtnc.leaningtech.com/3.0rc1/cj3loader.js"></script>-->
	  <!--<script src="https://cjrtnc.leaningtech.com/3_20231103_261/cj3loader.js"></script>-->
    <script src="https://cjrtnc.leaningtech.com/3_20231104_264/cj3loader.js"></script>-->
    <!--<script src="https://cjrtnc.leaningtech.com/3_20231104_265/cj3loader.js"></script>
    <script>   
     async function init() {
	
	  try {
		  await cheerpjInit();

		  document.querySelector('#cheerpj3-load-indicator').style.display = 'none';
		  
		  cheerpjAddStringFile("/str/simple.fo", `<fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format">
    <fo:layout-master-set>
        <fo:simple-page-master master-name="sample">
            <fo:region-body/>
        </fo:simple-page-master>
    </fo:layout-master-set>
    <fo:page-sequence master-reference="sample">
        <fo:flow flow-name="xsl-region-body">
            <fo:block>Sample FO document</fo:block>
        </fo:flow>
    </fo:page-sequence>
</fo:root>`);

          result = await cheerpjRunMain("org.apache.fop.cli.Main", "/app/cheerpj3-fop29/fop-2.9.jar:/app/cheerpj3-fop29/fop-core-2.9.jar:/app/cheerpj3-fop29/fop-events-2.9.jar:/app/cheerpj3-fop29/fop-util-2.9.jar:/app/cheerpj3-fop29/batik-anim-1.17.jar:/app/cheerpj3-fop29/batik-awt-util-1.17.jar:/app/cheerpj3-fop29/batik-bridge-1.17.jar:/app/cheerpj3-fop29/batik-codec-1.17.jar:/app/cheerpj3-fop29/batik-constants-1.17.jar:/app/cheerpj3-fop29/batik-css-1.17.jar:/app/cheerpj3-fop29/batik-dom-1.17.jar:/app/cheerpj3-fop29/batik-ext-1.17.jar:/app/cheerpj3-fop29/batik-extension-1.17.jar:/app/cheerpj3-fop29/batik-gvt-1.17.jar:/app/cheerpj3-fop29/batik-i18n-1.17.jar:/app/cheerpj3-fop29/batik-parser-1.17.jar:/app/cheerpj3-fop29/batik-script-1.17.jar:/app/cheerpj3-fop29/batik-shared-resources-1.17.jar:/app/cheerpj3-fop29/batik-svg-dom-1.17.jar:/app/cheerpj3-fop29/batik-svggen-1.17.jar:/app/cheerpj3-fop29/batik-transcoder-1.17.jar:/app/cheerpj3-fop29/batik-util-1.17.jar:/app/cheerpj3-fop29/batik-xml-1.17.jar:/app/cheerpj3-fop29/commons-io-2.11.0.jar:/app/cheerpj3-fop29/commons-logging-1.0.4.jar:/app/cheerpj3-fop29/fontbox-2.0.27.jar:/app/cheerpj3-fop29/xml-apis-1.4.01.jar:/app/cheerpj3-fop29/xml-apis-ext-1.3.04.jar:/app/cheerpj3-fop29/xmlgraphics-commons-2.9.jar", "/str/simple.fo", "/files/simple.pdf");				
	
		  document.querySelector('#main-load-indicator').style.display = 'none';
	  }
	  catch (e) {
	    await e.printStackTrace();
      }
    }

    document.addEventListener('DOMContentLoaded', init);
    </script>

</head>
<body>
<div id="cheerpj3-load-indicator" style="color: red; font-weight: bolder; text-align: center;">CheerpJ 3 is not (yet) initialized.</div>
<div id="main-load-indicator" style="color: red; font-weight: bolder; text-align: center;">Main not (yet) run.</div>
</body>
</html>
