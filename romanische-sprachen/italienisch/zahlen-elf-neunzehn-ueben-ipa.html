<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Italienische Zahlen üben: 11–19</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 50px; }
    input, button { font-size: 1.2em; padding: 5px; }
    #feedback { margin-top: 20px; font-size: 1.2em; }
    .ipa { font-style: italic; color: #555; }
  </style>
</head>
<body>
  <h1>Italienische Zahlen von 11 bis 19</h1>
  <form onsubmit="checkAnswer(); return false;">
  <p id="question"></p>
  <input type="text" id="answer" placeholder="Italienisches Wort eingeben">
  <button id="check" type="submit">Überprüfen</button>
  <div id="feedback"></div>
  <div id="repeat" style="display:none;"><button type="button" onclick="init();">Wiederholen</button>
  </div>
  <audio id="audio" controls style="display:none;"></audio>
  </form>

  <script>
    const questions = [
      { num: 11, word: "undici", ipa: "[ˈunditʃi]" },
      { num: 12, word: "dodici", ipa: "[ˈdɔditʃi]" },
      { num: 13, word: "tredici", ipa: "[ˈtrɛditʃi]" },
      { num: 14, word: "quattordici", ipa: "[kwatˈtɔrditʃi]" },
      { num: 15, word: "quindici", ipa: "[ˈkwinditʃi]" },
      { num: 16, word: "sedici", ipa: "[ˈsɛditʃi]" },
      { num: 17, word: "diciassette", ipa: "[ditʃasˈsɛtte]" },
      { num: 18, word: "diciotto", ipa: "[diˈtʃɔtto]" },
      { num: 19, word: "diciannove", ipa: "[ditʃanˈnɔve]" }
    ];

    var correctAnswers, current, numbers;

    function init() {
      current = null;
      correctAnswers = 0;
      numbers = questions.slice();
      shuffle(numbers);

      document.getElementById("answer").style.display = "";
      document.getElementById("check").style.display = "";
      document.getElementById("repeat").style.display = 'none';

      nextQuestion();
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function nextQuestion() {
      if (numbers.length === 0) {
        document.getElementById("question").textContent = `Fertig! Du hast alle Zahlen geübt. Ergebnis: ${correctAnswers} von ${questions.length} richtig.`;
        document.getElementById("answer").style.display = "none";
        document.querySelector("button").style.display = "none";
        document.querySelector("#repeat").style.display = '';
        return;
      }
      current = numbers.pop();
      document.getElementById("question").textContent = `Wie heißt ${current.num} auf Italienisch?`;
      document.getElementById("answer").value = "";
      document.getElementById("feedback").textContent = "";
      document.getElementById("answer").focus();
    }

    function checkAnswer() {
      const userInput = document.getElementById("answer").value.trim().toLowerCase();
      const feedback = document.getElementById("feedback");

      let result = "";
      let correct = userInput === current.word;
      if (correct) {
        result = "✅ Richtig!";
        correctAnswers++;
      } else {
        result = `❌ Falsch.`;
      }

      feedback.innerHTML = `${result}<br>Richtig ${correct?'ist':'wäre'}: <strong>${current.word}</strong> <span class="ipa">${current.ipa}</span>`;

      audio.src = `./tts/audio/numeri/${current.word}.mp3`;
      audio.style.display = "inline";
      audio.play();

      setTimeout(nextQuestion, 4000);
    }
    init();
  </script>
  <p><em>Die benutzten Audiodateien wurden mit Microsoft Azure Text-to-Speech generiert.</em></p>
</body>
</html>
